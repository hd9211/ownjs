<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>知乎日报</title>
            <link>https://news-at.zhihu.com/api/4/stories/latest?client=0</link>
            <description>知乎日报</description>
<item>
<guid>85bcf6c950cb67949a6ad7e0317fa358</guid>
<title>地球的圆是什么程度的圆？</title>
<link>https://daily.zhihu.com/story/9733652</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;
&lt;img src=&quot;https://pic4.zhimg.com/v2-2adba3d6a0dbfb19fe0c2df3debd3cdc_l.jpg?source=8673f162&quot;&gt;
&lt;span&gt;黄泽森，&lt;/span&gt;&lt;span&gt;空间物理博士生&lt;/span&gt;
&lt;a href=&quot;https://www.zhihu.com/question/347990874/answer/857652465&quot; hidden&gt;阅读原文&lt;/a&gt;
&lt;/div&gt;&lt;div&gt;
&lt;p&gt;&lt;strong&gt;简单来说，地球的扁率是 0.00335，也就是说（赤道半径 - 两极半径）/ 赤道半径 ~0.00335，换言之就是差千分之三就是完美的圆。&lt;/strong&gt;&lt;strong&gt;你看这地球，它又大又圆……咦？不是圆的？&lt;/strong&gt;&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-ed26022e5f5db00e6da85ab2fdcaf583_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;figcaption&gt;由阿波罗 17 号宇航员拍摄的地球，也就是著名的“蓝色弹珠”https://www.nasa.gov/content/blue-marble-image-of-the-earth-from-apollo-17&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;地球到底有多扁？我们可以做一个简单的估算：&lt;/p&gt;&lt;p&gt;我们可以计算一下大地的等势面，先建立一个简单的坐标系：&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-0df8917cc5f74bce99a337a6848d751e_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;我们可以利用高中知识，很简单地列出等势面方程：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=U%3D-%5Cfrac%7BGM%7D%7Br%7D%2B%5Cfrac%7B1%7D%7B2%7D%5Comega%5E2r%5E2cos%5E2%5Cphi%3D%E5%B8%B8%E6%95%B0&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;那么对于&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=%5Cphi%3D0&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;和&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=%5Cphi%3D90%5E%5Ccirc&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;我们有：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=U%7C%7B%5Cphi%3D0%5E%5Ccirc%7D%3D-%5Cfrac%7BGM%7D%7Ba%7D%2B%5Cfrac%7B1%7D%7B2%7D%5Comega%5E2a%5E2%5C%5C++U%7C%7B%5Cphi%3D90%5E%5Ccirc%7D%3D-%5Cfrac%7BGM%7D%7Bc%7D%5C%5C+U%7C%7B%5Cphi%3D0%5E%5Ccirc%7D%3DU%7C%7B%5Cphi%3D90%5E%5Ccirc%7D&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;从而我们得到：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=f%3D%5Cfrac%7Ba-c%7D%7Ba%7D%3D%5Cfrac%7B1%7D%7B2%7D%5Cfrac%7B%5Comega%5E2a%5E3%7D%7BGM%7D%3D%5Cfrac%7B1%7D%7B2%7Dq%5C%5C+q%3D%5Cfrac%7B%5Comega%5E2a%5E3%7D%7BGM%7D+&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;其中&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=f&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;是扁率(Flattening)，&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=q&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;是转动系数(Rotational Parameter)&lt;/p&gt;&lt;p&gt;那么我们就来验证一下我们做的对不对吧~(●&#x27;◡&#x27;●)&lt;/p&gt;&lt;p&gt;这里我们参考了[3]的数据&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-e4a0cb03717aa1d72b5e6f5a211a8ea1_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;咦 w(ﾟДﾟ)w 好像不是那么对头欸……为啥偏差这么大？我们一定有地方做错了什么┑(￣Д ￣)┍&lt;/p&gt;&lt;p&gt;我们先来看看重力势能的公式：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=V%3D-%5Cfrac%7BGM%7D%7Br%7D&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;这个公式假定了地球可以被当成一个质点，但实际上在计算大地水准面的时候我们不能把地球当成一个质点——我们应该考虑更高阶的变量！重力场是一个无源场，换言之，在没有质量的空间，重力势能满足：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=%5Cnabla%5E2V%3D0&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;而在球坐标系下 V 的解为：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=V_n%5Em%28r%2C%5Ctheta%2C%5Cphi%29%3DR_n%28r%29Y_n%5Em%28%5Ctheta%2C%5Cphi%29%3D%5C%7Br%5En%2Cr%5E%7B-%28n%2B1%29%7D%5C%7DP_n%5Em%28cos%5Ctheta%29e%5E%7B-im%5Cphi%7D%5C%5CV%3D%5Csum_%7Bn%3D0%7D%5E%7B%2B%5Cinfty%7D%5Csum_%7Bm%3D0%7D%5E%7B%2B%5Cinfty%7DV_n%5Em&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-2cefeacbddedb7467f254350be9340a8_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;先别怕，我们来一项一项解释(●&#x27;◡&#x27;●)我们先看看球坐标系：&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-ba8a8989fb306e95a7a88f17d9c11540_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;重力势能中的第一部分：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=R_n%28r%29%3D%5C%7Br%5En%2Cr%5E%7B-%28n%2B1%29%7D%5C%7D&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;代表的是重力势能随距离变化的趋势，这里我们只取 n&amp;lt;0 的部分。&lt;/p&gt;&lt;p&gt;重力势能中的第二部分：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=Y_n%5Em%28%5Ctheta%2C%5Cphi%29%3DP_n%5Em%28cos%5Ctheta%29e%5E%7B-im%5Cphi%7D&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;代表的是重力势能随经向（东西）和纬向（南北）变化的趋势，这里 m 代表的是东西方向，n 代表的是南北方向。我们假定地球在东西方向是均匀的，仅有南北方向的变化。&lt;/p&gt;&lt;p&gt;那么，最终重力势能的表达式如下：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=V%3D-GM%5Csum_%7Bn%3D0%7D%5E%7B%2B%5Cinfty%7Dr%5E%7B-%28n%2B1%29%7DP_n%5E0%28cos%5Ctheta%29%5C%5C+%3D-%5Cfrac%7BGM%7D%7Br%7D%5B1-J_1%5Cfrac%7Ba%7D%7Br%7D%7Bcos%5Ctheta%7D-J_2%28%5Cfrac%7Ba%7D%7Br%7D%29%5E2%5Cfrac%7B1%7D%7B2%7D%283%5Ccos%5E2%5Ctheta-1%29%2Bo%28r%5E%7B-2%7D%29%5D&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;其中&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=J_1&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;和&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=J_2&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;是待定的系数。&lt;/p&gt;&lt;p&gt;我们现在来观察一下上面的式子，我们可以发现，重力势能由三项组成，分别是：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=+V_0%3D-%5Cfrac%7BGM%7D%7Br%7D%5C%5C+V_1%3DJ_1%5Cfrac%7Ba%7D%7Br%7Dcos%5Ctheta%5Cfrac%7BGM%7D%7Br%7D%5C%5CV_2%3DJ_2%28%5Cfrac%7Ba%7D%7Br%7D%29%5E2%5Cfrac%7B1%7D%7B2%7D%283cos%5E2%5Ctheta-1%29%5Cfrac%7BGM%7D%7Br%7D&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;第一项是常见质点产生的重力势能，在这里就是 0 阶近似。&lt;/p&gt;&lt;p&gt;第二项是重力势能的一阶近似，在这里考虑到地球的南北近似，应该有：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=V_1%7C_%7B%5Ctheta%3D0%5E%5Ccirc%7D%3DV_1%7C_%7B%5Ctheta%3D180%5E%5Ccirc%7D%5C&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;所以&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=J_1&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;应该为 0&lt;/p&gt;&lt;p&gt;第三项是重力势能的二阶近似，也就是我们需要的修正项了( •̀ ω •́ )y&lt;/p&gt;&lt;p&gt;(ಥ _ ಥ)历经千辛万苦，我们终于可以对我们求地球扁率的公式进行修正了！&lt;/p&gt;&lt;p&gt;我们的总势能如下（注意到这里把&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=%5Ctheta&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;换成了图 3 的&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=%5Cphi&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;，&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=%5Cphi%3D%5Cpi%2F2-%5Ctheta&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;）：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=U%3D-%5Cfrac%7BGM%7D%7Br%7D%5B1-J_2%28%5Cfrac%7Ba%7D%7Br%7D%29%5E2%5Cfrac%7B1%7D%7B2%7D%283%5Csin%5E2%5Cphi-1%29%5D%2B%5Cfrac%7B1%7D%7B2%7D%5Comega%5E2r%5E2cos%5E2%5Cphi%3D%E5%B8%B8%E6%95%B0%5C%5C+U%28%5Cphi%3D0%29%3D-%5Cfrac%7BGM%7D%7Ba%7D-%5Cfrac%7BGM%7D%7B2a%7DJ_2-%5Cfrac%7B1%7D%7B2%7D%5Comega%5E2a%5E2%5C%5C+U%28%5Cphi%3D90%29%5Capprox-%5Cfrac%7BGM%7D%7Bc%7D%2B%5Cfrac%7BGM%7D%7Ba%7DJ_2%5C%5C+U%28%5Cphi%3D0%29%3DU%28%5Cphi%3D90%29%5C%5C+f%3D%5Cfrac%7B3%7D%7B2%7DJ_2%2B%5Cfrac%7B1%7D%7B2%7Dq&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;我们得到了修正后的扁率&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=f&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;！现在我们再来验证一下修正后的扁率对不对吧~&lt;/p&gt;&lt;p&gt;这里我们参考了[4]的&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=J_2&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;数据：&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-ba017b50f7deaaa9d702bfa9bdb1ec94_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;我们可以发现扁率计算值和实际值基本上就没有很大的偏差了~o(&lt;em&gt;￣▽￣&lt;/em&gt;)ブ&lt;/p&gt;&lt;p&gt;引用：&lt;/p&gt;&lt;p&gt;[1] &lt;a href=&quot;http://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Grade_measurement&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span&gt;https://&lt;/span&gt;&lt;span&gt;en.wikipedia.org/wiki/G&lt;/span&gt;&lt;span&gt;rade_measurement&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;[2] &lt;a href=&quot;http://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Geoid&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span&gt;https://&lt;/span&gt;&lt;span&gt;en.wikipedia.org/wiki/G&lt;/span&gt;&lt;span&gt;eoid&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;[3] &lt;a href=&quot;http://link.zhihu.com/?target=https%3A//www.smartconversion.com/otherInfo/Ellipticity_Flattening_of_planets_and_the_sun.aspx&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span&gt;https://www.&lt;/span&gt;&lt;span&gt;smartconversion.com/oth&lt;/span&gt;&lt;span&gt;erInfo/Ellipticity_Flattening_of_planets_and_the_sun.aspx&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;[4] &lt;a href=&quot;http://link.zhihu.com/?target=http%3A//hosting.astro.cornell.edu/academics/courses/astro6570/Rotation_precession_gravity_fields.pdf&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span&gt;http://&lt;/span&gt;&lt;span&gt;hosting.astro.cornell.edu&lt;/span&gt;&lt;span&gt;/academics/courses/astro6570/Rotation_precession_gravity_fields.pdf&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div&gt;&lt;a href=&quot;https://www.zhihu.com/question/347990874&quot;&gt;阅读原文&lt;span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
<pubDate>Tue, 02 Mar 2021 23:07:16 GMT</pubDate>
</item>
<item>
<guid>624de80ebd058f1d730fdb93860358cb</guid>
<title>力到底是个什么东西？</title>
<link>https://daily.zhihu.com/story/9733641</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;
&lt;img src=&quot;https://pic2.zhimg.com/v2-4880ef2b75fa89d855b2090c5c7a2de0_l.jpg?source=8673f162&quot;&gt;
&lt;span&gt;子乾，&lt;/span&gt;&lt;span&gt;兴趣使然的科普&lt;/span&gt;
&lt;a href=&quot;https://www.zhihu.com/question/353811549/answer/939685649&quot; hidden&gt;阅读原文&lt;/a&gt;
&lt;/div&gt;&lt;div&gt;
&lt;p&gt;&lt;strong&gt;咦，力还真的是个东西！&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;那么有的小朋友要问了，力是个什么东西呢？&lt;/p&gt;&lt;p&gt;我想了一下，力就是下面这个球：&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-5978d38d9b78a09b5d0d0695af899138_720w.gif?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;&lt;strong&gt;不过严格地说，「力」是「相互作用」在低能下的近似表现。&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;完整的相互作用是非常复杂的，但是当考虑的能量是我们日常生活的能量的话，这些复杂的相互作用就会退化到经典的理论，比如牛顿万有引力定律，以及电荷之间的库仑定律。&lt;/strong&gt;为了方便，下文中不严格区分「力」与「相互作用」。&lt;/p&gt;&lt;p&gt;目前，已经发现了四种力：&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-81e6993a2c508827b04d4d41b5bbf78d_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;而这四种力的成因在微观上可以分为两类：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;strong&gt;通过基本粒子（中间玻色子）交换产生力。电磁相互作用、弱相互作用以及强相互作用，这三种就是通过交换基本粒子产生的，比如电磁力就是通过交换光子，强相互作用通过交换胶子；&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;空间弯曲影响物质的运动，产生力的效果。这个就是万有引力在广义相对论中的解释。&lt;/strong&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;strong&gt;1、通过基本粒子（中间玻色子）交换产生力&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;这一点可以从目前的粒子物理标准模型看出来。标准模型中的粒子如下图所示：&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-038859e26b6a356a103f1324d56c7c0e_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;figcaption&gt;粒子物理标准模型&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;在粒子物理标准模型中，宇宙中的物质（不包含暗物质）是由费米子构成的，费米子之间的相互作用是通过交换中间玻色子产生的的。&lt;strong&gt;费米子包括：夸克、电子和中微子；中间玻色子包括：光子、W/Z 玻色子、胶子。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;光子传递电磁相互作用；W/Z 玻色子传递弱相互作用；胶子传递强相互作用。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;用具体例子来说：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;夸克与夸克之间通过交换胶子形成质子或者中子，表现出来就是夸克通过强相互作用结合在一起；&lt;/li&gt;&lt;li&gt;电子和原子核通过交换光子形成原子，表现出来就是通过电磁力结合在一起。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;所以，基本粒子中的费米子的作用是构成物质，玻色子的作用是传递力。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;从这个角度来说，（电磁、弱、强）力和物质一样，都是基本粒子（表现出来的）！&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;但是，有的物理学家进一步思考，能不能把上图中费米子和玻色子统一起来，或者说「物质与力统一起来」，就提出了所谓的&lt;/p&gt;&lt;p&gt;&lt;strong&gt;超对称理论！&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;超对称理论认为标准模型中的每一种玻色子都有一对应的费米子，每一种费米子都有对应的玻色子，这些粒子被称为超对称粒子。由于对称性破缺，超对称粒子变得很重，要想发现这些粒子，需要更高的能量。如果在实验上能发现这些粒子，就是真正的「物质与力的统一」。然而遗憾的是，到目前为止也没有任何实验发现这些理论上的超对称粒子。不过也有人很乐观：&lt;/p&gt;&lt;p&gt;&lt;strong&gt;至少我们已经发现了一半！&lt;/strong&gt;&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-6bc1be3258c489556a5c773128b6e6b7_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-347f7494962a0eb65f2fedddbb2d8fdb_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;经过理论计算可以得出，这些玻色子传递的相互作用，在能量比较低的情况下，就会退化到经典的力。比如说，电子电子之间的电磁相互作用在低能下就会退化到经典的库伦定律。即：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=F%3D%5Cfrac%7BkQq%7D%7Br%5E2%7D&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2、空间弯曲影响物质的运动&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;对于引力，在广义相对论中，物质（能量）会使空间变得「弯曲」，而物质之会沿着空间中的「直线」运动。如果空间弯曲了，那么「直线」也会变弯，因此，物质就会沿着弯曲的路径进行运动。&lt;/p&gt;&lt;p&gt;但是有了粒子物理中「力是通过中间玻色子得到的」这一思想，物理学家也自然地会设想，在考虑量子化的情况下，&lt;strong&gt;引力是通过交换引力子来产生的！&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;然而遗憾的是，目前也没有任何实验直接探测到引力子。所以引力子这个东西到目前为止还只是理论或者说是假设。&lt;/p&gt;&lt;p&gt;同样的，广义相对论在低能下也可以退化到经典的牛顿万有引力定律：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=F%3D%5Cfrac%7BGMm%7D%7Br%5E2%7D&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;3、总结&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;虽然很多概念还之是理论上的假设，但是物理学家比较倾向于：&lt;/p&gt;&lt;p&gt;&lt;strong&gt;力还真就是个东西！主要有四种：&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;光子、W/Z 玻色子、胶子、引力子（未被发现）&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;具体的说，就是通过交换中间玻色子来传递力。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;现在在回过来头看看开头的动图：&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-5978d38d9b78a09b5d0d0695af899138_720w.gif?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;是不是瞬间就看懂了！&lt;/p&gt;&lt;p&gt;所以对于题主的提问，我想对题主说：&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-f1561e79e8f78934d665dfdc792bd4ff_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div&gt;&lt;a href=&quot;https://www.zhihu.com/question/353811549&quot;&gt;阅读原文&lt;span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
<pubDate>Tue, 02 Mar 2021 23:07:10 GMT</pubDate>
</item>
<item>
<guid>c9bb1e177359b2d9d0a77c74a29e7ab5</guid>
<title>为什么不从天空引雷电利用？</title>
<link>https://daily.zhihu.com/story/9733646</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;
&lt;img src=&quot;https://pic4.zhimg.com/v2-860d6af4c9e5adfd2e95cec4a9fc2faa_l.jpg?source=8673f162&quot;&gt;
&lt;span&gt;马小驴，&lt;/span&gt;&lt;span&gt;公众号【天驴滚滚轻科普】，轻松好玩，一看就懂！&lt;/span&gt;
&lt;a href=&quot;https://www.zhihu.com/question/330623690/answer/728568216&quot; hidden&gt;阅读原文&lt;/a&gt;
&lt;/div&gt;&lt;div&gt;
&lt;p&gt;这个问题太有意思了！&lt;/p&gt;&lt;p&gt;为什么不从天空引雷电利用？我看到大家从预测难度、绝缘难度、安全性等角度说了很多，不过要考虑为什么不引雷电利用，我认为比起技术难度来，也可以&lt;strong&gt;先考虑雷电到底有多少能量&lt;/strong&gt;。万一能量很大经济性很强的话，我们肯定也可以去克服技术难题嘛。&lt;/p&gt;&lt;p&gt;关于雷电的能量，网上众说纷纭，有的说一个雷的能量&lt;strong&gt;相当于几千克石油&lt;/strong&gt;的，也有说一个雷的能量&lt;strong&gt;够北京市用两年的&lt;/strong&gt;。这数量级相差也太多了，到底哪种靠谱呢？&lt;/p&gt;&lt;p&gt;这年头，网上的资料谁都别轻信，还是自己算最靠谱！&lt;/p&gt;&lt;p&gt;想要计算的话，最好用专业的参考资料，推荐选用大学电气工程及其自动化专业的教科书《&lt;strong&gt;高电压技术&lt;/strong&gt;》，这本书中对雷电有系统的讲解，还提供了较详细的数值模型。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-655b616fa8649881b1a5c29e4a874fb0_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;figcaption&gt;少年看你骨骼清奇，来本《高电压技术》呗？&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;OK，开启我们的计算之旅，赶快上车吧。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-578db53dceca27fe63bfb6965a2c548b_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;只考虑常规雷电的话，雷电对地放电的过程可分为三个阶段，分别是：&lt;/p&gt;&lt;p&gt;（1）先导放电；（2）主放电；（3）余辉放电。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-6613e640ea8b7e34c1f73b4c4002e300_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;figcaption&gt;雷击放电过程，来自《高电压技术》P124&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;首先是（1）先导放电，作用是铺路，建立雷电通道。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;如果要利用雷电，那么用的就是空中的雷云对地放电的能量。&lt;/p&gt;&lt;p&gt;通常雷云的上部带正电荷，下部带负电荷（据统计，负电荷形成的负极性雷电占总数的 75~90%），这些聚集在下部的负电荷在附近地面感应出大量正电荷，当雷云与大地局部电场强度达到大气游离所需的电场强度（约 25~30kV/cm）时，就会使空气游离，形成先导放电通道。&lt;/p&gt;&lt;p&gt;先导放电建立导电通道的过程有点像「扭秧歌」，每一步都挺快，但走一步，歇一会，整体就非常慢了（100~800km 每秒），只有光速的千分之一左右，这个过程持续 0.05~0.01 秒。&lt;/p&gt;&lt;p&gt;先导放电的瞄准对象，通常是地面上高耸突出物体，这些物体周围电场强度比较大，所以会在先导接近地面时出现向上的迎面先导（所谓的热烈欢迎？？）。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-c44032699882ef42cb1953eede279536_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;figcaption&gt;先导放电&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;也因此我们雷雨天要避开大树、避雷针等尖锐高大物体，记住哦。&lt;/p&gt;&lt;p&gt;关于能量方面，这个阶段电流比较小，能量相对于估算整体放电过程来说可以忽略不计。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;然后是（2）主放电：主要的雷击放电过程。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;在先导放电阶段建立了平坦通畅的放电路径之后，电荷就可以畅通无阻地飞驰了，同时游离产生的先导放电通道中，负电的电子向下运动流向大地，正离子向上运动中和先导通道中的负电荷，这样的大量电荷流动形成主放电过程。此时出现非常大的脉冲电流，产生强烈的光和热，使空气急速膨胀震动，这就是我们看到的闪电和听到的雷声。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-99b2d83a9dcec5fe542d871e720a7ee7_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;figcaption&gt;主放电过程&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;主放电过程的发展速度非常高，约 &lt;img src=&quot;https://www.zhihu.com/equation?tex=2%5Ctimes10%5E7%5Csim1.5%5Ctimes10%5E8m%2Fs&quot; alt=&quot;&quot;&gt;，比起前面的「扭秧歌」可是快了几百甚至上千倍。&lt;/p&gt;&lt;p&gt;相应地，这个阶段持续时间极短，一般不超过 100μs（微秒）。但是电流非常大，峰值高达几十甚至上百千安，之后衰减形成雷电流冲击波形。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-d1637bf17a73072add963657af295025_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;figcaption&gt;来自《高电压技术》P127&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;我们选择最简单的（b）波形计算吧，虽然这样会&lt;strong&gt;导致能量偏大，但数量级并不会错&lt;/strong&gt;。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-a24ee2acd0c7e91831f979157e39ba05_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;figcaption&gt;等值电路，来自《高电压技术》P125&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;上图为雷击等效电路，主放电阶段的电流计算公式为：&lt;img src=&quot;https://www.zhihu.com/equation?tex=i_z+%3D+i+Z_0%2F%28Z_0%2BZ%29&quot; alt=&quot;&quot;&gt; 其中 &lt;img src=&quot;https://www.zhihu.com/equation?tex=i&quot; alt=&quot;&quot;&gt; 是对 0 电阻通路的雷电流值，几十到上百 kA，我们将峰值取大些，算 100kA 吧，顺便说一下这么大的雷电流并不常见；参数 &lt;img src=&quot;https://www.zhihu.com/equation?tex=Z_0&quot; alt=&quot;&quot;&gt; 是沿着雷击通道运动的电压波与电流波的比值，有关规程建议取 300~400Ω，这里我们按 350Ω 估算；&lt;img src=&quot;https://www.zhihu.com/equation?tex=Z&quot; alt=&quot;&quot;&gt; 是被击物的波阻抗，设被雷击物体末端电压为零，承接全部能量（按纯热量估算），用能量计算公式&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://www.zhihu.com/equation?tex=W%3D%5Cint+u_z%5E2%2FZtdt%3D%5Cint_%7B%7D%5E%7B%7Di_z%5E2Ztdt&quot; alt=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;并将积分号内部对 &lt;img src=&quot;https://www.zhihu.com/equation?tex=Z&quot; alt=&quot;&quot;&gt; 求导可以计算出，被击物体取 &lt;img src=&quot;https://www.zhihu.com/equation?tex=Z%3DZ_0&quot; alt=&quot;&quot;&gt; 可以得到最大的电击能量，所以也是取 350Ω。&lt;/p&gt;&lt;p&gt;斜角部分放电时间取典型值 2.6μs，可得能量为 3039 千焦，相当于 0.8kWh。平顶部分时间按最大的 100μs 计算，计算可得能量为 87500 千焦，相当于 24.3kWh。此阶段过程能量合计 &lt;strong&gt;0.8+24.3=25.1kWh。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;因为选用的平顶波，能量已经高估了，实际上还得打折哦。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;最后，是（3）余辉放电阶段：剩余电荷发挥余热。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;这个阶段是云的&lt;strong&gt;剩余电荷沿着主放电通道继续流向大地&lt;/strong&gt;的过程，电流比之前小很多，只有 10~1000A 左右，持续时间大概在 0.03~0.05 秒。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-501bafb6701c39fc604b34974c03afcd_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;figcaption&gt;余辉放电&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;实际上是指数衰减的，为了简单我们按直线计算（这样结果偏大），从 1000A 衰减到 0，时间取 0.05 秒，那么结果大约为 5845 千焦，相当于 1.6kWh。&lt;/p&gt;&lt;p&gt;综上所述，收集一个典型的雷击所携带的能量大概有 &lt;strong&gt;25.1+1.6=26.7kWh &lt;/strong&gt;这么多，假设我们技术超凡绝伦、无比先进，以 100% 利用率地捕捉到了这些能量，而且能转换为市电的话，也就是 26.7 度电而已，按每度电 0.5 元计算的话，相当于&lt;strong&gt;电费 13.4 元&lt;/strong&gt;，注意这个还是偏高的数值，实际上同样还要打折才是。&lt;/p&gt;&lt;p&gt;嗯，打一个雷只有不到 13.4 元，雷神你放电的这一锤子还不如装修师傅贵呢。。。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-434849c24849239c58cc4e73d16b415e_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;figcaption&gt;为啥咧？&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;为啥？因为 &lt;strong&gt;能量=功率 * 时间 &lt;/strong&gt;（当然，实际上是功率对时间的积分）。雷电的功率确实非常高，但持续时间短得离谱，所以总体的能量并不高。很简单的道理！&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4e566b6d83346914895329499906fe1b_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;有人又会说了，蚊子腿也是肉啊，&lt;strong&gt;万一雷神是个打架子鼓的呢&lt;/strong&gt;，如果人家一口气「咚咚咚咚」地打好多雷，不也很有经济价值吗？&lt;/p&gt;&lt;p&gt;那么我们再算算&lt;strong&gt;雷的数量问题&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;衡量雷电数量有个参数叫做「地面落雷密度」，用于计算在一个雷暴日（只要这天打雷就算雷暴日）中，每平方公里地面上的平均落雷次数。这个值与地区有关，以长江流域附近每年雷暴日 40 天左右为例，地面落雷密度大约是 0.07。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-331639e05a0ee931c614a324d6d77a21_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;figcaption&gt;Photo by Duncan Maloney on Unsplash&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;那么想要充分吸收这些雷的话，需要引雷的设备。我们假设用避雷针，那么需要多少避雷针呢？&lt;/p&gt;&lt;p&gt;关于避雷针的有效范围（保护半径）问题，书中给出了计算公式，简单来说是避雷针高度的 1~1.5 倍左右，保护对象越低，保护范围越大。为了方便，我们将保护对象按地面（高度为 0）计算吧，避雷针高度选用超高的 120 米，其保护半径也是 120 米，那么以正六边形密铺的方式计算（合每个避雷针保护 3.74 万平米的面积），那么平均每平方公里需要大约 26.7 个避雷针。&lt;/p&gt;&lt;p&gt;有这么多避雷针，才能获得在每个雷暴日每平方公里获得 0.07 个雷的能量收获，假如都 100% 地转换为居民用电的话，相当于&lt;strong&gt;每平方公里，全年，可节省电费，多达，37.5 元…&lt;/strong&gt;&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3b396a1bfbd70fc209c5ad402fb9262b_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;说真的，就算刷一小时盘子可能比这个赚的都多（这句话已修正，感谢网友指出 ^_^ ）。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-f7b3cae7b8805ee0869276bc5aee8f2d_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;到这里我们明确了：&lt;/p&gt;&lt;p&gt;&lt;strong&gt;（1）单次雷击的能量并没有多大；&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;（2）雷击的密度也并不大。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;因此，即使不考虑技术和安全性，我们利用雷电仍然是非常不经济的事情。难怪我们并不准备从天空引雷电利用了！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div&gt;&lt;a href=&quot;https://www.zhihu.com/question/330623690&quot;&gt;阅读原文&lt;span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
<pubDate>Tue, 02 Mar 2021 23:07:01 GMT</pubDate>
</item>
<item>
<guid>f1dea4abda80b40ff5f7fba5503bdf03</guid>
<title>影视界有什么冷知识？</title>
<link>https://daily.zhihu.com/story/9733638</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;
&lt;img src=&quot;https://pic2.zhimg.com/v2-4ba5dfa221bc9e2a48d3822b84e0a6f6_l.jpg?source=8673f162&quot;&gt;
&lt;span&gt;250斤的雪叔，&lt;/span&gt;&lt;span&gt;只是个普通历史爱好者/影视剧组从业者&lt;/span&gt;
&lt;a href=&quot;https://www.zhihu.com/question/50921853/answer/1734086225&quot; hidden&gt;阅读原文&lt;/a&gt;
&lt;/div&gt;&lt;div&gt;
&lt;p&gt;在中国，影视摄影是一项高强度的技术性体力劳动，和你在大街上看到的拍婚纱、拍风景、影楼里拍人像的「摄像」完全不同，影视剧组的摄影配置通常是：&lt;/p&gt;&lt;p&gt;掌机——听命导演和摄影指导、负责操作摄影机，这种摄影机不是平常在街上看到的广播机，更不是相机，搭配所有配件重量可达 40 斤以上。掌机之间也分等级，A 机是技术熟练的掌机才能胜任的，通常是拍最主要或者技术难度最高的镜头，剩下的其他机器基本负责辅机位，视剧组投资多少，一个正常的影视大组通常有 2-6 台机器，中途会根据进度来调整增加或减少。如果导演需要自己把握镜头，那摄影指导就会去现场工作，变成 A 机掌机。&lt;/p&gt;&lt;p&gt;摄影大助——即跟焦员，负责操控摄影机的焦点，每台摄影机都会有一个手动跟焦环，摄影机的右侧面还会装上一个小监视器，专门给跟焦员工作使用。有的跟焦员喜欢远离现场，就会使用远程跟焦，自己带着一个图传 + 小监搬个凳子蹲一边跟焦。还有一种十分老练的跟焦员，可以完全不看小监，肉眼看着演员和摄影机之间的距离就能跟，这种大神我这么多年只碰到一两个。&lt;/p&gt;&lt;p&gt;做到跟焦员通常意味着你离做掌机也不远了。&lt;/p&gt;&lt;p&gt;摄影二助——即移动员，也是我现在的职位，负责在摄影指导要求掌机上轨道拍移动镜头、或者摄影机上大型升降的时候，操控推轨道板车或摇升降摇臂（俗称摇炮）、摇小摇臂、操作各类移动升降车，和跟焦员一样都是十分考验技术的活，不过两者所面向的技术领域不同，跟焦员是焦点虚实，移动员是镜头移动摇摆。移动器材通常都很重很庞大，比如一个升降摇臂可长达 12 米 -20 米，即使是一个轨道板车也有 20 多斤重，所以摄影二助（移动员）的一个特征是普遍高大或身形壮硕（比如我）。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-f9f259f22dc6fc78ba08b49465ce69ca_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;通常摄影二助只管帮助摄影指导操控使用器材以达到他需要的移动轨迹，怎么摆设移动器材是场务的事。但如果剧组有要求，需要额外成立一个「移动设备组」，那么就不再存在摄影二助这个职位，你会离开摄影组变成移动组的一员，本质上还是给摄影指导和掌机干活，但你已经独立出来成为一个部门了，场务不会再帮你摆设移动器材，怎么搭炮、怎么摆轨道、怎么安装移动升降车的配件，就是移动小助的工作，移动大助和移动组长就负责原本摄影二助的工作：摇炮和推轨道。&lt;/p&gt;&lt;p&gt;摄影小助——这个才是普通人理解中的摄影助理，负责伺候掌机、为摄影机调参数、换镜头、换配件、从高腿（三脚架）换地锅，反正都是杂活，干摄影小助是一个学习的过程。&lt;/p&gt;&lt;p&gt;跟机员——摄影器材公司派过来维护所有摄影设备的技术支持，跟机员有两种极端，一种是在器材公司呆了一段时间，基本什么器材技术原理和各种设备使用、维护、操作知识都懂，现在就等哪一位导演或摄影指导看中他、把他从器材公司里带出来让他给自己干摄影助理，或者干脆一点直接让他干跟焦员。另一种是混吃等死的，在器材公司呆了一段时间，但很多东西还是不懂，机器的知识和摄影的知识也不是很懂，就只懂该怎么调设备怎么安装设备，光感原理不会、色彩科学不会、709 和 log3 是啥一问三不知，基本就是个只懂出体力干活的普罗大众。&lt;/p&gt;&lt;p&gt;跟机员出身的摄影助理基本功都很扎实。&lt;/p&gt;&lt;p&gt;我最早是个场务，被介绍进了器材公司干跟机员，某一部戏被一个导演和摄影指导看中，拉了出来干摄影小助，过了一段时间干摄影二助，再到现在干移动组的组长，偶尔掌一下机，所以对这些职位都算是深有体会。剧组就是一个关系户聚集地，每个人都是靠关系被拉进来的，亲戚之间的提携是很常见的事情，所以我们这种没背景关系的真的是全靠一手技术活才能站得住脚跟。剧组是一个临时的组织，它不是正规公司，更类似于临时组建的工地农民工队伍，五湖四海的人都有，这部戏拍完杀青就立刻鸟兽散，回家的回家去下一部戏的去下一部戏。运气好的以后有机会碰上同一个导演，大家还能再次见面，但大多数情况都是每个人相处一段时间就告别，这辈子不会再见面。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div&gt;&lt;a href=&quot;https://www.zhihu.com/question/50921853&quot;&gt;阅读原文&lt;span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
<pubDate>Tue, 02 Mar 2021 23:06:55 GMT</pubDate>
</item>
<item>
<guid>2c3e2090be51511ee46141bea5ac0420</guid>
<title>CPU 是怎么认识代码的？</title>
<link>https://daily.zhihu.com/story/9733636</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;
&lt;img src=&quot;https://pic4.zhimg.com/d496be2288c91e30fab88d596aa4f985_l.jpg?source=8673f162&quot;&gt;
&lt;span&gt;Zign，&lt;/span&gt;&lt;span&gt;资深技术宅，擅长一本正经的胡说八道&lt;/span&gt;
&lt;a href=&quot;https://www.zhihu.com/question/348237008/answer/843382847&quot; hidden&gt;阅读原文&lt;/a&gt;
&lt;/div&gt;&lt;div&gt;
&lt;p&gt;又是读个大学就能懂系列的。&lt;/p&gt;&lt;p&gt;行吧，老规矩，尽量简单的语言来解释一下。&lt;/p&gt;&lt;p&gt;先说一下半导体，啥叫半导体？就是介于导体和绝缘体中间的一种东西，比如二极管。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-15444640740ee87a5ae8d64c8990a80b_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;电流可以从 A 端流向 C 端，但反过来则不行。你可以把它理解成一种防止电流逆流的东西。&lt;/p&gt;&lt;p&gt;当 C 端 10V，A 端 0V，二极管可以视为断开。&lt;/p&gt;&lt;p&gt;当 C 端 0V，A 端 10V，二极管可以视为导线，结果就是 A 端的电流源源不断的流向 C 端，导致最后的结果就是 A 端=C 端=10V&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-ca6df836eb7a6e6233a0802d744b9690_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;等等，不是说好的 C 端 0V，A 端 10V 么？咋就变成结果是 A 端=C 端=10V 了？你可以把这个理解成初始状态，当最后稳定下来之后就会变成 A 端=C 端=10V。&lt;/p&gt;&lt;p&gt;文科的童鞋们对不住了，实在不懂问高中物理老师吧。反正你不能理解的话就记住这种情况下它相当于导线就行了。&lt;/p&gt;&lt;hr&gt;&lt;p&gt;利用半导体的这个特性，我们可以制作一些有趣的电路，比如【与门】&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-f0c941bb94dbaff62ffdb235252c4566_720w.gif?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;此时 A 端 B 端只要有一个是 0V，那 Y 端就会和 0V 地方直接导通，导致 Y 端也变成 0V。只有 AB 两端都是 10V，Y 和 AB 之间才没有电流流动，Y 端也才是 10V。&lt;/p&gt;&lt;p&gt;我们把这个装置成为【与门】，把有电压的地方计为 1，0 电压的地方计为 0。至于具体几 V 电压，那不重要。&lt;/p&gt;&lt;p&gt;也就是 AB 必须同时输入 1，输出端 Y 才是 1;AB 有一个是 0，输出端 Y 就是 0。&lt;/p&gt;&lt;p&gt;其他还有【或门】【非门】和【异或门】，跟这个都差不多，或门就是输入有一个是 1 输出就是 1，输入 00 则输入 0。&lt;/p&gt;&lt;p&gt;非门也好理解，就是输入 1 输出 0，输入 0 输出 1。&lt;/p&gt;&lt;p&gt;异或门难理解一些，不过也就那么回事，输入 01 或者 10 则输出 1，输入 00 或者 11 则输出 0。（即输入两个一样的值则输出 0，输入两个不一样的值则输出 1）。&lt;/p&gt;&lt;p&gt;这几种门都可以用二极管或者三极管做出来，具体怎么做就不演示了，有兴趣的童鞋可以自己试试。当然实际并不是用二极管三极管做的，因为它们太费电了。实际是用场效应管（也叫 MOS 管）做的。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-75b990b9e561ed28949ad888a6e8d427_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;hr&gt;&lt;p&gt;然后我们就可以用门电路来做 CPU 了。当然做 CPU 还是挺难的，我们先从简单的开始：加法器。&lt;/p&gt;&lt;p&gt;加法器顾名思义，就是一种用来算加法的电路，最简单的就是下面这种。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-89eaaa11986cbe311355c21774d5527d_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;AB 只能输入 0 或者 1，也就是这个加法器能算 0+0，1+0 或者 1+1。&lt;/p&gt;&lt;p&gt;输出端 S 是结果，而 C 则代表是不是发生进位了，二进制 1+1=10 嘛。这个时候 C=1，S=0。&lt;/p&gt;&lt;p&gt;费了大半天的力气，算个 1+1 是不是特别有成就感？&lt;/p&gt;&lt;p&gt;那再进一步算个 1+2 吧（二进制 01+10），然后我们就发现了一个新的问题：第二位需要处理第一位有可能进位的问题，所以我们还得设计一个全加法器。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-e59039de261d99b15200e546fdc8974a_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;每次都这么画实在太麻烦了，我们简化一下。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-53dc37da3b8fb637750d6e5f10213a0f_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;也就是有 3 个输入 2 个输出，分别输入要相加的两个数和上一位的进位，然后输入结果和是否进位。&lt;/p&gt;&lt;p&gt;然后我们把这个全加法器串起来。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-8703016fa5f3ca95c0b009ece1b6bb76_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;我们就有了一个 4 位加法器，可以计算 4 位数的加法也就是 15+15，已经达到了幼儿园中班水平，是不是特别给力？&lt;/p&gt;&lt;hr&gt;&lt;p&gt;做完加法器我们再做个乘法器吧，当然乘任意 10 进制数是有点麻烦的，我们先做个乘 2 的吧。&lt;/p&gt;&lt;p&gt;乘 2 就很简单了，对于一个 2 进制数数我们在后面加个 0 就算是乘 2 了&lt;/p&gt;&lt;div&gt;&lt;code&gt;比如 5=101（2） 10=1010（2） &lt;/code&gt;&lt;/div&gt;&lt;p&gt;所以我们只要把输入都往前移动一位，再在最低位上补个零就算是乘 2 了。具体逻辑电路图我就不画，你们知道咋回事就行了。&lt;/p&gt;&lt;p&gt;那乘 3 呢？简单，先位移一次（乘 2）再加一次。乘 5 呢？先位移两次（乘 4）再加一次。&lt;/p&gt;&lt;p&gt;所以一般简单的 CPU 是没有乘法的，而乘法则是通过位移和加算的组合来通过软件来实现的。这说的有点远了，我们还是继续做 CPU 吧。&lt;/p&gt;&lt;p&gt;现在假设你有 8 位加法器了，也有一个位移 1 位的模块了。串起来你就能算：&lt;code&gt;（A+B）X2&lt;/code&gt;了！激动人心，已经差不多到了准小学生水平。&lt;/p&gt;&lt;p&gt;那我要是想算：&lt;code&gt;AX2+B&lt;/code&gt;呢？简单，你把加法器模块和位移模块的接线改一下就行了，改成输入 A 先过位移模块，再进加法器就可以了。&lt;/p&gt;&lt;p&gt;啥？？？？你说啥？？？你的意思是我改个程序还得重新接线？&lt;/p&gt;&lt;p&gt;所以你以为呢？编程就是把线来回插啊。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-f7399a51d1fe39799ffd4060fe756f5d_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;惊喜不惊喜？意外不意外？&lt;/p&gt;&lt;p&gt;早期的计算机就是这样编程的，几分钟就算完了但插线好几天。而且插线是个细致且需要耐心的工作，所以那个时候的程序员都是清一色的漂亮女孩子，穿制服的那种，就像照片上这样。是不是有种生不逢时的感觉？&lt;/p&gt;&lt;hr&gt;&lt;p&gt;虽然和美女作伴是个快乐的事，但插线也是个累死人的工作。所以我们需要改进一下，让 CPU 可以根据指令来相加或者乘 2。&lt;/p&gt;&lt;p&gt;这里再引入两个模块，一个叫 flip-flop，简称 FF，中文好像叫触发器。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-e538765c41d278774809c98af7b4795b_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;这个模块的作用是存储 1bit 数据。比如上面这个 RS 型的 FF，R 是 Reset，输入 1 则清零。S 是 Set，输入 1 则保存 1。RS 都输入 0 的时候，会一直输出刚才保存的内容。&lt;/p&gt;&lt;p&gt;我们用 FF 来保存计算的中间数据（也可以是中间状态或者别的什么），1bit 肯定是不够的，不过我们可以并联嘛，用 4 个或者 8 个来保存 4 位或者 8 位数据。这种我们称之为寄存器（Register）。&lt;/p&gt;&lt;p&gt;另外一个叫 MUX，中文叫选择器。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-aa4dac2c7677c6cc0679dde3bba32293_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;这个就简单了，sel 输入 0 则输出 i0 的数据，i0 是什么就输出什么，01 皆可。同理 sel 如果输入 1 则输出 i1 的数据。当然选择器可以做的很长，比如这种四进一出的：&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-97b1cfb31cd892e58c2fb9ad72a392dc_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;具体原理不细说了，其实看看逻辑图琢磨一下就懂了，知道有这个东西就行了。&lt;/p&gt;&lt;p&gt;有这个东西我们就可以给加法器和乘 2 模块（位移）设计一个激活针脚。&lt;/p&gt;&lt;p&gt;这个激活针脚输入 1 则激活这个模块，输入 0 则不激活。这样我们就可以控制数据是流入加法器还是位移模块了。&lt;/p&gt;&lt;hr&gt;&lt;p&gt;于是我们给 CPU 先设计 8 个输入针脚，4 位指令，4 位数据。&lt;/p&gt;&lt;p&gt;我们再设计 3 个指令：&lt;/p&gt;&lt;p&gt;0100，数据读入寄存器&lt;/p&gt;&lt;p&gt;0001，数据与寄存器相加，结果保存到寄存器&lt;/p&gt;&lt;p&gt;0010，寄存器数据向左位移一位（乘 2）&lt;/p&gt;&lt;p&gt;为什么这么设计呢，刚才也说了，我们可以为每个模块设计一个激活针脚。然后我们可以分别用指令输入的第二第三第四个针脚连接寄存器，加法器和位移器的激活针脚。&lt;/p&gt;&lt;p&gt;这样我们输入 0100 这个指令的时候，寄存器输入被激活，其他模块都是 0 没有激活，数据就存入寄存器了。同理，如果我们输入 0001 这个指令，则加法器开始工作，我们就可以执行相加这个操作了。&lt;/p&gt;&lt;p&gt;这里就可以简单回答这个问题的第一个小问题了：&lt;/p&gt;&lt;p&gt;&lt;strong&gt;那 cpu 是为什么能看懂这些二级制的数呢？&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;为什么 CPU 能看懂，因为 CPU 里面的线就是这么接的呗。你输入一个二进制数，就像开关一样激活 CPU 里面若干个指定的模块以及改变这些模块的连同方式，最终得出结果。&lt;/p&gt;&lt;p&gt;几个可能会被问道的问题：&lt;/p&gt;&lt;p&gt;Q：CPU 里面可能有成千上万个小模块，一个 32 位 /64 位的指令能控制那么多吗？&lt;/p&gt;&lt;p&gt;A：我们举例子的 CPU 里面只有 3 个模块，就直接接了。真正的 CPU 里会有一个解码器（decoder），把指令翻译成需要的形式。&lt;/p&gt;&lt;p&gt;Q：你举例子的简单 CPU，如果我输入指令 0011 会怎么样？&lt;/p&gt;&lt;p&gt;A：当然是同时激活了加法器和位移器从而产生不可预料的后果，简单的说因为你使用了没有设计的指令，所以后果自负呗。（在真正的 CPU 上这么干大概率就是崩溃呗，当然肯定会有各种保护性的设计，死也就死当前进程）&lt;/p&gt;&lt;hr&gt;&lt;p&gt;细心的小伙伴可能发现一个问题：你设计的指令&lt;/p&gt;&lt;p&gt;【0001，数据与寄存器相加，结果保存到寄存器】&lt;/p&gt;&lt;p&gt;这个一步做不出来吧？毕竟还有一个回写的过程，实际上确实是这样。我们设计的简易 CPU 执行一个指令差不多得三步，读取指令，执行指令，写寄存器。&lt;/p&gt;&lt;p&gt;经典的 RISC 设计则是分 5 步：读取指令(IF)，解码指令(ID)，执行指令(EX)，内存操作(MEM)，写寄存器(WB)。我们平常用的 x86 的 CPU 有的指令可能要分将近 20 个步骤。&lt;/p&gt;&lt;p&gt;你可以理解有这么一个开关，我们啪的按一下，CPU 就走一步，你按的越快 CPU 就走的越快。咦？听说你有个想法？少年，你这个想法很危险啊，姑且不说你有没有麒麟臂，能不能按那么快（现代的 CPU 也就 2GHz 多，大概也就一秒按个 20 亿下左右吧）&lt;/p&gt;&lt;p&gt;就算你能按那么快，虽然速度是上去了，但功耗会大大增加，发热上升稳定性下降。江湖上确实有这种玩法，名曰超频，不过新手不推荐你尝试哈。&lt;/p&gt;&lt;p&gt;那 CPU 怎么知道自己走到哪一步了呢？前面不是介绍了 FF 么，这个不光可以用来存中间数据，也可以用来存中间状态，也就是走到哪了。&lt;/p&gt;&lt;p&gt;具体的设计涉及到 FSM（finite-state machine），也就是有限状态机理论，以及怎么用 FF 实装。这个也是很重要的一块，考试必考哈，只不过跟题目关系不大，这里就不展开讲了。&lt;/p&gt;&lt;hr&gt;&lt;p&gt;我们再继续刚才的讲，现在我们有 3 个指令了。我们来试试算个（1+4）X2+3 吧。&lt;/p&gt;&lt;div&gt;&lt;code&gt;0100 0001 ；寄存器存入 1 0001 0100 ；寄存器的数字加 4 0010 0000 ；乘 2 0001 0011 ；再加三 &lt;/code&gt;&lt;/div&gt;&lt;p&gt;太棒了，靠这台计算机我们应该可以打败所有的幼儿园小朋友，称霸大班了。而且现在我们用的是 4 位的，如果换成 8 位的 CPU 完全可以吊打低年级小学生了！&lt;/p&gt;&lt;p&gt;实际上用程序控制 CPU 是个挺高级的想法，再此之前计算机（器）的 CPU 都是单独设计的。&lt;/p&gt;&lt;p&gt;1969 年一家日本公司 BUSICOM 想搞程控的计算器，而负责设计 CPU 的美国公司也觉得每次都重新设计 CPU 是个挺傻 X 的事，于是双方一拍即合，于 1970 年推出一种划时代的产品，世界上第一款微处理器 4004。&lt;/p&gt;&lt;p&gt;这个架构改变了世界，那家负责设计 CPU 的美国公司也一步一步成为了业界巨头。哦对了，它叫 Intel，对，就是噔噔噔噔的那个。&lt;/p&gt;&lt;hr&gt;&lt;p&gt;我们把刚才的程序整理一下，&lt;/p&gt;&lt;div&gt;&lt;code&gt;01000001000101000010000000010011 &lt;/code&gt;&lt;/div&gt;&lt;p&gt;你来把它输入 CPU，我去准备一下去幼儿园大班踢馆的工作。&lt;/p&gt;&lt;p&gt;神马？等我们输完了人家小朋友掰手指都能算出来了？？&lt;/p&gt;&lt;p&gt;没办法机器语言就是这么反人类。哦，忘记说了，这种只有 01 组成的语言被称之为机器语言（机器码），是 CPU 唯一可以理解的语言。不过你把机器语言让人读，绝对一秒变典韦，这谁也受不了。&lt;/p&gt;&lt;figure&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-6aedab3982500ceec8c2c64839e4fef5_720w.jpg?source=8673f162&quot; alt=&quot;&quot;&gt;&lt;/figure&gt;&lt;p&gt;所以我们还是改进一下吧。不过话虽这么讲，也就往前个 30 年，直接输入 01 也是个挺普遍的事情。&lt;/p&gt;&lt;p&gt;于是我们把我们机器语言写成的程序&lt;/p&gt;&lt;div&gt;&lt;code&gt;0100 0001 ；寄存器存入 1 0001 0100 ；寄存器的数字加 4 0010 0000 ；乘 2 0001 0011 ；再加三 &lt;/code&gt;&lt;/div&gt;&lt;p&gt;改写成&lt;/p&gt;&lt;div&gt;&lt;code&gt;MOV 1 ；寄存器存入 1 ADD 4 ；寄存器的数字加 4 SHL 0 ；乘 2（介于我们设计的乘法器暂时只能乘 2，这个 0 是占位的） ADD 3 ；再加三 &lt;/code&gt;&lt;/div&gt;&lt;p&gt;是不是容易读多了？这就叫汇编语言。&lt;/p&gt;&lt;p&gt;汇编语言的好处在于它和机器语言一一对应。&lt;/p&gt;&lt;p&gt;也就是我们写的汇编可以完美的改写成机器语言，直接指挥 cpu，进行底层开发；我们也可以把内存中的数据 dump 出来，以汇编语言的形式展示出来，方便调试和 debug。&lt;/p&gt;&lt;hr&gt;&lt;p&gt;汇编语言极大的增强了机器语言的可读性和开发效率，但对于人类来说也依然是太晦涩了，于是我们又发明了高级语言，以近似于人类的语法来表现数据结构和算法。&lt;/p&gt;&lt;p&gt;比如很多语言都可以这么写：&lt;/p&gt;&lt;p&gt;a=(1+4)*2+3;&lt;/p&gt;&lt;p&gt;当然这样计算机是不认识的，我们要把它翻译成计算机认识的形式，这个过程叫编译，用来做这个事的东西叫编译器。&lt;/p&gt;&lt;p&gt;具体怎么把高级语言弄成汇编语言 / 机器语言的，一本书都写不完，我们就举个简单的例子。&lt;/p&gt;&lt;p&gt;我们把&lt;/p&gt;&lt;div&gt;&lt;code&gt;(1+4)*2+3 &lt;/code&gt;&lt;/div&gt;&lt;p&gt;转换成&lt;/p&gt;&lt;div&gt;&lt;code&gt;1，4，+，2，*，3，+ &lt;/code&gt;&lt;/div&gt;&lt;p&gt;这种写法叫后缀表示法，也成为逆波兰表示法。相对的，我们平常用的表示法叫中缀表示法，也就是符号方中间，比如 1+4。而后缀表示法则写成 1，4，+。&lt;/p&gt;&lt;p&gt;转换成这种写法的好处是没有先乘除后加减的影响，也没有括号了，直接算就行了。&lt;/p&gt;&lt;p&gt;具体怎么转换的可以找本讲编译原理的书看看，这里不展开讲了。&lt;/p&gt;&lt;p&gt;转换成这种形式之后我们就可以把它改成成汇编语言了。&lt;/p&gt;&lt;p&gt;从头开始处理，最开始是 1，一个数字，那就存入寄存器。&lt;/p&gt;&lt;div&gt;&lt;code&gt;MOV 1 &lt;/code&gt;&lt;/div&gt;&lt;p&gt;之后是 4，+，那就加一下&lt;/p&gt;&lt;div&gt;&lt;code&gt;ADD 4 &lt;/code&gt;&lt;/div&gt;&lt;p&gt;然后是 2，*，那就乘一下（介于我们设计的乘法器暂时只能乘 2，这个 0 是占位的）&lt;/p&gt;&lt;div&gt;&lt;code&gt;SHL 0 &lt;/code&gt;&lt;/div&gt;&lt;p&gt;最后是 3，+，那再加一下&lt;/p&gt;&lt;div&gt;&lt;code&gt;ADD 3 &lt;/code&gt;&lt;/div&gt;&lt;p&gt;最后我们把翻译好的汇编整理一下&lt;/p&gt;&lt;div&gt;&lt;code&gt;MOV 1 ADD 4 SHL 0 ADD 3 &lt;/code&gt;&lt;/div&gt;&lt;p&gt;再简单的转换成机器语言，就可以拿到我们设计的简单 CPU 上运行了&lt;/p&gt;&lt;hr&gt;&lt;p&gt;其实到了这一步，应该把这个问题都讲清楚了：C 语言写出来的东西是怎么翻译成二进制的，电脑又是怎么运行这个二进制的。&lt;/p&gt;&lt;p&gt;只不过题主最后还提到栈和硬件的关系，这里就再多说几句。&lt;/p&gt;&lt;p&gt;其实栈是一种数据结构，跟 CPU 无关。只不过栈这个数据结构实在太常用了，以至于 CPU 会针对性的进行优化。为了能让我们的 CPU 也能用栈，我们给它增加几个组件。&lt;/p&gt;&lt;p&gt;第一，增加一组寄存器。现在有两组寄存器了，我们分别成为 A 和 B。&lt;/p&gt;&lt;p&gt;第二，增加两个指令，RDA/RDB 和 WRA/WRB，分别为把指定内存地址的数据读到寄存器 A/B，和把寄存器 A/B 的内容写到指定地址。&lt;/p&gt;&lt;p&gt;顺便再说下内存，内存有个地址总线，有个数据总线。比如你要把 1100 这个数字存到 0011 这个地址，就把 1100 接到数据总线，0011 接到地址总线，都准备好了啪嚓一按开关（对，就是我们前面提到的那个开关），就算是存进去了。&lt;/p&gt;&lt;p&gt;什么叫 DDR 内存呢，就是你按这个开关的时候存进去一个数字，抬起来之前你把地址和数据都更新一下，然后一松手，啪！又进去一个。也就是正常的内存你按一下进去 1 个数据，现在你按一下进去俩数据，这就叫双倍速率（Double Data Rate，简称 DDR）&lt;/p&gt;&lt;p&gt;加了这几个命令之后我们发现按原来的设计，CPU 每个指令针脚控制一个模块的方式的话针脚不够用了。所以我们就需要加一个解码器了（decoder）。&lt;/p&gt;&lt;p&gt;于是我们选择用第二个位作为是否选择寄存器的针脚。如果为 0，则第三第四位可以正常激活位移器和加法器；如果为 1 则只激活寄存器而不激活位移和加法器，然后用第四位来决定是寄存器 A 还是 B&lt;/p&gt;&lt;p&gt;这样变成了&lt;/p&gt;&lt;p&gt;0100，数据读入寄存器 A&lt;/p&gt;&lt;p&gt;0101，数据读入寄存器 B （我们把汇编指令定义为 MOVB）&lt;/p&gt;&lt;p&gt;0001，数据与寄存器 A 相加，结果保存到寄存器 A&lt;/p&gt;&lt;p&gt;0011，数据与寄存器 B 相加，结果保存到寄存器 B（我们把汇编指令定义为 ADDB）&lt;/p&gt;&lt;p&gt;0010，寄存器 A 数据向左位移一位（乘 2）&lt;/p&gt;&lt;p&gt;最后我们可以用第一位来控制是不是进行内存操作。如果第一位为 1 则也不激活位移和加法器模块，然后用第三个针脚来控制是读还是写。这样就有了&lt;/p&gt;&lt;p&gt;1100，把寄存器 B 的地址数据读入寄存器 A（我们把汇编指令定义为 RD）&lt;/p&gt;&lt;p&gt;1110，寄存器 A 的数据写到寄存器 B 指定的地址（我们把汇编指令定义为 WR）&lt;/p&gt;&lt;p&gt;我们加了个解码器之后，加法器的激活条件从 p4 变成了 (NOT (p1 OR p2)) AND p4 加法器的输入则由第三个针脚判断，0 则为寄存器 A，1 为寄存器 B&lt;/p&gt;&lt;p&gt;这就是简单的指令解码啦。&lt;/p&gt;&lt;p&gt;当然我们也可以选择不向下兼容，另外设计一套指令。不过放到现实世界恐怕就要出大乱子了，所以你也可以想象我们平常用的 x86 背了个多大的历史包袱。&lt;/p&gt;&lt;hr&gt;&lt;p&gt;这个时候我们用栈的话，先栈地址初始化&lt;/p&gt;&lt;div&gt;&lt;code&gt;0101 1000 ; MOVB 16; 把栈底地址定义为 1000 &lt;/code&gt;&lt;/div&gt;&lt;p&gt;之后入栈的话，比如把数字 3,4 入栈&lt;/p&gt;&lt;div&gt;&lt;code&gt;1111 0011 ; WR 03; 把 3 写到内存，地址为 1000 0011 0001 ; ADDB 01; 栈地址 +1 1111 0100 ; WR 04; 把 3 写到内存，地址为 1001 0011 0001 ; ADDB 01; 栈地址 +1 &lt;/code&gt;&lt;/div&gt;&lt;p&gt;这样就把 3，4 都保存到栈里了。&lt;/p&gt;&lt;p&gt;出栈的话反过来&lt;/p&gt;&lt;div&gt;&lt;code&gt;0011 1111 ; ADDB -1; 栈地址 -1 1101 0000 ; RD 00; 把内容读入寄存器 A，00 是占位 0011 1111 ; ADDB -1; 栈地址 -1 1101 0000 ; RD 00; 把内容读入寄存器 A，00 是占位 &lt;/code&gt;&lt;/div&gt;&lt;p&gt;这样就依次得到 4，3 两个值。&lt;/p&gt;&lt;p&gt;所以，入栈出栈其实就是把数据写道指定的内存位置，CPU 其实不知道你是在干啥。&lt;/p&gt;&lt;p&gt;当然我们也可以让 CPU 知道。&lt;/p&gt;&lt;p&gt;接下来我们再改进一下，给 CPU 再加一个寄存器 SP，并定义两个指令：一个 PUSH，一个 POP。动作分别是把数据写入 SP 的地址，然后 SP=SP+1，POP 的话反过来。&lt;/p&gt;&lt;p&gt;这样有什么好处呢？好处在于 PUSH/POP 这样的指令消耗特别少，速度特别快。而栈这种数据结构在各种程序里用的又特别频繁，设计成专用的指令则可以很大程度上提升效率。&lt;/p&gt;&lt;p&gt;当然前提是编译器知道这个指令，并且做了优化，所以同样的程序（c 语言写的），编译参数不一样（打开 / 关闭某些特性），编译出来的东西也就不一样，在不同硬件上的运行的效率也就会不一样。&lt;/p&gt;&lt;p&gt;比如上古时代的 mmx，今天的 SSE4.2，AVX-512，给力不给力？特别给力，但你平常用的程序支不支持是另一码事，要支持怎么办？重新编译呗。&lt;/p&gt;&lt;p&gt;这个时候开源的优势就显示出来了，重新编译很方便。闭源的话你就要指望作者开恩啦。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div&gt;&lt;a href=&quot;https://www.zhihu.com/question/348237008&quot;&gt;阅读原文&lt;span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
<pubDate>Tue, 02 Mar 2021 23:06:49 GMT</pubDate>
</item>
</channel></rss>