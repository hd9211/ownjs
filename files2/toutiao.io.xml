<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>21a1bafadb1785299c0e35c102301310</guid>
<title>技巧：根据主题模式 (dark/light) 切换 favicon</title>
<link>https://toutiao.io/k/sl5q6fu</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;post-header&quot;&gt;&lt;h1 class=&quot;title&quot;&gt;技巧：根据主题模式（dark/light）切换favicon&lt;/h1&gt;&lt;p class=&quot;meta&quot;&gt;胡伟红 Posted at — Mar 31, 2021
&lt;span class=&quot;meta&quot; id=&quot;busuanzi_container_page_pv&quot;&gt;阅读 &lt;span id=&quot;busuanzi_value_page_pv&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;markdown&quot;&gt;&lt;p&gt;项目开发时，有可能会根据主题模式使用不同的 favicon，这里介绍一个小技巧：使用 SVG 来实现。&lt;/p&gt;&lt;h2 id=&quot;prefers-color-scheme&quot;&gt;prefers-color-scheme&lt;/h2&gt;&lt;p&gt;CSS 中可通过 prefers-color-scheme 查询使用的主题模式。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-CSS&quot; data-lang=&quot;CSS&quot;&gt;@&lt;span&gt;media&lt;/span&gt; (&lt;span&gt;prefers-color-scheme&lt;/span&gt;: &lt;span&gt;dark&lt;/span&gt;) {
  ....
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&quot;更改-svg-内容&quot;&gt;更改 SVG 内容&lt;/h2&gt;&lt;p&gt;在 SVG 中使用 CSS 代码来改变内容：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-XML&quot; data-lang=&quot;XML&quot;&gt;&lt;span&gt;&amp;lt;svg&lt;/span&gt; &lt;span&gt;width=&lt;/span&gt;&lt;span&gt;&quot;100px&quot;&lt;/span&gt; &lt;span&gt;height=&lt;/span&gt;&lt;span&gt;&quot;100px&quot;&lt;/span&gt; &lt;span&gt;viewBox=&lt;/span&gt;&lt;span&gt;&quot;0 0 100 100&quot;&lt;/span&gt; &lt;span&gt;version=&lt;/span&gt;&lt;span&gt;&quot;1.1&quot;&lt;/span&gt; &lt;span&gt;xmlns=&lt;/span&gt;&lt;span&gt;&quot;http://www.w3.org/2000/svg&quot;&lt;/span&gt; &lt;span&gt;xmlns:xlink=&lt;/span&gt;&lt;span&gt;&quot;http://www.w3.org/1999/xlink&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;style&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    #Group {
      fill: black;
    }
    @media (prefers-color-scheme: dark) {
      #Group {
          fill: #FFFFFF;
      }
    }
  &lt;span&gt;&amp;lt;/style&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;title&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;ico&lt;span&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;g&lt;/span&gt; &lt;span&gt;id=&lt;/span&gt;&lt;span&gt;&quot;logo-autograph-white&quot;&lt;/span&gt; &lt;span&gt;stroke=&lt;/span&gt;&lt;span&gt;&quot;none&quot;&lt;/span&gt; &lt;span&gt;stroke-width=&lt;/span&gt;&lt;span&gt;&quot;1&quot;&lt;/span&gt; &lt;span&gt;fill=&lt;/span&gt;&lt;span&gt;&quot;none&quot;&lt;/span&gt; &lt;span&gt;fill-rule=&lt;/span&gt;&lt;span&gt;&quot;evenodd&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
    &lt;span&gt;&amp;lt;g&lt;/span&gt; &lt;span&gt;id=&lt;/span&gt;&lt;span&gt;&quot;Group&quot;&lt;/span&gt; &lt;span&gt;transform=&lt;/span&gt;&lt;span&gt;&quot;translate(-0.000000, -0.000000)&quot;&lt;/span&gt; &lt;span&gt;fill=&lt;/span&gt;&lt;span&gt;&quot;#FFFFFF&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;
        ...
    &lt;span&gt;&amp;lt;/g&amp;gt;&lt;/span&gt;
  &lt;span&gt;&amp;lt;/g&amp;gt;&lt;/span&gt;
&lt;span&gt;&amp;lt;/svg&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在 Head 中使用 SVG 即可：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&amp;lt;&lt;span&gt;link&lt;/span&gt; &lt;span&gt;rel&lt;/span&gt;=&lt;span&gt;&quot;icon&quot;&lt;/span&gt; &lt;span&gt;href&lt;/span&gt;=&lt;span&gt;&quot;favicon.svg&quot;&lt;/span&gt; &lt;span&gt;type&lt;/span&gt;=&lt;span&gt;&quot;image/png&quot;&lt;/span&gt; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>625b1d714d9a2e6368ba6d60ca59ff09</guid>
<title>Kafka 生产端实际项目中的使用分析</title>
<link>https://toutiao.io/k/4gftmjt</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;编程一生&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;/&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;cloudrise1986&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;致力于写大家都能看懂的、有深度的技术文章&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>eed45843fc15e86cea27906b1f356eeb</guid>
<title>其实，每次面试的问题都逃不过这几方面</title>
<link>https://toutiao.io/k/hti1ill</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你好， 我是 yes。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;因为最近在主攻的面试方面的文章。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;自己在网上翻阅了很多面经，也建立了面试题交流群（想入群的私我）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以看了很多真实的、新鲜的面试题。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;再结合下自己的面试经历、自己面别人的套路和之前朋友之间的面试交流。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我总结了下，提问方向基本上都是固定的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;让我们一起来看看吧~&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;项目&lt;/span&gt;&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;毋庸置疑，这玩意非常重要。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;几乎所有的面试，面试官都会让你介绍自己的项目。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;他会问你：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;项目整体架构&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;共包含哪些服务&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;服务之间信息流是如何流转的&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;在项目中，有没有遇到什么难点&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;有没有排查过项目的线上问题&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;你觉得你现在的设计有什么问题么？&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;如果你负责的服务从100TPS变成1万TPS会有什么问题？怎么处理？&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;如果你负责的这个功能之后需要频繁变更，你怎么设计？&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;等等等&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当然还有很多种问法，不过都会结合你当前的项目进行发问。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;面试官想考察你:&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;这个项目是不是真的是你做的&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;是否对项目整体都有把控和关心&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;平日里是否有对项目进行总结性思考&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;是否有线上故障处理能力&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;是否有设计和架构思维&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;一些知识点是否能学以致用，比如线程池原理说的很溜，但是不知道在项目上怎么用。&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以要&lt;span&gt;多多准备自己的项目，扒一扒你自己负责的模块&lt;/span&gt;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;多想想，如果产品要频繁变更需求的话，这里应该怎么设计。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果公司今年发展的很迅速，客户量激增的话，你负责的服务会有什么问题？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;需要怎么处理、怎么设计？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;因为这非常容易被问到，如果你答的好。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;那么不仅突出你这个人有点东西，还会体现出你平日里喜欢钻研和思考。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;对了，跟面试官介绍项目的时候，不要一上来就深入细节&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在下面这篇文章中，我说的很清楚了，可以看看。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkxNTE3NjQ3MA==&amp;amp;mid=2247485721&amp;amp;idx=1&amp;amp;sn=a30a9be1685d88c61d7dc5722d50d9c3&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;头条终面：写个消息中间件&lt;/a&gt;&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;Java基础&lt;/span&gt;&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这个也很重要。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;HashMap呀、ConcurrentHashMap哟&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Synchronized呀、Reentrantlock哟&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;volatile呀、threadlocal、线程池等多线程相关的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;JVM、GC。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这些问题还是很常见的，而且网上基本上都有，大多数同学称之为“八股文”。&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;百度百科：八股文（英译：Stereotyped Writing；Eight-Legged Essay），也称制义、制艺、时文、八比文，是明清科举考试的一种文体。八股文章就“四书五经”取题，内容必须用古人的语气，绝对不允许自由发挥，而句子的长短、字的繁简、声调高低等也都要相对成文，字数也有限制&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;不过，八股文也能看出深度的&lt;/span&gt;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;就拿 Synchronized 说，一般说个能自动解锁、可重入啥的，然后就锁升级一套combo。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;好点的还能说说字节码层面，扯个 ObjectMonitor&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;再好点那就是我这篇了，嘿嘿。&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkxNTE3NjQ3MA==&amp;amp;mid=2247488192&amp;amp;idx=1&amp;amp;sn=85fa12be29fef85d41c571b2c853de5d&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;深入JVM来理解Synchronized&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你还熟悉 AQS 的话，你会发现好像机制是一样的呀。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;都有一个同步队列，还有条件等待队列，然后唤醒 CAS 抢锁。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以当面试官问你 Synchronized ，你把 JVM 的实现跟他一说，再给他延伸一下 AQS ，怎么说？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;这波，有点秀&lt;/span&gt;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;面试官对你的印象，肯定很深，那你这几率不就大大的？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以有点追求，你稍微深入点，你就比大部分人都牛。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;对了，Java 基础面试题我可是已经整理了 52 题了，答案也写了，还不知道的去我公众号翻翻吧。&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;中间件&lt;/span&gt;&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;一般你的简历肯定会写 Redis、Memcache、Kafka、RocketMQ、RabbitMQ、Dubbo、Spring Cloud 之类的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你写啥基本上会问啥。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我拿 Redis 举个例子：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;你的项目为什么会选择用Redis而不是Memcache（技术选型）&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;你项目中一般怎么用 Redis 的&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;线上遇到 Redis 的相关问题没&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;你对 Redis 了解有多深？源码看过吗&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;说说 Redis rehash&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Redis 集群了解么？&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Redis 分布式锁怎么用？有什么问题？&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当然，还有很多问题，比如什么过期策略啊，AOF 之类的，我就不一一列举了。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;总之，这些问题想要得到的反馈是：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;项目上真正的使用，使用到哪个程度&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;看看你是否有选型能力，还是只是个不会思考的工具人&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;看看你对一个东西钻研有多深&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;是否有中间件相关排查和处理问题的经历&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;中间件的问法基本上就是这么个套路。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我号上也写了很多相关的了，比如 Kakfa 和RocketMQ 的对比呀之类的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;所以，打有准备的仗&lt;/span&gt;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你觉得时间来不及，你可以挑一个重点攻克一下，和面试官说我xxx比较熟，这样也是 ok 的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;毕竟，没有人是全能的。&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;数据库&lt;/span&gt;&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这个也是必问的，一般都是 MySQL。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;会问一些：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;项目上如何设计索引的呀&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;写 SQL 有哪些需要注意的&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;分库分表相关&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;数据太多怎么查询&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;常问索引结构，为什么要这样设计？&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;能说说索引查找的流程么？了解多少说多少&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;如何优化 SQL&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;隔离级别、MVCC&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;MySQL 的锁机制&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;redo log 、undo log 之类的&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;基本上就是这么些个问题，这么一列其实也就这样。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;从中看看：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;是否有 SQL 调优能力&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;是否有数据库设计能力&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;对数据库原理了解多少，即深度&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;嘿嘿，等着我的 MySQL 系列吧~&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;设计、场景、架构类&lt;/span&gt;&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比如：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;一个短链服务如何设计&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;排行榜如何设计&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;查找附近的人，如何设计&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;等等&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这类就是看看你个人的设计能力了。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;包括条理是否清晰、考虑是否全面、表述是否通顺等等。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;然后会和你互动，会问如果要这样的话怎么设计呀，如果要那样的话呢？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你说我扩容，我说不许扩容。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你说我限流，我说不许限流。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以，&lt;span&gt;这个还是得看看你的应变能力和平日的积累了&lt;/span&gt;。&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;其他&lt;/span&gt;&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;社招的话主要就这几方面，不过不排除一些其他问题。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这个其他，指代的东西其实很多、很广。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比如，网络相关的 TCP、UDP、HTTP、HTTPS。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;操作系统相关的用户态、内核态、零拷贝、内存分页等等。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这种会有，不过出现频率不会那么高。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;社招基本上围绕项目来展开的，以上的问题，校招多些。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;对了， Spring 、设计模式之类的，其实也比较常问，就划到其他这个类目吧。&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;上机&lt;/span&gt;&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;大厂逃不过笔试。&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;手写个LRU&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;反转链表&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;生产者消费者&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;多线程顺序打印&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;二叉树之类的&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;反正一般不会太难，最多中等难度。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这个平时日得多练练，注意是不要在 idea 里面写。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在 LeetCode 上直接写好，毕竟到时候没有联想功能。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;靠日积月累的刷题了，每天一题刷刷更健康！&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;也可以针对性的练习，比如把多线程专题一次性都刷完，然后再刷刷链表的啥的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;反正就是靠练，几乎需要形成肌肉记忆&lt;/span&gt;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;虽说 LeetCode 上面题目很多，但是常考的其实不外乎就那么几种。&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;最后&lt;/span&gt;&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;差不多了，提问基本上不会脱离这几个方向。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;并且这几个方向也都有固定的问题，不会偏离很多。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以针对性的准备准备，不打无准备之仗。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;准备完毕之后，&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;那你就是面霸了。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.60625&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nEdfyN77woZSrk4e4Kq4dkgKZvYu4bSR9vjRfVgMeibnSIqdNOibFa1rMh4PIvlyTjYunRr9ROiclOSg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;640&quot;/&gt;&lt;/figure&gt;&lt;hr data-tool=&quot;mdnice编辑器&quot;/&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;我是yes，我们下篇见&lt;/span&gt;。&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>9a42372aaa2e4421272e34acae02c1b7</guid>
<title>对伪装 docx 文件病毒的逆向分析</title>
<link>https://toutiao.io/k/y9hd6ye</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;点击上方&lt;span data-mid=&quot;&quot;&gt;蓝字&lt;/span&gt;关注我&lt;/p&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;title&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;&lt;span&gt;1.病毒文件的基本信息分析&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img data-ratio=&quot;0.8888888888888888&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/F5fjqXxeV4BpyqyFY96joAs95uctK5C40icC7GfefCs1Unjrp7ZaVd90g37d8gDNic1qgtwTFLM9V2ydbH8Zvwdg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;36&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;secondTitle&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;&lt;span&gt;1.1 病毒文件具体展示&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;病毒文件用的&lt;/span&gt;&lt;span&gt;&lt;strong&gt;资源图标是wps的图标&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;，以此让大家误认为是docx文件，最终是为了诱导大家点击打开病毒文件。&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJO5gWJpicEdsyicV3Otp3m7MqbKqO3LIPI7NV8C3Mm6HZ7fs3zfjEQb4sg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.39719029374201786&quot; data-w=&quot;783&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;secondTitle&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;1.2 病毒信息具体提示&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;打开解压病毒文件以及打开病毒文件就会被杀毒软件提示是恶意软件，它属于&lt;/span&gt;&lt;span&gt;&lt;strong&gt;trojan.generic病毒&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJOxKwcCFJJATCldc5elBjtDsPgmX37Y3faTIPxn7TmgBjtYzNbXicXxtw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.8876080691642652&quot; data-w=&quot;347&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;secondTitle&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;&lt;span&gt;1.3 trojan.generic病毒的定义信息&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;&lt;strong&gt;trojan.generic&lt;/strong&gt;它是计算机木马名称，&lt;/span&gt;&lt;span&gt;&lt;strong&gt;启动后会从体内资源部分释放出病毒文件&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;，有些在WINDOWS下的木马程序会绑定一个文件，将病毒程序和正常的应用程序捆绑成一个程序，释放出病毒程序和正常的程序，用正常的程序来掩盖病毒。病毒在电脑的后台运行，并发送给病毒制造者。这些病毒除有正常的危害外，还会造成主流杀毒软件和个人防火墙无法打开，甚至导致杀毒时系统出现“蓝屏”、自动重启、死机等状况。&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;secondTitle&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;&lt;span&gt;1.4 分析病毒的加壳情况&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;通过&lt;/span&gt;&lt;span&gt;&lt;strong&gt;Exeinfo PE工具&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;可以分析出该病毒样本是没有加壳的样本，并且是64位程序。通过区段表信息可以看到它是个常规的&lt;strong&gt;PE文件&lt;/strong&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJO59byC00skibRzm54nh4pZI3mfibGDicqClyhmjhmEg1uGpaENhvZ9xcdg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.7944983818770227&quot; data-w=&quot;618&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;secondTitle&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;1.5 分析病毒所依赖的模块信息&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;通过&lt;/span&gt;&lt;span&gt;&lt;strong&gt;CFF Explorer工具&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;可以查看该病毒样本主要依赖如下的5个模块信息。&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJOURuRRUNk9ibyyQvicrhL8fBR8uRjWjvHdFIUvIqpr827HicVia8SlPicoVg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.3247011952191235&quot; data-w=&quot;1004&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;secondTitle&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;&lt;span&gt;1.6 监控病毒文件行为&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;通过&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;Procmon&lt;/span&gt;进程监控工具&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;进行可以监控进程启动时，该病毒文件会删除自身文件，并重新创建一个新docx文件并将原来的文件内容写入到文件中。&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJOH68ibPv2mvjjCYiasJYicSXVq1eGOkXMpAmg1uV7xCKP2DH9zvFvicY6DA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.31851851851851853&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;下面是病毒运行后释放出来的原始文件，第二个文件是为了分析用，不让其进行自动删除病毒文件。&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJO7Jumcty3OYGMXXrwLLW2gOjsPrTndyx6YGQQ13BAVX7Kqmcqp8IQgw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.3110435663627153&quot; data-w=&quot;987&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;title&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;&lt;span&gt;2.病毒文件的关键功能信息分析&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img data-ratio=&quot;0.8888888888888888&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/F5fjqXxeV4BpyqyFY96joAs95uctK5C40icC7GfefCs1Unjrp7ZaVd90g37d8gDNic1qgtwTFLM9V2ydbH8Zvwdg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;36&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;secondTitle&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;2.1 病毒样本的反调试功能&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;背景：&lt;/span&gt;&lt;span&gt;&lt;strong&gt;ollydbg动态逆向分析工具&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;附加病毒文件进程，病毒文件就直接退出了，所以猜测该病毒样本具体反调试功能。&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;strong&gt;&lt;span&gt;病毒样本的反调试功能函数：IsDebuggerPresent()&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;过掉反调试功能：通过&lt;/span&gt;&lt;span&gt;&lt;strong&gt;API Hook(可以用微软Detours库)方式将反调试功能函数给Hook&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;掉，让其反调试功能失效，这样我们的ollydbg动态调试工具才能正常调试。&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJOXEiaMDiaqjrvQ2O5qIthqdHia3ZpOG1acbmff4ibkF9s0ic2TWxKcRqpvfg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;1.033921302578019&quot; data-w=&quot;737&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;&lt;strong&gt;IsProcessorFeaturePresent()函数详解&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJOlOQTkjteqZGyUnprpiap4INxnlsnT4Gib9VnJalPJFbCXWr7DfYP96Qw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.43577235772357725&quot; data-w=&quot;615&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;strong&gt;&lt;span&gt;IsDebuggerPresent()函数详解&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJOiaaToRiaqfSwFiasrEpA8Do6V5DsxPQ2cdsib2qCJ8POrTuOGwt7UEM0Hw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.4351648351648352&quot; data-w=&quot;455&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;secondTitle&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;2.2 每次只能启动一个病毒样本实例&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;通过创建互斥体&lt;strong&gt;CreateMutexA()&lt;/strong&gt;方式进行实现功能&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJOGNc88ptdB7ZQdRCGNgrDqFz19kG3skEVWmkBJcpgic8lDeaHibh7mbhA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.6947368421052632&quot; data-w=&quot;950&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;strong&gt;&lt;span&gt;CreateMutex()函数详解&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJOyOkmB4SeSibubYyHhZabXFAVYySE0HPU3pB8sCZEVSzSqfuYjhTRgRA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.40549273021001614&quot; data-w=&quot;619&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;secondTitle&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;&lt;span&gt;2.3 病毒文件结束自身进程&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;释放完原始的docx文件后，病毒文件就通过如下方式进行结束自身进程，并通过获取&lt;strong&gt;mscofee模块&lt;/strong&gt;中未导出的函数并调用&lt;strong&gt;corExitProcesss函数&lt;/strong&gt;实现关闭当前进程的非托管进程。&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJOxYE0lZibr6dTY8ONcyGHzZxNVGAZXItlVdiaAyK82eoD4yUBBicB7ias8g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.39590443686006827&quot; data-w=&quot;586&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJO0HtfAic1SNoQty5rCP98DORibXOAFKkeYevhT2B0qY9SryyZkGgRKr9w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.6873786407766991&quot; data-w=&quot;515&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;secondTitle&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;2.4 启动原始的docx文件&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;通过&lt;strong&gt;CreateProcess()函数&lt;/strong&gt;方式进行启动打开docx文件。&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJOD3ibQyR9O9xtanv80s8Dw0LpSicOztxhlI6lI7uXaMicQJ3iaId6OSS3jA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.768377253814147&quot; data-w=&quot;721&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;secondTitle&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;2.5 进行信息收集上传&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;通过&lt;strong&gt;TCP网络传输&lt;/strong&gt;方式进行数据的信息收集并上传到病毒服务器(服务器ip在山西某地)上，其中服务器信息及上传的内容通过进行&lt;/span&gt;&lt;span&gt;&lt;strong&gt;MD5加密&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;并进行处理。&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr68E8ibibtq7zQ2LicX7VibibsJOSBH2faM32R7nhXd1KryMesMyZg2m29EgQxeYQnFGKwBHLibaOgTgibIw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.5601851851851852&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;image&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;title&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;&lt;span&gt;3. 总结&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img data-ratio=&quot;0.8888888888888888&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/F5fjqXxeV4BpyqyFY96joAs95uctK5C40icC7GfefCs1Unjrp7ZaVd90g37d8gDNic1qgtwTFLM9V2ydbH8Zvwdg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;36&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;通过对该病毒样本的基本信息分析，可以了解到该&lt;strong&gt;病毒的整个流程是&lt;/strong&gt;：启动病毒文件获取病毒文件的路径及文件相关信息，释放出原始的文件到病毒文件所在的路径，并将运行的环境信息上传到病毒服务器，接着自动删除病毒文件，最后启动原始的文件。&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;span&gt;通过对病毒逆向分析，可以了解到调用IsDebuggerPresent()函数可以实现反调试检测功能。&lt;/span&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img data-ratio=&quot;1.2439024390243902&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/sfviaLicLevtu9Wd1DLZ3Egag5Mh1icxbwXu5wKo3Us0s94y01TMr341XuCPDE9pWRv0lSN8fkQuib9smrib7iccPRxQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;82&quot;/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;end&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img data-ratio=&quot;1.2439024390243902&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/RMvr65sMTU7sdS4sNTg13Lcz3zXSZVMDml6icEjEXrvMamia29C973WU97ibALuK4tsL7D1ls3SX5anIiaNwZOcx3g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;82&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzUxODkyODE0Mg==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/jVCRndy8Lr7UTRRQFR4CwawI4l5emtHzyT9ib2NUPksicjXcnRdko2mbaFwDBKMPg3k5YNzvpxgbOlJT7oOdMxvg/0?wx_fmt=png&quot; data-nickname=&quot;小道安全&quot; data-alias=&quot;kdsafety&quot; data-signature=&quot;以安全开发、逆向破解、黑客技术、病毒技术、灰黑产攻防为基础，兼论程序研发相关的技术点滴分享。&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;p mpa-paragraph-type=&quot;body&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/0ldUk3oPhlia2DqOE7MBlRhSZEWM8GQP6oC1FNG5CImW62Wel397icVYqydTs17F2gDBiaancZN3GBJBJMAmPnPBw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;28&quot;/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;点个&lt;/p&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img data-ratio=&quot;0.6428571428571429&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/FqwU1eRAibjCDLrwliayiaYtUMl7belPnM4aooRmRo4QBPpciaBGib9Y9vUkUTPQOYmlxw24mnOkSqtq0etz5UFSYbQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;28&quot;/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;在看&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;你最好看&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>38eae010f8d23c39f58c18d2dedd9caf</guid>
<title>ABTest 流量分发和业界的一些做法经验</title>
<link>https://toutiao.io/k/urs7p59</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;流量为王的时代，如何精准的利用用户的流量进行分析和产品的迭代？ABTest就是其中不可缺少的一环，那么ABTest是什么呢？下面来一层一层揭开它神秘的面纱。&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;0.流量分发&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在互联网流量的分发模式中，主要的两种分发模式为：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;中心化：平台负责流量的分配，节点的流量来自平台分配，平台拥有流量的控制权，比如像淘宝、京东、美团等互联网产品都是一个中心化的流量分发模式&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;去中心化：相对于中心化而言，去中心化模式并不负责流量的分配，节点的流量需要自己获取，节点本身拥有流量的控制权，其中典型的产品是微信，张小龙在阐述微信公众平台的八大观点时，就提到说“微信要打造的是一个真正的去去中心化系统，不会提供一个中心化的流量入口来给所有的第三方平台”&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;因为本文主要介绍的是ABTest，所以针对去中心化的模式就不展开叙述，主要聊一下中心化模式。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;基于不同的流量分发模式，流量分发的方式包括：搜索分发、算法分发、社交分发、人工分发、付费分发，其对应的产品如下所示，其中除了社交分发是属于去中心化的模式，其他的均属于中心化的流量分发方式，可见中心化分发方式的广泛性。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-backh=&quot;277&quot; data-backw=&quot;558&quot; data-ratio=&quot;0.4969770253929867&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/02kicEWsIniciaPyudjTaaPBTWG01gaKXc0FhQsWrZNe8D4xLulVrxzfBxpGSria9WcicicmuYvXmqhic1yYA4KGBDjuA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1654&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;其中搜索分发和算法分发应该是做算法同学接触最多的了，因为搜广推的场景下流量的珍贵性和严谨性，是我们算法策略迭代的基石。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在互联网行业，无路是构建搜索、广告、推荐系统，还是智能营销等场景，其实都是围绕着用户流量进行不同的实验，这其中流量的分发显得就格外的重要，因为我们要基于不同的流量，进行各项指标的监控和对比，继而决策算法策略改进的方法。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;而流量分发中一个很重要的概念就是ABTest（AB实验），那么什么是ABTest呢？我们往下看。&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;1.ABTest介绍&lt;/h1&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;1.1 ABTest来源&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;ABTest的前身是随机对照试验-双盲测试，是「医疗/生物试验将研究对象随机分组，对不同组实施不同的干预，对照起效果」。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;双盲测试中病人被随机分成两组，在不知情的情况下分别给予安慰剂和测试用药，经过一段时间的实验后再来比较这两组病人的表现是否具有显著的差异，从而决定测试用药是否真的有效。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;2000年谷歌工程师进行了第一次AB Test，试图确定在搜索引擎结果页面上显示的最佳结果数量。后来AB测试不断发展，但基础和基本原则通常保持不变，2011年，谷歌首次测试后11年，谷歌进行了7000多次不同的AB测试。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;12年奥巴马竞选网站的样式，通过AB Test 找到了更能吸引募捐，帮助奥巴马赢得了更高的募捐金额。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;1.2 ABTest描述&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;关于ABTest并没有一个官方的定义或者怎么样，因为从名字上我们就可以知道其大概的表述含义，每个人理解的都相差无几。维基百科上给ABTest下了一个定义为：&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;A/B testing is a way to compare two versions of a single variable, typically by testing a subject&#x27;s response to variant A against variant B, and determining which of the two variants is more effective.&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;其实通俗来讲，ABTest就是比较两个事物好坏的一套方法论。比如某个平台将不同的用户分成不同的组，同时测试不同的方案，通过用户反馈的真实数据来找出哪一个方案更好。这解决的是“多种方案需要拍脑袋确认哪一种更好的问题”。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;1.3 ABTest特性&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;对于ABTest，有哪些特性呢？如下描述&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;先验性：ABTest 是一种“先验体系”，属于预测型结论（与其相对的是后验型的经验归纳）。同样是一个方案是否好坏：ABTest 通过小流量测试获得具有代表性的实验结论，来验证方案好坏后再决定是否推广到全量；后验型则是通过发布版本后的版本数据对比总结得到&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;并行性：是指支持两个或以上的实验同时在线，并需要保证其每个实验所处环境一致。并行性极大的降低了多实验的时间成本&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;科学性：ABTest是用科学的方式来验证方案，科学性体现在流量分配的科学性、统计的科学性。记得在开篇提到的“AB测试的前身是随机对照实验，医疗/生物实验将研究对象随机分组，对不同组实施不同的干预，对照起效果”，这要求ABTest将相似特征的用户均匀的分派到实验组别中，确保每个组别的用户特征相同&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;1.4 ABTest目的&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;一些通用目的为：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;减少发布新功能或者改版的风险，比如某个产品需要进行界面的改版，在没有进行ABTest的情况贸然切换到新版，如果引发用户流失、相关指标的下降，带来的后果是非常严重的。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;收集用户的数据，基于数据了解平台用户的偏好，&lt;strong&gt;现在很多功能的改动，都是抄袭竞品的变化，看对手动了，没有去思考对方为什么这么改动，是否适合我们的用户，经过多次AB测试后，能让我们更加了解自己的用户偏好，用户群的画像特征，也更利于下一次改版&lt;/strong&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;真正的用数据帮助决策，通过AB实验的效果数据，决定策略的迭代和更新&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在做推荐算法的过程中，我们也离不开ABTest，这样的背景下，ABTest的目的主要是评估优化后策略算法的效果，如果我们优化的一个策略相对于基准组是正向且显著的，那么就可以将该策略进行推全。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;1.5 ABTest局限&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;ABTest虽然强大，但却不是万能的，因为ABTest是验证方案、想法、策略的有效性，而不是凭空去创造一个方案、想法、策略。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;知乎上有一个关于ABTest的描述极其的准确，分享给大家：&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;你可以用A/B测试让你在已经到达的山上越来越高，但你不能用它来发现一座新的山脉。如果你的产品真正需要的是一个完整的改造，那么A/B测试可能做不到&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;同时字节跳动创始人张一鸣在清华经管学院，对问题“PM是否可以产品设计上是否更多的依赖ABtest而非直觉?”的解答，也准确的描述ABTest的意义：&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;我们认为这和ABtest同样重要。我们反对从逻辑到逻辑，从逻辑到逻辑，很容易失之毫厘谬以千里。有一手的体验能帮我们远离偏差，我们愿意把用户的感受、体会带到公司。我们全球化的第一件事情是海外用户反馈，提供联系方式，让用户可以直接联系到我们。PM是需要sense的，AB的science可以用来的降低在细节层面的精力付出。&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;ABTest是有开发成本的，一个公司想要打磨出一个优秀的ABTest平台必定要投入大量的精力、人力。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;ABTest的数据只有现象，没有详情。它可以给出实验组比对照组的效果好现象，但无法给出过程数据。测试相对复杂的方案，ABTest无法表述出具体是哪个方面呈现出了优势。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以说&lt;strong&gt;ABTest并不是万能的，但是在做产品的过程中离开ABTest也是万万不能的。&lt;/strong&gt;&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;2.产品发展到哪个阶段需要ABTest&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;上面针对ABTest做了详细的介绍，那么在针对一个产品做到什么程度需要ABTest呢？当然有精力、能力的团队可以在产品的一开始就进行ABTest平台的建设和利用，但是大多数团队和产品在产品的出去阶段并没有能力去建设自己的ABTest平台。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以这个答案并不是一概而论的，一个比较通常的理解是当产品在初期阶段、或者是月活只有几十万的级别并不需要搭建复杂的ABTest平台，但是这并不说明不需要进行ABTest，可以利用一些简单的做法进行ABTest，比如利用用户的唯一ID做简单的Hash进行测试，或者一开始设计用户ID时进行自增设计，这种情况下可以利用ID的尾数进行简单的分桶测试。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当产品的月活达到百万级别时，这时候就需要开始搭建自己的ABTest平台了，这时候月活已经到达了一定的规模，需要对流量进行控制和有效的利用，基于此来进行产品的迭代和策略的更替。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当产品的月活达到千万、亿级别时，这时候自己公司的ABTest平台应该是达到了一个比较完善和精准的状态了，因为国内用户的流量价值比较高，这时候需要进行可靠的、精准的分发和测试。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当然上述只是笔者自己的观点，不过大多数互联网公司的产品是符合这个发展规律的。针对一些大平台孵化的一些小产品，可能在产品的初期阶段就会进行精准的ABTest，因为已经有成熟的内部平台可以使用了。&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;3.ABTest流量切分方式&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里结合推荐系统来介绍ABTest流量的切分方式，将推荐系统简化为召回和精排两个过程。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;ABTest流量切分主要有两种方式：&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;水平的切分方式比较容易理解：比如我们有100%的流量，将其中的50%流量分给召回，把剩下的50%流量分给精排。在这种情况下进行试验，当某个试验的指标为正向时，进行推全，然后在该部分流量上继续进行别的试验，这种流量切分方式比较直观，可以看到定向组合流量下得到的试验效果，但是不够灵活，流量的利用程度不高。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;树形的切分方式则是将推荐系统中的不同模块进行分层，比如召回是一个层，精排是一个层，因为召回出来的结果需要汇聚之后送到精排层做排序。这种情况下每层都是100%的流量，可以进行流量的充分利用。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;一般情况下，采用的流量切分方式为：树形的切分+水平的切分。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比如召回100%的流量，召回中又分为多路召回，在召回层中我们可以采样水平的切分方式，将流量切分为若干个桶，比如1-10，然后选定基准桶（假设编号为1），然后在剩下的2-10个桶里进行不同的召回试验。同样可以将精排层的流量划分为若干个桶，每个桶进行不同的模型试验、不同的特征试验、不同的参数试验等。&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;4.ABTest平台应该包含哪些功能&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;一个标配的ABtest平台应该包含哪些功能呢？这里主要借鉴的OPPO的ABTest平台知识，详细原文可以阅读：&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=Mzg4MzE2MzY1OA==&amp;amp;mid=2247485707&amp;amp;idx=1&amp;amp;sn=db51e6c7a057fbba8eb2be70112e724e&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;OPPO在A/B实验分析平台的建设与实践&lt;/a&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;4.1 ABTest的核心能力&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;从A/B实验的形态上来看，可以分为算法类、产品功能类、页面展示类等实验。从集成端看，可以分为服务端、客户端、网关等。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;站在实验生命周期的角度考虑，一个完整的实验流程一般是创建实验 —&amp;gt; 做实验 —&amp;gt; 实验效果分析 —&amp;gt; 调整实验的闭环，流程的示意图如下。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ECThdibSVDxgXsZLxUQXsWhgDHYKWbLeZibwDCsEXQreYXBGcicMOahiayKvY7RWP1oLiaoOXr3HaGAzSzg8P5thS1Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.2975929978118162&quot; data-w=&quot;914&quot; data-backw=&quot;558&quot; data-backh=&quot;166&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;整个核心流程主要涉及三个阶段，创建实验和调整实验可归结为同一阶段，不同的阶段各自可以相互独立又相关，每个阶段需要提供的能力如下:&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;创建/编辑实验需要提供实验相关的管理，如参数、变量、版本控制、回滚，流量占比配置等一系列能力，可以抽取出一个实验管理模块&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;做实验阶段主要涉及分流和埋点数据上报，分流主要通过SDK来实现，同时还需要一些服务化的能力提供些外部接口以及SDK的数据交互，埋点数据主要是实验数据的回收&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;实验效果分析主要涉及指标体系的构建和实时表报的开发等一整套olap的能力&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;4.2 实验管理&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;试验管理可以理解为一个易操作的web系统，除了管理试验外，需要包含一些相关的配置功能：业务线管理、账号管理、权限管理等。而实验管理主要涉及：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;应用：是管理所有实验的单元体，一个应用可以创建多个AB实验，应用也可以理解为一个个的实验场景，比如首页推荐、猜你喜欢&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;层：是应用内流量的横向划分，可以创建多层，每层是相同的流量，通过算法实现层与层的流量正交，层中包含实验，创建实验需要指定实验层，一个层同时只能做一个实验，因为要控制变量&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;指标：在每一个AB测试实验中，用于对比不同实验组优劣的数据就是指标（这里需要注意的是分析相关指标需要有相应的数据上报）&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;实验组：实验组和对照组是一组相对的概念，AB实验通常是为了验证一个新策略的效果，对照组一般又称base组&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;4.3 分流服务&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;分流服务主要解决流量控制和切分，主要参考2010年Google论文《Overlapping Experiment Infrastructure:More, Better, Faster Experimentation》确定了流量模型，划分了放量域、非重叠域、重叠域，重叠域支持分层，具体的了流量模型如下图：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-backh=&quot;223&quot; data-backw=&quot;558&quot; data-ratio=&quot;0.4002859185132237&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/02kicEWsIniciaPyudjTaaPBTWG01gaKXc0e068iaT5ZgRlLKibC6WXrrrujMa8DVxX8DR1D2Jl74JoRZpBJdFl7DMQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1399&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;确定流量模型后，还需要解决如何分流，即一个用户发起一个请求，如何命中实验？这涉及分流算法、用户标识、标签、流量比例等一系列因素，这里为了突出分流的过程，结合分流算法和用户标识，抽象出了分流树。如下图，图示的灰绿色箭头为一次请求的完整分流过程，即一次分流，可能命中多个实验或者一个实验，也可能没有任何命中，图中的hash属于一种分流算法，目前除了支持Hash算法，还支持随机算法，也可让业务方自定义分流算法&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-backh=&quot;391&quot; data-backw=&quot;558&quot; data-ratio=&quot;0.7010406811731315&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/02kicEWsIniciaPyudjTaaPBTWG01gaKXc0icFsO6yuhak0lkFB2HNh2viaaxIhpovrA9wGseboRcLoh3nnTiabg0nMQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1057&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;服务主要以SDK的方式提供服务，接入方只需要集成相应语言的SDK即可，这样可以避免不必要的网络请求，保障分流的稳定性和响应延迟。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;4.4 实验效果&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;实验效果主要是在进行实验后，针对AB实验差别的可视化能力，为了方便业务团队快速的分析，需要构建一些基础的指标体系，比如：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;基础指标：PV、UV、人均次数、渗透率、分位数、去重&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;自定义组合指标&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;数据回收与分析&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;实验数据的回收，主要使用公司的统一埋点SDK实现，有客户端将实验ID映射带埋点事件，随埋点上报到数据中心，然后使用flink从kafka消费入库到分析引擎ClickHouse，为了达到数据延迟在1分钟以内，数据在flink完成hash分片，然后直接写到ClickHouse本地表。&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;5.ABTest指标选择与有效性检验&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当设计好ABTest实验时，最重要的两点就是实验评判指标的选择和实验结果的有效性检验。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;5.1 评判指标选择&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;做AB实验之前，需要明确测试的目的，根据目标去制定合理的指标。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比如针对产品的首页改版，我们更加关注的是老用户的留存率，因为不同的页面对于老用户的心智影响比较大，老用户的行为习惯已经被养成了，当改动页面时老用户可能会因为不习惯新页面的变化而流失。所以在做这类实验时，要尽量避免大的改版，而且改版后给予的流量不要太大，否则影响会比较大。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比如电商产品的详情页改版，其目的是提高商品详情页的转化率，因此确定指标就需要考虑过程性指标，也要考虑结果指标，当然结果指标是最重要的。&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;过程性指标：商品详情页的跳出率、平均停留时长，页面功能的点击率&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;结果指标：加购或者立即购买的转化率，支付金额、支付人数&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比如：社区类产品增加了一个模块，目的是增加用户的粘性&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;过程性指标：新模块的曝光点击情况，旧模块的曝光人数、旧模块的点击人数来判断新增模块对旧模块的负面影响&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;结果指标：用户总时长、用户人均时长&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;最终根据这些指标进行评价功能的好与坏，来决定新功能是否要保留上线&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当对于一些策略的AB实验时，我们更关注的则是相关的业务KPI指标，比较策略算法都是为了业务服务的。经常关注的一些指标比如：CTR、CVR、CXR、交易额、RPM等。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;5.2 有效性检验&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当产出ABTest的结果时，如何去判断我们的结果是否有效呢？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;首先需要保证的是我们流量比例，即&lt;strong&gt;样本的量级&lt;/strong&gt;。假设AB两组实验的用户具有相同的标准差&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_svg/AhLk989Zrl2fbtqV8oeRCyYeyO6cNZicMXnhT8WQZnwTh81CwLHW0YRiaTlJdpibicJAicYHXw6uv0wn6xHrwyic8biaBvV0yRRhTyQ/640?wx_fmt=svg&quot; data-type=&quot;svg&quot; data-ratio=&quot;0.25396825396825395&quot; data-w=&quot;63&quot;/&gt;，根据公式，带入n1，同时根据假设p值和a值，推导出需要的最低用户数。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/CuZzSF5jYZwYWgZPNny6pnWpQPJDyEAYYrVzTpH9beWEoeX8OiaKeU5NOT3wCusicCaztPKFFS9uGHTFibTl6Qrgw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.27906976744186046&quot; data-w=&quot;387&quot;/&gt;&lt;figcaption&gt;图片&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;其次是&lt;strong&gt;假设检验&lt;/strong&gt;，在适当的条件下，中心极限定理告诉我们，大量相互独立随机变量的均值适当标准化后依分布收敛于正态分布，AB测试采用双样本对照的z检验公式，显著性上，根据z检验算出p值，通常我们会用p值和0.05比较，如果p&amp;lt;0.05，我们认为AB没有显著差异，置信问题上，对一个概率样本的总体参数进行区间估计的样本均值范围，他展现了这个均值范围包含总体参数的概率，这个概率称为置信水平。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;从另一个角度来说，AB两个实验组之间即使有差异，也不一定能被观测出来，必须保证一定的条件才能使你能观测出统计量之间的差异；否则，结果也是不置信的。而这个条件就是开头提到的问题，样本数量问题。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;关于假设检验，这里就不展开表述了，具体可以参考知乎文章：假设检验——这一篇文章就够了&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;6.业界的一些ABTest经验&lt;/h1&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;6.1 ABTest的两种形式&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;据笔者了解到，业界ABTest的实现基本有两种做法：&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;第一种就是提前分配好流量，对应的是「流量切分方式」中的水平切分方式，比如将所有的流量划分为20个桶，然后选定基准的试验桶，在剩余的各个桶内进行AB实验，当实验效果是显著正向时，将该实验进行推全（即在每个实验桶都进行配置，或者做一个前置的控制）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;第二种则是根据需要动态的划分流量，这里可以区分层（比如推荐系统中的召回、粗排、精排等），也可以不进行层的区分。当进行层的区分时就是树形的流量切分方式+水平的切分方式，如果不进行分层，就是根据需要划分5%或者10%或者其他占比的流量进行实验。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;针对第二种分层控制时，我们的召回有若干路，分别使用大些字母ABCD等表示，当只有ABC三组召回时，可以进行配置的方式为：A:0-33,B:34-67,C:68-99，当新增召回源D时，可以将陪配置修改为：A:0-24,B:25-49,C:50-74,D:75-99。依次类推。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里还有一种特殊的ABTest形式，就是字节跳动的赛马机制，不过这里是针对item的。其基本原理介绍如下：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;冷启动推荐&lt;/strong&gt;：通过审核后，抖音会对实时在线用户进行流量分桶，每桶按照总用户量10%分配进行实验推送，第一步叫冷启动流量池曝光，比如你今天上传一个视频，通过双重审核的作品，系统将会分配给你一个初始流量池：200-300在线用户。不论你是不是大号，只要你有能力产出优质内容，就有机会跟大号竞争&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;标签积累&lt;/strong&gt;：分配的视频流量再进行分配实验组，每个实验组按照5%比例分配，并为用户贴上相近标签&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;加权推荐&lt;/strong&gt;：把作品送量测试给首个实验组用户，根据用户反馈的转、评、赞、完播率等计算作品基数，决定是否进行第二轮推荐及推荐力度。即播放量=A&lt;em&gt;完播率+B&lt;/em&gt; 点赞率+C* 评论率+D* 转发率。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;加大流量推荐&lt;/strong&gt;：达到通过推荐基数，继续把作品推送下一个分配实验组进行测试&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;顶流推荐&lt;/strong&gt;：进入精品推荐池，大规模曝光，一旦进入精品推荐后，人群标签就被弱化了，几乎每个抖音用户都会刷到&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;6.2 其他公司的ABTest做法&lt;/h2&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;7.参考&lt;/h1&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;7.1 文章&lt;/h2&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;7.2 论文&lt;/h2&gt;&lt;section data-tools=&quot;135编辑器&quot; data-id=&quot;27&quot; data-custom=&quot;#1e9be8&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;关注我们不错过每一篇精彩&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzI2MDU3OTgyOQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/02kicEWsIniciaRWJ07GCCGQZ65yrAqsUqjdJ5e37HmjZBE5JaFMGb7VmW4p3YcuYRpibEzFTabwl07IaMEqCNwzcA/0?wx_fmt=png&quot; data-nickname=&quot;搜索与推荐Wiki&quot; data-alias=&quot;SearchAndRecWiki&quot; data-signature=&quot;专注于搜索和推荐系统，以系列分享为主，持续打造精品内容！&quot;/&gt;&lt;/section&gt;&lt;pre&gt;&lt;section data-role=&quot;outer&quot; label=&quot;Powered by 135editor.com&quot;&gt;&lt;section data-tools=&quot;135编辑器&quot; data-id=&quot;27&quot;&gt;&lt;section data-tools=&quot;135编辑器&quot; data-id=&quot;27&quot; data-custom=&quot;#1e9be8&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;「&lt;/span&gt;&lt;span&gt;搜索与推荐Wiki」猜你喜欢&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>