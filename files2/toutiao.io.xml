<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>439d191b0f2b207cf79e985d5458f4ce</guid>
<title>什么是真正的程序员？| 码农周刊第 323 期</title>
<link>https://toutiao.io/k/v08ikpz</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;body class=&quot;issue&quot; id=&quot;readabilityBody&quot;&gt;
        &lt;h1&gt;什么是真正的程序员？| 码农周刊第 323 期&lt;/h1&gt;
        &lt;h2&gt;码农周刊第323期（2020-10-28）&lt;/h2&gt;
        &lt;p&gt;☞ &lt;a href=&quot;https://weekly.manong.io/bounce?nid=323&amp;amp;aid=19568&amp;amp;url=https%3A%2F%2Fvip.manong.io%2F%3F3230&quot; target=&quot;_blank&quot;&gt;薪资翻番如何实现？程序员的涨薪秘诀&lt;/a&gt;&lt;br/&gt;&amp;#13;
&lt;a href=&quot;https://weekly.manong.io/bounce?nid=323&amp;amp;aid=19568&amp;amp;url=https%3A%2F%2Fvip.manong.io%2F%3F3230&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://img.toutiao.io/ads/vip_321.png&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;&lt;br/&gt;&amp;#13;
&lt;small&gt;&lt;a href=&quot;https://weekly.manong.io/bounce?nid=323&amp;amp;aid=19185&amp;amp;url=https%3A%2F%2Fjinshuju.net%2Ff%2FV7DxN9&quot; target=&quot;_blank&quot;&gt;商务合作&lt;/a&gt;&lt;/small&gt;&lt;/p&gt;
        
        &lt;h3 id=&quot;程序设计&quot;&gt;程序设计&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;「码农周刊 VIP 会员专属邮件周报」每周五发送，自订购之日算起，全年 52 期。&lt;/p&gt;
        
        &lt;p&gt;详细介绍&lt;/p&gt;
        
        &lt;p&gt;业界实战&lt;/p&gt;
        
        &lt;p&gt;经验分享&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.toutiao.io/ads/vip_3041.jpeg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
        &lt;h3 id=&quot;VIP会员专区&quot;&gt;VIP会员专区&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;工作地点：成都 | 薪资：15-30K | 简历投递邮箱：xiexiaofang@huobi.com&amp;#13;
&lt;/p&gt;
        
        &lt;p&gt;适合入门&amp;#13;
&lt;/p&gt;
        
        &lt;p&gt;该框架由阿里云机器学习 PAI 团队研发，让自然语言处理场景的模型预训练和迁移学习开发与部署更加简单和高效。&lt;/p&gt;
        &lt;h3 id=&quot;工具资料&quot;&gt;工具资料&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;「码农周刊 VIP 会员专属邮件周报」每周五发送，自订购之日算起，全年 52 期。&lt;/p&gt;
        
        &lt;p&gt;经验分享&lt;/p&gt;
        
        &lt;p&gt;供参考&lt;/p&gt;
        
        &lt;p&gt;详细介绍&lt;/p&gt;
        
        &lt;p&gt;硬核&lt;/p&gt;
        
        &lt;p&gt;供参考&lt;/p&gt;
        
        &lt;p&gt;系列文章&lt;/p&gt;
        
        &lt;p&gt;论文笔记&lt;/p&gt;
        
        &lt;p&gt;系列文章&amp;#13;
&lt;/p&gt;
        
        &lt;p&gt;因子分解机算法&lt;/p&gt;
        
        &lt;p&gt;深入讲解&lt;/p&gt;
        
        &lt;p&gt;详细介绍&lt;/p&gt;
        
        &lt;p&gt;Yahoo 开源的 Kafka 集群管理平台&lt;/p&gt;
        
        &lt;p&gt;供参考&lt;/p&gt;
        
        &lt;p&gt;经验分享&lt;/p&gt;
        
        &lt;p&gt;更多可能&lt;/p&gt;
        
        &lt;p&gt;实战经验&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.toutiao.io/ads/vip_3041.jpeg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
        &lt;h3 id=&quot;编程语言&quot;&gt;编程语言&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;「码农周刊 VIP 会员专属邮件周报」每周五发送，自订购之日算起，全年 52 期。&lt;/p&gt;
        
        &lt;p&gt;系列文章&lt;/p&gt;
        
        &lt;p&gt;源码分析&lt;/p&gt;
        
        &lt;p&gt;一个 Android Jetpack 扩展库&lt;/p&gt;
        
        &lt;p&gt;简明介绍&lt;/p&gt;
        
        &lt;p&gt;详解&lt;/p&gt;
        
        &lt;p&gt;一步步教你&lt;/p&gt;
        
        &lt;p&gt;供参考&lt;/p&gt;
        
        &lt;p&gt;系列文章&lt;/p&gt;
        
        &lt;p&gt;供参考&lt;/p&gt;
        
        &lt;p&gt;倾向于使用 Less 或 Stylus&lt;/p&gt;
        &lt;h3 id=&quot;每周独家号推荐&quot;&gt;每周独家号推荐&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;这里有最接地气的架构师一线实战经验、核心技能的分享。运营和产品的总结。以及一些个人的深度思考。&lt;br/&gt;订阅方法：使用&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;开发者头条客户端&lt;/a&gt;，发现 &amp;gt; 搜索 268968 即可&lt;/p&gt;
        
        &lt;p&gt;GO PHP JS 一网打尽&lt;br/&gt;订阅方法：使用&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;开发者头条客户端&lt;/a&gt;，发现 &amp;gt; 搜索 146415 即可&lt;/p&gt;
        
        &lt;p&gt;分享技术，专注程序员成长&lt;br/&gt;订阅方法：使用&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;开发者头条客户端&lt;/a&gt;，发现 &amp;gt; 搜索 137785 即可&amp;#13;
&lt;/p&gt;
        
        &lt;p&gt;Coding虽易，debug不易....&lt;br/&gt;订阅方法：使用&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;开发者头条客户端&lt;/a&gt;，发现 &amp;gt; 搜索 98777 即可&lt;/p&gt;
        
        &lt;p&gt;专注分享Java实战技术、Java基础原理、微服务实战技术、分布式系统架构&lt;br/&gt;订阅方法：使用&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;开发者头条客户端&lt;/a&gt;，发现 &amp;gt; 搜索 22887 即可&lt;/p&gt;
        &lt;h3 id=&quot;每周一书&quot;&gt;每周一书&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;本书为对基本概率论感兴趣的读者以及之前未接触过此方向的人提供了一个坚实的基础。通过对话的方式和详细的数学推导，在迷人的风格和信息丰富的讨论上取得了平衡。欢迎到&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;开发者头条客户端&lt;/a&gt;兑换阅读。&lt;/p&gt;
        &lt;h3 id=&quot;编程之外&quot;&gt;编程之外&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;真实&lt;/p&gt;
        
        &lt;p&gt;值得思考&lt;/p&gt;
        
        &lt;p&gt;供参考&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.toutiao.io/ads/vip_3041.jpeg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
        &lt;p&gt;
        &lt;/p&gt;
        
        
        
        
        &lt;div class=&quot;qrcode&quot;&gt;
  &lt;img src=&quot;https://img.toutiao.io/ads/vip_qrcode.png&quot; alt=&quot;Qrcode 258&quot;/&gt;&lt;span&gt;加入码农周刊VIP会员&lt;/span&gt;
&lt;/div&gt;
    &lt;/body&gt;
&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>5ca5f35f6888ea57f7d041efbc59b4a9</guid>
<title>工具 | 字节跳动开源的，超高速、多特性的高性能序列推理引擎</title>
<link>https://toutiao.io/k/s6o3btm</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;开发者头条&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;/&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;Weixin ID&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;kaifazhetoutiao&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;About Feature&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;程序员分享平台 | 官方应用下载地址：http://toutiao.io/download&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>f29f63e2d832530a061aa1458836f241</guid>
<title>网易云音乐基于 Flink + Kafka 的实时数仓建设实践</title>
<link>https://toutiao.io/k/rtixudv</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;weui-dialog&quot;&gt;
      &lt;p class=&quot;weui-dialog__hd&quot;&gt;&lt;strong class=&quot;weui-dialog__title&quot;&gt;&quot;Top Stories&quot; is disabled&lt;/strong&gt;&lt;/p&gt;
      &lt;p class=&quot;weui-dialog__bd&quot;&gt;
        Enable &quot;Top Stories&quot; in &quot;Settings&quot; &amp;gt; &quot;General&quot; &amp;gt; &quot;Manage Discover&quot;      &lt;/p&gt;
      
    &lt;/div&gt;
  &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>6802ae398ebdaab2780e385afb96b812</guid>
<title>Hadoop 框架：NameNode 工作机制详解</title>
<link>https://toutiao.io/k/t467bth</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;h1&gt;&lt;span&gt;一、存储机制&lt;/span&gt;&lt;/h1&gt;&lt;h2&gt;&lt;span&gt;1、基础描述&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;NameNode运行时元数据需要存放在内存中，同时在磁盘中备份元数据的fsImage，当元数据有更新或者添加元数据时，修改内存中的元数据会把操作记录追加到edits日志文件中，这里不包括查询操作。如果NameNode节点发生故障，可以通过FsImage和Edits的合并，重新把元数据加载到内存中，此时SecondaryNameNode专门用于fsImage和edits的合并。&lt;/p&gt;&lt;h2&gt;&lt;span&gt;2、工作流程&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.5671875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvDnY411mwvHJ1lol0RBqrj6ic0iaicmHiaaZfjWNOvb3cpbCVytuWbwmwXibmjQCCjb0TBv2OtwicqmvXkg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;NameNode机制&lt;/strong&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;NameNode格式化启动之后，首次会创建Fsimage和Edits文件；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;非首次启动直接加载FsImage镜像文件和Edits日志到内存中；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;客户端对元数据执行增删改操作会记录到Edits文件；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;然后请求的相关操作会修改内存中的元数据；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;SecondaryNameNode机制&lt;/strong&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;询问NameNode是否需要CheckPoint，NameNode返回信息；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;如果需要SecondaryNameNode请求执行CheckPoint；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;NameNode切割现有日志文件，新记录滚动写入新Edits文件；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;滚动前的编辑日志和镜像文件拷贝到SecondaryNameNode；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;SecondaryNameNode加载Edits日志和FsImage镜像文件到内存合并；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;生成新的镜像文件fsimage.chkpoint后拷贝到NameNode；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;NameNode将fsimage.chkpoint重新命名成fsimage；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;&lt;span&gt;3、CheckPoint设置&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;通过修改hdfs-default.xml文件的相关配置，设置一些SecondaryNameNode的机制，例如每隔一小时执行一次。&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;property&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;name&lt;/span&gt;&amp;gt;&lt;/span&gt;dfs.namenode.checkpoint.period&lt;span&gt;&amp;lt;/&lt;span&gt;name&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;3600&lt;span&gt;&amp;lt;/&lt;span&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;property&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;&lt;span&gt;property&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;name&lt;/span&gt;&amp;gt;&lt;/span&gt;dfs.namenode.checkpoint.txns&lt;span&gt;&amp;lt;/&lt;span&gt;name&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;1000000&lt;span&gt;&amp;lt;/&lt;span&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;&lt;span&gt;description&lt;/span&gt;&amp;gt;&lt;/span&gt;文件满1000000记录数&lt;span&gt;&amp;lt;/&lt;span&gt;description&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;property&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;&lt;span&gt;property&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;name&lt;/span&gt;&amp;gt;&lt;/span&gt;dfs.namenode.checkpoint.check.period&lt;span&gt;&amp;lt;/&lt;span&gt;name&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;60&lt;span&gt;&amp;lt;/&lt;span&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;&lt;span&gt;description&lt;/span&gt;&amp;gt;&lt;/span&gt; 1分钟检查一次文件记录数&lt;span&gt;&amp;lt;/&lt;span&gt;description&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;property&lt;/span&gt; &amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h1&gt;&lt;span&gt;二、文件信息&lt;/span&gt;&lt;/h1&gt;&lt;h2&gt;&lt;span&gt;1、FsImage文件&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;NameNode内存中元数据序列化备份信息；&lt;/p&gt;&lt;p&gt;&lt;strong&gt;生成路径&lt;/strong&gt;：基于NameNode节点&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;cd&lt;/span&gt; /opt/hadoop2.7/data/tmp/dfs/name/current/&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.3734375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvDnY411mwvHJ1lol0RBqrj6SVj4sJDFBp0sOagUQS4ic0pEwgnztFlNhohJstIkTficPLdIibUGIfKvw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;查看文件&lt;/strong&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;# 基本语法&lt;/span&gt;&lt;br/&gt;&lt;span&gt;hdfs&lt;/span&gt; oiv -p 转换文件类型 -i 镜像文件 -o 转换后文件输出路径&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;基于语法格式，操作上图中的文件：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;# 转换文件&lt;/span&gt;&lt;br/&gt;&lt;span&gt;hdfs&lt;/span&gt; oiv -p XML -i fsimage_0000000000000000019 -o /data/fsimage.xml&lt;br/&gt;&lt;span&gt;# 查看&lt;/span&gt;&lt;br/&gt;cat /data/fsimage.xml&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这样就可以看到一些元数据的信息。&lt;/p&gt;&lt;h2&gt;&lt;span&gt;2、Edits文件&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;存放HDFS文件的所有增删改操作的路径，会记录在Edits文件中。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;基本语法&lt;/strong&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;hdfs&lt;/span&gt; oev -p 转换文件类型 -i 日志文件 -o 转换后文件输出路径&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;查看文件&lt;/strong&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;# 转换文件&lt;/span&gt;&lt;br/&gt;&lt;span&gt;hdfs&lt;/span&gt; oev -p XML -i edits_0000000000000000020-&lt;span&gt;0000000000000000020&lt;/span&gt; -o /data/edits.xml&lt;br/&gt;&lt;span&gt;# 查看&lt;/span&gt;&lt;br/&gt;cat /data/edits.xml&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h1&gt;&lt;span&gt;三、故障恢复&lt;/span&gt;&lt;/h1&gt;&lt;h2&gt;&lt;span&gt;1、拷贝SecondaryNameNode数据&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;首先结束NameNode进程；&lt;/p&gt;&lt;p&gt;删除NameNode存储的数据；&lt;/p&gt;&lt;pre&gt;&lt;code&gt;[root@hop01 &lt;span&gt;/] rm -rf /opt/hadoop2.7/data/tmp/dfs/name/&lt;/span&gt;*&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;拷贝SecondaryNameNode中数据到NameNode数据存储目录下；&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;# 注意SecondaryNameNode服务配置在hop03上&lt;/span&gt;&lt;br/&gt;[root@hop01 /] scp -r root@hop03&lt;span&gt;:/opt/hadoop2&lt;/span&gt;.&lt;span&gt;7&lt;/span&gt;/data/tmp/dfs/namesecondary/* &lt;span&gt;/opt/hadoop&lt;/span&gt;2.&lt;span&gt;7&lt;/span&gt;/data/tmp/dfs/name/&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;重新启动NameNode进程；&lt;/p&gt;&lt;h2&gt;&lt;span&gt;2、基于Checkpoint机制&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;修改hdfs-site.xml配置，同步到集群相关服务下，重启HDFS进程；&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;property&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;name&lt;/span&gt;&amp;gt;&lt;/span&gt;dfs.namenode.checkpoint.period&lt;span&gt;&amp;lt;/&lt;span&gt;name&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;120&lt;span&gt;&amp;lt;/&lt;span&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;property&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;&lt;span&gt;property&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;name&lt;/span&gt;&amp;gt;&lt;/span&gt;dfs.namenode.name.dir&lt;span&gt;&amp;lt;/&lt;span&gt;name&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;/opt/hadoop2.7/data/tmp/dfs/name&lt;span&gt;&amp;lt;/&lt;span&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;property&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;结束NameNode进程；&lt;/p&gt;&lt;p&gt;删除NameNode存储的数据；&lt;/p&gt;&lt;pre&gt;&lt;code&gt;[root@hop01 &lt;span&gt;/] rm -rf /opt/hadoop2.7/data/tmp/dfs/name/&lt;/span&gt;*&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;由于集群中SecondaryNameNode(在hop03)不和NameNode(在hop01)在一个主机节点上，需要将SecondaryNameNode存储数据的目录拷贝到NameNode存储数据的平级目录，并删除in_use.lock文件；&lt;/p&gt;&lt;pre&gt;&lt;code&gt;[root@hop01 /]scp -r root@hop03&lt;span&gt;:/opt/hadoop2&lt;/span&gt;.&lt;span&gt;7&lt;/span&gt;/data/tmp/dfs/namesecondary /opt/hadoop2.&lt;span&gt;7&lt;/span&gt;/data/tmp/dfs/&lt;br/&gt;[root@hop01 namesecondary/] rm -rf in_use.lock&lt;br/&gt;[root@hop01 dfs]$ ls&lt;br/&gt;data  name  namesecondary&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;导入检查点数据&lt;/p&gt;&lt;pre&gt;&lt;code&gt;[root@hop01 hadoop2&lt;span&gt;.7&lt;/span&gt;] bin/hdfs namenode -importCheckpoint&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;重新启动NameNode&lt;/p&gt;&lt;pre&gt;&lt;code&gt;[root@hop01 hadoop2&lt;span&gt;.7&lt;/span&gt;] sbin/hadoop-daemon.sh start namenode&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h1&gt;&lt;span&gt;四、多个目录配置&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;NameNode可以配置多本地目录，每个目录存放内容相同，增加运行的可靠性；&lt;/p&gt;&lt;h2&gt;&lt;span&gt;1、添加配置&lt;/span&gt;&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;# vim /opt/hadoop2.7/etc/hadoop/hdfs-site.xml&lt;br/&gt;# 添加内容如下&lt;br/&gt;&lt;span&gt;&amp;lt;&lt;span&gt;property&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;&lt;span&gt;name&lt;/span&gt;&amp;gt;&lt;/span&gt;dfs.namenode.name.dir&lt;span&gt;&amp;lt;/&lt;span&gt;name&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;&lt;span&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;file:///${hadoop.tmp.dir}/dfs/name01,file:///${hadoop.tmp.dir}/dfs/name02&lt;span&gt;&amp;lt;/&lt;span&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;property&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;该配置需要同步集群下所有服务；&lt;/p&gt;&lt;h2&gt;&lt;span&gt;2、删除原有数据&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;集群下所有服务都需要执行该操作；&lt;/p&gt;&lt;pre&gt;&lt;code&gt;[root@hop01 hadoop2&lt;span&gt;.7&lt;/span&gt;]&lt;span&gt;# rm -rf data/ logs/&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;格式化NameNode之后重启集群服务。&lt;/p&gt;&lt;h1&gt;&lt;span&gt;五、安全模式&lt;/span&gt;&lt;/h1&gt;&lt;h2&gt;&lt;span&gt;1、基本描述&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;NameNode刚启动时，会基于镜像文件和编辑日志在内存中&lt;/span&gt;加载&lt;span&gt;文件系统元数据的映像，然后开始监听DataNode请求，该过程期间处于一个只读的安全模式下，客户端无法上传文件，在该安全模式下DataNode会&lt;/span&gt;&lt;span&gt;发送最新的数据块列表信息到NameNode，如果满足最小副本条件，NameNode在指定时间后就会&lt;/span&gt;退&lt;span&gt;出安全模式。&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;2、安全模式&lt;/span&gt;&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;/opt/hadoop2&lt;span&gt;.7&lt;/span&gt;/bin/hdfs dfsadmin -safemode &lt;span&gt;get&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;/opt/hadoop2.7/bin/hdfs dfsadmin -safemode enter&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;/opt/hadoop2.7/bin/hdfs dfsadmin -safemode leave&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;/opt/hadoop2.7/bin/hdfs dfsadmin -safemode &lt;span&gt;wait&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h1&gt;&lt;span&gt;六、源代码地址&lt;/span&gt;&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;GitHub·地址&lt;br/&gt;https:&lt;span&gt;//github.com/cicadasmile/big-data-parent&lt;/span&gt;&lt;br/&gt;GitEE·地址&lt;br/&gt;https:&lt;span&gt;//gitee.com/cicadasmile/big-data-parent&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.3783359497645212&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvCjMheLZtcM2iaVMBOpIUKR4CDRCG9FLT5K6NmGXvG7exrW0TSuDjnTKJQ5PDq8j8Y7PHDd17Z3gicA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1274&quot;/&gt;&lt;span/&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>b581901f6eed47e94485ebe8abd30c73</guid>
<title>面试官：说说你知道的几种负载均衡分类</title>
<link>https://toutiao.io/k/ypwk0no</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/azicia1hOY6Qib8bdg1gFib46Ensr3Jtgm9uG3EDSFMjSIRAmuk7icL66kCiaLV8UiczRGyI2QAg1aBVsniccDJ2VXH3Ug/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1200&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;负载均衡其实就是任务的分发，使得任务能按照你的&lt;/span&gt;&lt;span&gt;预想&lt;/span&gt;&lt;span&gt;分配到各个计算单元上，它能提高服务对外的性能，避免单点失效场景。这里要注意的一点是虽说叫负载均衡，但是有时候我们的分配算法就是不是均衡的。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;比如配个nginx，做两台服务器的负载均衡，一台机子比较老是以前的配置比较低，一台是新机子配置高，那我们的分配权重可能就是3-7分,而不是&lt;/span&gt;&lt;code&gt;&lt;span&gt;五五开&lt;/span&gt;&lt;/code&gt;&lt;span&gt;。所以是&lt;span&gt;预想分配&lt;/span&gt;。但是业界还是习惯按照负载均衡来表达这个任务分配机制。&lt;/span&gt;&lt;/p&gt;&lt;h1&gt;&lt;span&gt;负载分类&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;&lt;span&gt;负载均衡常见的有:软件负载均衡、硬件负载均衡、DNS负载均衡。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h1&gt;&lt;span&gt;软件负载均衡&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;&lt;span&gt;软件负载均衡是最常见的，大小公司都需要用到它。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;软件负载均衡是通过负载均衡功能的软件来实现负载均衡，常见的软件有&lt;span&gt;LVS、Nginx、HAProxy&lt;/span&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;软件负载负载均衡又分四层和七层负载均衡，四层负载均衡就是在网络层利用IP地址端口进行请求的转发，基本上就是起个转发分配作用。而七层负载均衡就是可以根据访问用户的HTTP请求头、URL信息将请求转发到特定的主机。 LVS为四层负载均衡。Nginx、HAProxy可四可七。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5925324675324676&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/azicia1hOY6Qib8bdg1gFib46Ensr3Jtgm9uwPKJtjYw9UAaggCss1B5yuIIkKzHHj1BNClv0okuswxosx2KsLluuw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;616&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Nginx是万级别的，通常只用它来做七层负载，LVS来做四层负载。LVS是十万级别的，所以如果顶不住常见的也有这样的搭配。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5718120805369128&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/azicia1hOY6Qib8bdg1gFib46Ensr3Jtgm9ujcnR5rdnvIdh8KDKbSJp8NuiawEZzPg5gv9eLiaxhkgB3YRxk8zhErFw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;745&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;软件负载均衡的&lt;/span&gt;&lt;span&gt;优点在于便宜而且简单灵活&lt;/span&gt;&lt;span&gt;，就买个主机，装下软件，配置一下就能用了，配置也很简单对于一般小型企业，或者并发量不高的企业来说就够用了。而且在高峰期时容易扩容。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;缺点在于(和硬件负载均衡比)性能一般，流量很大的企业就用软件负载均衡顶不住，没防火墙或者防DDos攻击等安全性功能&lt;/span&gt;。&lt;/span&gt;&lt;/p&gt;&lt;h1&gt;&lt;span&gt;硬件负载均衡&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;&lt;span&gt;硬件负载均衡就是用一个硬件一个基础网络设备，类似我们的交换机啊这样的硬件，来实现负载均衡。 常见的硬件有F5、A10。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;优点就是：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1.功能强大，支持全局负载均衡提供全面的复杂均衡算法。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2.性能强悍，支持百万以上的并发。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3.提供安全功能，例如防火墙，防DDos攻击等。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;这么一听我靠这么吊谁不用啊赶紧买个。别急我们下面个图片。 这网上找的，价格升序了最低也得15万，高的我看到有90万的。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.7599118942731278&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/azicia1hOY6Qib8bdg1gFib46Ensr3Jtgm9u9nluHSzK8JXnibks9d4yZlrOIM1t87egJqEOicm3Un4o72pjWwxjRkUA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;908&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;缺点:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1.贵！这算是它最大的缺点了。为了安全通常还得一主一备，啧啧。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2.扩展能力差，当访问量突增的时候超过限度不能动态扩容。&lt;/span&gt;&lt;/p&gt;&lt;h1&gt;&lt;span&gt;DNS负载均衡&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;&lt;span&gt;这个负载均衡时通过DNS来的，因为DNS解析同一个域名可以返回不同的ip。所以例如哈尔滨的人访问百度就返回距离他近的那个机房的IP，海南的人访问百度就返回距离他近的那个机房的IP。所以主要是用来实现地理级别的负载均衡。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;优点就是:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1.简单，交给DNS服务器处理咱们都不用干活&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2.因为是就近访问可以减少响应的时间，提升访问速度&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;缺点：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1.DNS有缓存而且缓存时间较长，所以当机房迁移等需要修改DNS配置的时候，用户可能还会访问之前的IP，导致访问失败。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2.扩展能力差，因为运营商管理控制的，由不得我们定制或者扩展。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3.比较笨，不能区分服务器之间的差异，也不能反映服务器的当前运行状态&lt;/span&gt;&lt;/p&gt;&lt;h1&gt;&lt;span&gt;使用套路&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;&lt;span&gt;DNS负载均衡是地理级别的，硬件负载均衡对应的是集群级别的，软件负载均衡对应的是机器级别的。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.8680465717981889&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/azicia1hOY6Qib8bdg1gFib46Ensr3Jtgm9uodUu0dybibbhDiab94hKsUAibJ5XBHWsTwZloWDWrx5o9iaTrIMzI727jw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;773&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;不过一般而言像小公司或者流量不大的公司都是只需要软件负载均衡，也可能LVS都不需要上所以是按实际情况删减上图的一些东西。真正公司发展起来用户量激增才会考虑多机房和上硬件，毕竟是需求的驱使和不差钱了。&lt;/span&gt;&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;如有错误欢迎指正！&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;个人公众号：yes的练级攻略&lt;/span&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>