<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>66b6f89cb243de9f9900eb88ed52dcd9</guid>
<title>趣谈IO多路复用的本质</title>
<link>https://toutiao.io/k/j4nqhbc</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;p id=&quot;js_tags&quot; class=&quot;article-tag__list single-tag__wrp js_single js_wx_tap_highlight wx_tap_card&quot; data-len=&quot;1&quot; role=&quot;link&quot; aria-labelledby=&quot;js_article-tag-card__left js_a11y_comma js_article-tag-card__right&quot;&gt;
                                            
                                                                                    &lt;span aria-hidden=&quot;true&quot; id=&quot;js_article-tag-card__left&quot; class=&quot;article-tag-card__left&quot;&gt;
                                    &lt;span class=&quot;article-tag-card__title&quot;&gt;收录于话题&lt;/span&gt;
                                    &lt;span class=&quot;article-tag__item-wrp no-active js_tag&quot; data-url=&quot;https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzUzNjAxODg4MQ==&amp;amp;action=getalbum&amp;amp;album_id=2155317684974993409#wechat_redirect&quot; data-tag_id=&quot;&quot; data-album_id=&quot;2155317684974993409&quot; data-tag_source=&quot;4&quot;&gt;
                                        &lt;span class=&quot;article-tag__item&quot;&gt;#网络通信&lt;/span&gt;
                                    &lt;/span&gt;
                                &lt;/span&gt;
                                &lt;span aria-hidden=&quot;true&quot; id=&quot;js_article-tag-card__right&quot; class=&quot;article-tag-card__right&quot;&gt;15个&lt;/span&gt;
                                                                                        &lt;/p&gt;

                
                                
                
                

                
                                                                

                
                                


                
                
                
                
                                                
                                                                
                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p&gt;在&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzUzNjAxODg4MQ==&amp;amp;mid=2247486564&amp;amp;idx=1&amp;amp;sn=07ae2b4f11ceedb029f6351e3d67c2dc&amp;amp;chksm=fafde6cacd8a6fdc9f5b0ce668bcc7b57655f3cb3c427152ae70cf9f96bb6a6b778689e74dc4&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;《轻松搞懂5种IO模型》&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;《轻松搞懂5种IO模型》&lt;/a&gt;中，我发起了一个投票。&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;vote_area&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;答案是【同步IO多路复用】。目前，60%的朋友答对了。原因这里解释一下。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;同步和异步的概念&lt;/span&gt;区别&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;同步：线程自己去获取结果。(一个线程)&lt;/p&gt;&lt;p&gt;异步：线程自己不去获取结果，而由其他线程送结果。(至少两个线程)&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;异步执行如下图所示，除非不需要知道结果，否则一般会有一个回调方法。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6081632653061224&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tk5ianItRlibwAicyibKwptvaTrLpel9o7xt7uXTkFdFoPwoZdMWodV4Mic1JwZFDZo26aS8tKQUYaeJSN2eHcY9Pw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;490&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;IO多路复用的本质&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;为了彻底理解IO多路复用是同步还是异步，咱们探究一下IO多路复用的本质。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;I/O多路复用，复用的IO监听等待这条路。实际上就是用select/poll/epoll监听多个io对象，当io对象有变化（有数据）的时候就通知用户进程。好处就是单个进程可以处理多个socket。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;select/poll/epoll的优势并不是对于单个连接能处理得更快，而是在于能处理更多的连接。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;对于每一个socket，一般都设置成为non-blocking，但是，整个用户的process其实是一直被阻塞的。只不过process是被select这个函数阻塞，而不是被socket IO给阻塞。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7582644628099173&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tk5ianItRlibwAicyibKwptvaTrLpel9o7x60ehaqKgCXiciadN6g65vhRgJRnwyv1BU2cLzMiaDbricyZbwxnnuDjBcg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;484&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;I/O多路复用的流程如上图所示：&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;（1）当用户进程调用了select，那么整个进程会被阻塞；&lt;/p&gt;&lt;p&gt;（2）而同时，内核会“监视”所有select负责的socket；&lt;/p&gt;&lt;p&gt;（3）当任何一个socket中的数据准备好了，select就会返回；&lt;/p&gt;&lt;p&gt;（4）这个时候用户进程再调用read/accept/write操作，做一些数据从内核拷贝到用户进程这样的事情。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;所以，I/O 多路复用的特点是通过一种机制一个进程能同时等待多个文件描述符，而这些&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzUzNjAxODg4MQ==&amp;amp;mid=2247486330&amp;amp;idx=1&amp;amp;sn=e85e201059c1c5575481e03531b06212&amp;amp;chksm=fafde1d4cd8a68c235ef3cbed83bf0b6ac3a80052c0a492d8c2a217006cf4fa530f2f74f01c3&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;文件描述符&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;文件描述符&lt;/a&gt;（套接字描述符）其中的任意一个进入读就绪状态，select()函数就可以返回。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;事实上，I/O 多路复用有时候性能比同步阻塞IO还更差一些。因为这里需要使用两个系统调用(select 和 recvfrom)，而同步阻塞IO只调用了一个系统调用(recvfrom)。但是，用select的优势在于它可以同时处理多个连接。所以，如果处理的连接数不是很高的话，可能延迟还更大。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;总结&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;打个比方：行军打仗讲究粮草先行。诸葛亮比较牛，他打仗只带少量粮草，其他靠敌军送。这天他又派了暗探去查看敌军粮草的守卫情况。如果敌人守备松懈，则趁机偷粮。如果这个暗探只偷一袋粮食，那效率最高的是不是他看到敌军守备松懈就直接进去偷粮（同步阻塞IO）？但是他要偷的是十万大军的粮食，那他就要先回去汇报一声：“守备松懈啦”。然后百人小分队一起去把粮草偷出来(I/O 多路复用)。当然啦，以诸葛亮的一贯作风而言，最后他还得放一把火。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;暗探在同步阻塞模式下，打探敌情也是他，偷粮也是他。在诸葛亮团队中，暗探在打探敌情时最终暗探是第一个获取到结果的。暗探在偷粮时也是第一个自己知道结果的。（同步）&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;暗探在I/O 多路复用模式下，打探敌情也是他，偷粮是百人小分队。在诸葛亮团队中，暗探在打探敌情时最终执行者暗探是第一个获取到结果的。百人小分队在偷粮时也是百人小分队自己先知道结果的。（同步）&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;综上，IO多路复用是同步的。&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>56499e8e5f25081a01c89ba021388f43</guid>
<title>MQTT、CoAP 还是 LwM2M？主流物联网协议如何选择</title>
<link>https://toutiao.io/k/10rarjx</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;p&gt;&lt;span&gt;Zigbee 是一种网状网络无线协议，专为建筑和家庭自动化应用而设计，是物联网环境中最流行的网状协议之一。目前主要用于局域网内连接，在设备侧以网关的身份接入控制各类设备。&lt;/span&gt;&lt;/p&gt;&lt;h3 data-renderer-start-pos=&quot;8617&quot;&gt;&lt;strong&gt;▍&lt;span&gt;协议特性&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;低功耗：发射功率仅为 1mW，在低耗电待机模式下，两节 5 号干电池可使用长达 2 年，免去了充电或者频繁更换电池的麻烦。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;低成本：由于简单而紧凑的协议大大降低了其对通信控制的要求从而降低硬件成本，同时免收协议专利费。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;低速率：ZigBee 工作在 20～250kbps 的速率，分别提供 250 kbps(2.4GHz)、40kbps(915 MHz) 和 20kbps(868 MHz) 的原始数据吞吐率，满足低速率传输数据的应用需求。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;近距离：相邻节点传输范围在 10～100m 之间，基本覆盖普通家庭和办公环境；增加发射功率后可增加到 1～3km，通过路由和节点间通信的接力，传输距离将可以更远。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;低时延：ZigBee 的响应速度较快，一般从睡眠转入工作状态只需 15ms，节点连接进入网络只需 30ms，进一步节省了电能。相比较，蓝牙需要 3～10s、WiFi 需要 3s。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;高容量：ZigBee 可采用星状、片状和网状网络结构，由一个主节点管理若干子节点，最多一个主节点可管理 254 个子节点；同时主节点还可由上一层网络节点管理，最多可组成 65000 个节点的大网。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;高安全：ZigBee 提供了 CRC 数据包完整性检查功能，支持鉴权和认证，采用了 AES-128 的加密算法，各个应用都可以灵活确定其安全属性。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;免许可证频段：直接序列扩频用于工业科学医学（ISM）频段：2.4GHz（全球），915MHz（北美），868MHz（欧洲）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;h3 data-renderer-start-pos=&quot;9023&quot;&gt;&lt;strong&gt;▍&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;市场状况&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;Zigbee 技术具有低功耗、大节点容量、短时延、安全可靠等突出优点，可满足智能家居应用需求，&lt;/span&gt;&lt;strong&gt;&lt;span&gt;是智能家居核心无线组网连接技术&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;得益于中国智能家居市场快速发展，应用 Zigbee 技术的智能家居设备数量不断增长，Zigbee 技术应用推广步伐日益加快。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;相比同为无线局域网技术体系的 WiFi、蓝牙技术，Zigbee 技术在功耗、节点容量、自组网能力、安全性方面具有突出优势，应用规模不断扩大。&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135编辑器&quot; data-id=&quot;102891&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;strong&gt;NB-IoT&lt;/strong&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;NB-IoT 是由 3GPP 标准化组织制定的一种新型蜂窝技术，属于低功率广域 （LPWA） 物联网连接的一种，主要用于连接带宽资源受限的终端，允许终端以比 GRPS、3G、LTE 等技术更少的资源收集和交换数据。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;NB-IoT 在 2017-2018 年发展迅速，&lt;/span&gt;&lt;strong&gt;&lt;span&gt;全球众多运营商陆续实现了商用部署&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;。NB-IoT 的低成本、低功耗和广覆盖使得用户能够实现传统蜂窝网络无法支持的新场景新应用。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2020 年 7 月 9 日，3GPP 宣布 5G R16 标准冻结，NB-IoT 正式纳入 5G 标准，成为 5G mMTC 海量物联网连接场景核心技术。&lt;/span&gt;&lt;/p&gt;&lt;h3 data-renderer-start-pos=&quot;8617&quot;&gt;&lt;strong&gt;▍&lt;span&gt;协议特性&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;引入了低功耗的「睡眠」模式（PSM、eDRX）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;降低了对通信品质要求，简化了终端设计（半双工模式、协议栈简化等）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;通过两种功能优化模式（CP 模式、UP 模式）简化流程，减少了终端和网络的交互量。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;超低覆盖，在 GPRS 的基础上覆盖增强 20dB，覆盖范围是 GPRS 的三倍。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;h3 data-renderer-start-pos=&quot;9023&quot;&gt;&lt;strong&gt;▍&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;市场状况&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;当前，NB-IoT 已进入亿级连接时代，后续随着全球运营商对商用 NB-IoT 5G 网络的全覆盖建设，NB-IoT 将在智能家居、智慧农业、工业制造、能源表计、消防烟感、物流跟踪、金融支付等各领域中持续爆发。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;以中国电信物联网开放平台为例，该平台实现了对中国电信 NB-IoT 以及其他网络物联网设备的集中接入，并为政企用户提供物联网设备管理、数据接口以及应用使能等服务。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;EMQ 从该平台建设之初即已参与，配合天翼物联为该平台研发 NB-IoT 设备接入与消息路由能力，并同时支持电信 TLINK、MQTT 等协议设备的接入，平台整体设计接入能力达亿级，详情请查看：&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=Mzg3NjAyMjM0NQ==&amp;amp;mid=2247485925&amp;amp;idx=1&amp;amp;sn=9c153fa80e7bbf2f56efa963c744566c&amp;amp;chksm=cf39d6c3f84e5fd578ff12685cd519012e6d666d8b74f68aa0dfc92550068a6d6e47aeb4b032&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;NB-IoT 爆发户，EMQ 助力企业开启亿级物联网连接时代&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;NB-IoT 爆发期，EMQ 助力企业开启亿级物联网连接时代&lt;/a&gt;。&lt;/span&gt;&lt;/p&gt;&lt;h3 data-renderer-start-pos=&quot;9023&quot;&gt;&lt;strong&gt;▍&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;参考资料&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135编辑器&quot; data-id=&quot;102891&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;strong&gt;LoRa&lt;/strong&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;LoRa 协议是一个低功耗、远距离、无线广域网的标准协议，其名称来自于「远距离（Long Range）」的简称。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;LoRa 相比其他无线传播协议如 ZigBee、蓝牙、WIFI 最大的特点是同功耗下传播距离更远，实现了低功耗和远距离的统一，它在同样的功耗下比传统的无线射频通信距离扩大 3-5 倍。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;LoRa 在物联网应用中的无线技术有多种，&lt;/span&gt;&lt;strong&gt;&lt;span&gt;可组成局域网或广域网&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;。LoRa 网络主要由终端（可内置 LoRa 模块）、网关（或称基站）、Server 和云四部分组成。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;LoRaWAN 的数据传输速率范围为 0.3 kbps 至 37.5 kbps，为了最大化终端设备电池的寿命和整个网络容量，LoRaWAN 网络服务器通过一种速率自适应（Adaptive Data Rate , ADR）方案来控制数据传输速率和每一终端设备的射频输出功率&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/p&gt;&lt;h3 data-renderer-start-pos=&quot;8617&quot;&gt;&lt;strong&gt;▍&lt;span&gt;协议特性&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;覆盖面：LoRa 单一网关的遮盖间距一般在 3-5km 的范畴，宽阔地区乃至达到 15km 之上。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;低功耗：充电电池供电系统能够 支撑点多年乃至十余年。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;高容量：得益于终端无联接情况的特点，可以保证大量终端的接入。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;低成本：通信网络成本费极低，另外适用窄带传输数据。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;安全系数：采用 AES128 加密，安全系数高。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;/section&gt;&lt;h3 data-renderer-start-pos=&quot;9023&quot;&gt;&lt;strong&gt;▍&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;市场状况&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;对于智慧农业、智慧城市、工业物联网 (IIoT)、智能环境、智能家居和楼宇、智能公用事业和计量以及智能供应链和物流中的农村或室内应用场景，LoRa 具有极高的灵活性。 &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;LoRa 组网方便，利用 LoRa 极强的穿透力，可以低成本实现对较大范围内的设备连接，相比通过 NB-IoT 和运营商 SIM 卡接入，LoRa 不需要每年换卡或缴费，长期使用拥有较低的成本。&lt;/span&gt;&lt;/p&gt;&lt;h3 data-renderer-start-pos=&quot;9023&quot;&gt;&lt;strong&gt;▍&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;参考资料&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135编辑器&quot; data-id=&quot;102891&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;strong&gt;MQTT&lt;/strong&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;MQTT 协议是基于发布/订阅模式的物联网通信协议，凭借简单易实现、支持 QoS、报文小等特点，占据了物联网协议的半壁江山。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;MQTT 协议广泛应用于物联网、移动互联网、智能硬件、车联网、电力、能源等领域，既能作为网关在设备侧接入通信，也能作为设备-云端的通信协议。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ZigBee、LoRa 等绝大多数网关协议最终都转换为 MQTT 协议接入上云。&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img data-ratio=&quot;0.37592592592592594&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hyalCR7bGa7UY3rXgB0JQpLqO8woCXE46X7icRQHvfdE7Ing4LfyppN10Vxv3VJeNc81PWTkeYMOyL9jVcCyHCg/640?wx_fmt=png&quot; data-type=&quot;png&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-renderer-start-pos=&quot;8617&quot;&gt;&lt;strong&gt;▍&lt;span&gt;协议特性&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;轻量可靠：MQTT 报文紧凑，可在严重受限的硬件设备和低带宽、高延迟的网络上实现稳定传输。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;发布/订阅模式：基于发布/订阅模式，发布订阅模式的优点在于发布者与订阅者的解耦：订阅者与发布者不需要建立直接连接、也不需要同时在线。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;为物联网而生：提供心跳机制、遗嘱消息、QoS 质量等级+离线消息、主题和安全管理等全面的物联网应用特性。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;生态更完善：覆盖全语言平台的客户端和 SDK，有成熟的 Broker 服务端软件，能够支持海量 Topic ，千万级设备接入量，提供丰富的企业集成能力。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h3 data-renderer-start-pos=&quot;9023&quot;&gt;&lt;strong&gt;▍&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;通信模式&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;MQTT 采用发布订阅模式通信，发布订阅模式区别于传统的客户端-服务器模式，它使发送消息的客户端（发布者）与接收消息的客户端（订阅者）分离，发布者与订阅者不需要建立直接联系。我们既可以让多个发布者向一个订阅者发布消息，也可以让多个订阅者同时接收一个发布者的消息。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4444444444444444&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hyalCR7bGa7UY3rXgB0JQpLqO8woCXE4ugDibTRxc3RialmiadJTdAbujFakmzPzuM4trnRI0bOqSNEYruDamUPQw/640?wx_fmt=png&quot; data-type=&quot;png&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-renderer-start-pos=&quot;9023&quot;&gt;&lt;strong&gt;▍&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;市场状况&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;MQTT 是 IoT 领域的最重要的标准协议之一，广泛用于物联网、车联网、工业物联网、智能家居、智慧城市、电力石油能源等行业。&lt;/span&gt;&lt;/p&gt;&lt;p data-renderer-start-pos=&quot;4343&quot;&gt;&lt;span&gt;MQTT 是 AWS IoT Core、 Azure IoT Hub、阿里云物联网平台等顶级云厂商物联网平台标准通信协议，是工业互联网、车联网、智能家居等各个行业以及诸多网关协议上云的首选协议。&lt;/span&gt;&lt;/p&gt;&lt;p data-renderer-start-pos=&quot;4442&quot;&gt;&lt;span&gt;EMQ X 作为全球最热门、最成熟的 MQTT Broker 之一，提供了「随处运行，无限连接，任意集成」云原生分布式物联网接入平台，一体化的分布式 MQTT 消息服务和强大的 IoT 规则引擎，为高可靠、高性能的物联网实时数据移动、处理和集成提供动力，助力企业快速构建关键业务的 IoT 平台与应用&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/p&gt;&lt;h3 data-renderer-start-pos=&quot;9023&quot;&gt;&lt;strong&gt;▍&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;参考资料&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135编辑器&quot; data-id=&quot;102891&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;strong&gt;CoAP&lt;/strong&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;CoAP 是一种在物联网世界的类 HTTP 的协议，使用在资源受限的物联网设备上，它的详细规范定义在 RFC 7252。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;由于物联网设备大多都是资源限制型的，比如 CPU、RAM、Flash、网络宽带等。对于这类设备来说，想要直接使用现有网络的TCP和HTTP来实现设备实现信息交换是不现实的。为了让这部分设备能够顺利接入网络，CoAP 协议应运而生&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/p&gt;&lt;h3 data-renderer-start-pos=&quot;8617&quot;&gt;&lt;strong&gt;▍&lt;span&gt;协议特性&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;p&gt;&lt;span&gt;CoAP 参考了很多 HTTP 的设计思路，同时也根据受限资源限制设备的具体情况改良了诸多的设计细节，增加了很多实用的功能。&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h3 data-renderer-start-pos=&quot;9023&quot;&gt;&lt;strong&gt;▍&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;市场状况&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;相比于 MQTT，CoAP 更加轻量、开销更低，在某些特定的设备和网络环境下更为合适。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;EMQ X 以及部分公有云物联网平台都提供提供了 CoAP 接入能力，详情参考：&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=Mzg3NjAyMjM0NQ==&amp;amp;mid=2247487462&amp;amp;idx=1&amp;amp;sn=d660071d6ffe504328a20d55bb8a3840&amp;amp;chksm=cf39d0c0f84e59d6da5f341bb5cec31afe3d23d845842e140cf2be5f9aaff7ed16bd9708d1f2&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;MQTT 和 CoAP 在 EMQ X 世界的一次「约会」&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;MQTT 和 CoAP 在 EMQ X 世界的一次「约会」&lt;/a&gt;。&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135编辑器&quot; data-id=&quot;102891&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;strong&gt;LwM2M&lt;/strong&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;LwM2M 是适用于资源有限的终端设备管理的轻量级物联网协议。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;LwM2M 协议诞生于 2013 年底，由 OMA（Open Mobile Alliance）提出并定义。目前的成熟版本号依然是 1.0，OMA 的专家们正为 1.1 版而努力。&lt;/span&gt;&lt;/p&gt;&lt;h3 data-renderer-start-pos=&quot;8617&quot;&gt;&lt;strong&gt;▍&lt;span&gt;协议特性&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;p&gt;&lt;span&gt;LwM2M 协议最主要的实体包括 LwM2M Server 和 LwM2M Client。&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;span&gt;此外，根据需要还可以加入LwM2M引导服务器（Bootstrap Server）或智能卡（SmartCard），对客户端完成初始的引导。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;LwM2M 协议有以下几个突出特点：&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;协议基于 REST 架构。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;协议的消息传递是通过 CoAP 协议来达成的。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;协议定义了一个紧凑高效又不乏扩展性的数据模型。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;考虑到与时俱进，实现简洁易懂的风格，LwM2M 协议采用了 REST。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;但由于协议的服务对象是资源有限的终端设备，传统的 HTTP 数据传输方式显得过分笨重，难以支持受限资源，因此选择了具备 REST 风格的 CoAP 来完成消息和数据传递。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;一方面 CoAP 基于 UDP，与 TCP 相比，在网络资源有限及无法确保设备始终在线的环境里更加游刃有余（出于安全性考虑，使用了基于 UDP 的 DTLS 安全传输协议）。另一方面 CoAP 本身的消息结构非常简单，报文压缩，主要部分可以做到特别小巧，无需占用过多资源。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;出于类似的考虑，协议的数据结构必须足够简单。LwM2M 协议定义了一个以资源（Resource）为基本单位的模型，每个资源可以携带数值，可以指向地址，以表示 LwM2M 客户端中每一项可用的信息。资源都存在于对象实例中（Object Instance），即对象（Object）的实例化。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;LwM2M 协议预定义了 8 种对象（Object）来满足基本的需求，分别是：&lt;/span&gt;&lt;/p&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;Object&lt;br/&gt;&lt;/span&gt;&lt;/td&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;Object ID&lt;br/&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;Security（安全对象）&lt;/span&gt;&lt;/td&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;0&lt;br/&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;Server（服务器对象）&lt;/span&gt;&lt;/td&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;1&lt;br/&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;Access Control（访问控制对象）&lt;/span&gt;&lt;/td&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;2&lt;br/&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;Device（设备对象）&lt;/span&gt;&lt;/td&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;3&lt;br/&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;Connectivity Monitoring（连通性监控对象）&lt;/span&gt;&lt;/td&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;4&lt;br/&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;Firmware（固件对象）&lt;/span&gt;&lt;/td&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;5&lt;br/&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;Location（位置对象）&lt;/span&gt;&lt;/td&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;6&lt;br/&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;Connectivity Statistics（连通性统计对象）&lt;/span&gt;&lt;/td&gt;&lt;td valign=&quot;top&quot;&gt;&lt;span&gt;7&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;span&gt;考虑到扩展性，协议也允许根据实际需要自定义更多的对象。在这样的数据模型中，资源、对象实例以及对象都是用数字对应的ID来表示的，以实现最大程度的压缩，因此任何资源都可以用最多 3 级的简洁方式表示，例如 /1/0/1 表示服务器对象（Server Object）第 1 个实例中的服务器短 ID 资源。 &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;在注册阶段，LwM2M 客户端把携带了资源信息的对象实例传递给 LwM2M 服务器，以通知服务器自身设备所具备的能力。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;EMQ 也实现了 EMQ X 服务器上的 LwM2M 接入能力，实现了 LwM2M 协议的大部分功能，LwM2M 设备可以注册至 EMQ X-LWM2M 上，从而通过 EMQ X-LWM2M 访问并管理设备，设备也可以向 EMQ X-LWM2M 上报信息，并使用 EMQ 后端的服务来采集数据。&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135编辑器&quot; data-id=&quot;102891&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;strong&gt;XMPP&lt;/strong&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;XMPP 可拓展消息处理现场协议是基于 XML 的即时通讯协议，协议将通信上下文信息嵌入到 XML 结构化数据中，使得人与人之间、应用系统之间以及人与应用系统之间能即时通讯。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h3 data-renderer-start-pos=&quot;9023&quot;&gt;&lt;strong&gt;▍&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;协议特性&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;所有 XMPP 信息都是以 XML 为基础的，信息交换的事实标准，扩展性强。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;XMPP 系统是一个分布式系统，每台服务器控制自己的资源。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;XMPP 协议是公开开源的，使用 XML 定义了客户端和服务器端的交互。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;h3 data-renderer-start-pos=&quot;9023&quot;&gt;&lt;strong&gt;▍&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;市场状况&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;XMPP 特点在于协议和扩展协议成熟，功能完善，专门为即时聊天(IM)场景设计。XMPP 是老牌的即时聊天协议，像 &lt;/span&gt;&lt;span&gt;Google Hangouts&lt;/span&gt;&lt;span&gt;, &lt;/span&gt;&lt;span&gt;WhatsApp Messenger&lt;/span&gt;&lt;span&gt; 等即时聊天程序都是基于 XMPP 的。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;但由于 XMPP 依赖 XML 协议，放在 IoT 场景里过重，因此&lt;/span&gt;&lt;strong&gt;&lt;span&gt;基本不适合物联网传输使用&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>fa52abf8e53395559098ffea71ed99e1</guid>
<title>基于.NET 制作一个气象站 IoT 应用</title>
<link>https://toutiao.io/k/8ajh0b4</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;p class=&quot;original_area_primary&quot;&gt;
                                                                                                &lt;/p&gt;

                    
                                            &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p&gt;点击“&lt;strong&gt;阅读原文&lt;/strong&gt;”获得最佳阅读体验。&lt;/p&gt;&lt;p&gt;和单片机不同，使用 Linux 开发板、现成的传感器套件以及合适的后端技术几乎可以做成任何东西。为了更好的整合前面章节介绍的内容，本文将制作一个简单的气象站（也许叫环境信息收集装置更合适），至于为何选择制作一个气象站，因为难度不高制作不复杂，并且温湿度传感器花费较低的价格即可获得，可以以低廉的价格换取一个 cool stuff。本文将使用 .NET 6 编写一个控制台应用程序，通过本文你可以学到：&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;I2C &lt;code&gt;I2cDevice&lt;/code&gt; 类的使用；&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;摄像头设备 &lt;code&gt;VideoDevice&lt;/code&gt; 类的使用；&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;code&gt;Iot.Device.Bindings&lt;/code&gt; NuGet 包的使用；&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;时序数据库 &lt;code&gt;TimescaleDB&lt;/code&gt; 的简单使用；&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;code&gt;Quartz&lt;/code&gt; 定时任务的使用；&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;在控制台应用中进行依赖注入；&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;使用 &lt;code&gt;Docker&lt;/code&gt; 拉取镜像、部署应用。&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;硬件需求&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;电路&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;准备工作&lt;/p&gt;&lt;/li&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;配置 TimescaleDB 数据库&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;安装摄像头的依赖库&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;编写代码&lt;/p&gt;&lt;/li&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;项目结构&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;项目依赖&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;数据库上下文与实体类&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;配置文件&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;初始化与依赖注入配置&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;配置定时任务&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;部署应用&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;后续工作&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-line=&quot;11&quot;&gt;&lt;span&gt;硬件需求&lt;/span&gt;&lt;/p&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;名称&lt;/th&gt;&lt;th&gt;描述&lt;/th&gt;&lt;th&gt;数量&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Orange Pi Zero&lt;/td&gt;&lt;td&gt;Linux 开发板&lt;/td&gt;&lt;td&gt;x1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;BME280&lt;/td&gt;&lt;td&gt;提供温度、湿度以及气压数据&lt;/td&gt;&lt;td&gt;x1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;USB 摄像头&lt;/td&gt;&lt;td&gt;提供环境图像&lt;/td&gt;&lt;td&gt;x1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;杜邦线&lt;/td&gt;&lt;td&gt;传感器与开发板的连接线&lt;/td&gt;&lt;td&gt;若干&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p data-line=&quot;20&quot;&gt;&lt;span&gt;电路&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.5233333333333333&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/09LgVyNibqhH2FckWjFMxMuNuFmq5eCwX7El5KF7GSsqcuIaw1kXOLdfy96n45hwUVcsYNL3PY2y0kNwwibTiciaWA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1200&quot;/&gt;&lt;/p&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;传感器&lt;/th&gt;&lt;th&gt;接口&lt;/th&gt;&lt;th&gt;开发板接口&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;BME280&lt;/td&gt;&lt;td&gt;SDA&lt;/td&gt;&lt;td&gt;TWI0_SDA (Pin 3)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;br/&gt;&lt;/td&gt;&lt;td&gt;SCL&lt;/td&gt;&lt;td&gt;TWI0_SCK (Pin 5)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;br/&gt;&lt;/td&gt;&lt;td&gt;VCC&lt;/td&gt;&lt;td&gt;5V (Pin 4)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;br/&gt;&lt;/td&gt;&lt;td&gt;GND&lt;/td&gt;&lt;td&gt;GND (Pin 6)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;USB 摄像头&lt;/td&gt;&lt;td&gt;USB&lt;/td&gt;&lt;td&gt;USB&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p data-line=&quot;32&quot;&gt;&lt;span&gt;准备工作&lt;/span&gt;&lt;/p&gt;&lt;p data-line=&quot;34&quot;&gt;&lt;span&gt;配置 TimescaleDB 数据库&lt;/span&gt;&lt;/p&gt;&lt;p&gt;TimescaleDB 是一款基于 PostgreSQL 插件的时序数据库。考虑到收集的环境数据是按时间进行索引，并且数据基本上都是插入，没有更新的需求，因此选用了时序数据库作为数据存储。TimescaleDB 是 PostgreSQL 的一款插件，可以通过先安装 PostgreSQL 之后再安装插件的形式部署 TimescaleDB，这里直接使用 TimescaleDB 的 Docker 镜像进行部署。&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;拉取 TimescaleDB 镜像：&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;&quot;&gt;&lt;code&gt;docker pull timescale/timescaledb:latest-pg14&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;创建卷，用于持久化数据库数据：&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;&quot;&gt;&lt;code&gt;docker volume create tsdb_data&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;运行镜像，端口映射为 &lt;code&gt;54321&lt;/code&gt;，密码配置为弱密码 &lt;code&gt;@Passw0rd&lt;/code&gt;：&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;&quot;&gt;&lt;code&gt;docker run -d --name timescaledb -p 54321:5432 --restart=always -e POSTGRES_PASSWORD=&#x27;@Passw0rd&#x27; -e TZ=&#x27;Asia/Shanghai&#x27; -e ALLOW_IP_RANGE=0.0.0.0/0 -v tsdb_data:/var/lib/postgresql timescale/timescaledb:latest-pg14&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&quot;4&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;使用熟悉的数据库管理工具（如 Navicat）创建数据库 &lt;code&gt;WeatherMetrics&lt;/code&gt;：&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;sql&quot;&gt;&lt;span&gt;CREATE&lt;/span&gt; &lt;span&gt;DATABASE&lt;/span&gt; &lt;span&gt;&quot;WeatherMetrics&quot;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;WITH&lt;/span&gt; OWNER &lt;span&gt;=&lt;/span&gt; postgres ENCODING &lt;span&gt;=&lt;/span&gt; &lt;span&gt;&#x27;UTF8&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;CREATE&lt;/span&gt; &lt;span&gt;TABLE&lt;/span&gt; metrics (&lt;br/&gt;   &lt;span&gt;time&lt;/span&gt; &lt;span&gt;TIMESTAMP&lt;/span&gt; WITHOUT &lt;span&gt;TIME&lt;/span&gt; ZONE &lt;span&gt;NOT&lt;/span&gt; &lt;span&gt;NULL&lt;/span&gt; &lt;span&gt;DEFAULT&lt;/span&gt; &lt;span&gt;&#x27;now()&#x27;&lt;/span&gt;,&lt;br/&gt;   device_id &lt;span&gt;VARCHAR&lt;/span&gt;(&lt;span&gt;50&lt;/span&gt;) &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;   weather_type &lt;span&gt;VARCHAR&lt;/span&gt;(&lt;span&gt;50&lt;/span&gt;) &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;   temperature &lt;span&gt;DECIMAL&lt;/span&gt;(&lt;span&gt;5&lt;/span&gt;, &lt;span&gt;2&lt;/span&gt;) &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;   humidity &lt;span&gt;DECIMAL&lt;/span&gt;(&lt;span&gt;5&lt;/span&gt;, &lt;span&gt;2&lt;/span&gt;) &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;   pressure &lt;span&gt;DECIMAL&lt;/span&gt;(&lt;span&gt;8&lt;/span&gt;, &lt;span&gt;2&lt;/span&gt;) &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;   image_base64 &lt;span&gt;TEXT&lt;/span&gt; &lt;span&gt;NULL&lt;/span&gt;&lt;br/&gt;);&lt;br/&gt;&lt;br/&gt;&lt;span&gt;SELECT&lt;/span&gt; create_hypertable(&lt;span&gt;&#x27;metrics&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;time&#x27;&lt;/span&gt;);&lt;br/&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;time&lt;/code&gt; 表示采集数据的时间，&lt;code&gt;device_id&lt;/code&gt; 记录采集设备的 id，&lt;code&gt;weather_type&lt;/code&gt; 记录从心知天气获取的天气名，&lt;code&gt;temperature&lt;/code&gt; 记录传感器获取的温度，&lt;code&gt;humidity&lt;/code&gt; 记录传感器获取的湿度，&lt;code&gt;pressure&lt;/code&gt; 记录传感器获取的气压，&lt;code&gt;image_base64&lt;/code&gt; 记录摄像头采集的图像。&lt;/p&gt;&lt;p&gt;&lt;span&gt;💡 提示&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;在数据库中存储任何字符类型以外的数据都是愚蠢的，这里是为了演示，并且只是低分辨率的图像。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;超表（hypertable）是 TimescaleDB 的一个重要概念，由若干个块（chunks）组成，将超表中的数据按照时间列（即 &lt;code&gt;metrics&lt;/code&gt; 表中的 &lt;code&gt;time&lt;/code&gt; 字段）分成若干个块存储，而使用 PostgreSQL 层面上的表（table）实现 SQL 接口的暴露，因此使用 &lt;code&gt;create_hypertable()&lt;/code&gt; 将表转换为超表。上面创建的 &lt;code&gt;metrics&lt;/code&gt; 表并不是真正意义上的表，表中不存在主键字段，而是类似视图（view）一样的抽象结构。&lt;/p&gt;&lt;h3&gt;安装摄像头的依赖库&lt;/h3&gt;&lt;p&gt;VideoDevice 类是使用 PInvoke 操作实现的，依赖于 Video for Linux 2（V4L2），因此还需要安装 V4L2 工具：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;&quot;&gt;&lt;code&gt;sudo apt install v4l-utils&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;实现时还引用了 &lt;code&gt;System.Drawing&lt;/code&gt; NuGet 包，因此还需要安装 &lt;code&gt;System.Drawing&lt;/code&gt; 的前置依赖：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;&quot;&gt;&lt;code&gt;sudo apt install libc6-dev libgdiplus libx11-dev&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-line=&quot;88&quot;&gt;&lt;span&gt;编写代码&lt;/span&gt;&lt;/p&gt;&lt;p&gt;项目地址：https://github.com/ZhangGaoxing/weather-metrics&lt;/p&gt;&lt;p data-line=&quot;92&quot;&gt;&lt;span&gt;项目结构&lt;/span&gt;&lt;/p&gt;&lt;p&gt;创建一个控制台应用和类库，项目结构如下：&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.6391509433962265&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/09LgVyNibqhH2FckWjFMxMuNuFmq5eCwX7T4XfKTXr6w9oKfdGF6YSrMfDVGKYe5aspGNx71pvibmR3sUNL4Ok4g/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;424&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;项目依赖&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;WeatherMetrics.ConsoleApp&lt;/code&gt; 添加如下 NuGet 包引用：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;xml&quot;&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;ItemGroup&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;   &lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;PackageReference &lt;span&gt;Include&lt;/span&gt;&lt;span&gt;&lt;span&gt;=&quot;&lt;/span&gt;Iot.Device.Bindings&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;Version&lt;/span&gt;&lt;span&gt;&lt;span&gt;=&quot;&lt;/span&gt;2.0.0&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;   &lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;PackageReference &lt;span&gt;Include&lt;/span&gt;&lt;span&gt;&lt;span&gt;=&quot;&lt;/span&gt;Microsoft.Extensions.Configuration.Json&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;Version&lt;/span&gt;&lt;span&gt;&lt;span&gt;=&quot;&lt;/span&gt;6.0.0&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;   &lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;PackageReference &lt;span&gt;Include&lt;/span&gt;&lt;span&gt;&lt;span&gt;=&quot;&lt;/span&gt;Microsoft.Extensions.DependencyInjection&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;Version&lt;/span&gt;&lt;span&gt;&lt;span&gt;=&quot;&lt;/span&gt;6.0.0&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;   &lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;PackageReference &lt;span&gt;Include&lt;/span&gt;&lt;span&gt;&lt;span&gt;=&quot;&lt;/span&gt;Newtonsoft.Json&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;Version&lt;/span&gt;&lt;span&gt;&lt;span&gt;=&quot;&lt;/span&gt;13.0.1&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;   &lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;PackageReference &lt;span&gt;Include&lt;/span&gt;&lt;span&gt;&lt;span&gt;=&quot;&lt;/span&gt;Quartz&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;Version&lt;/span&gt;&lt;span&gt;&lt;span&gt;=&quot;&lt;/span&gt;3.3.3&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;   &lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;PackageReference &lt;span&gt;Include&lt;/span&gt;&lt;span&gt;&lt;span&gt;=&quot;&lt;/span&gt;System.Device.Gpio&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;Version&lt;/span&gt;&lt;span&gt;&lt;span&gt;=&quot;&lt;/span&gt;2.0.0&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;ItemGroup&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;WeatherMetrics.Models&lt;/code&gt; 添加如下 NuGet 包引用：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;xml&quot;&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;ItemGroup&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;   &lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;PackageReference &lt;span&gt;Include&lt;/span&gt;&lt;span&gt;&lt;span&gt;=&quot;&lt;/span&gt;Npgsql.EntityFrameworkCore.PostgreSQL&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;Version&lt;/span&gt;&lt;span&gt;&lt;span&gt;=&quot;&lt;/span&gt;6.0.3&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;ItemGroup&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;p data-line=&quot;121&quot;&gt;&lt;span&gt;数据库上下文与实体类&lt;/span&gt;&lt;/p&gt;&lt;p&gt;TimescaleDB 本质上就是一个 PostgreSQL 数据库，因此数据库访问使用 Npgsql 驱动。首先添加实体类 &lt;code&gt;Metrics.cs&lt;/code&gt;：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;csharp&quot;&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;Metrics&lt;/span&gt;&lt;br/&gt;{&lt;br/&gt;    [&lt;span&gt;Column&lt;/span&gt;(&lt;span&gt;&quot;time&quot;&lt;/span&gt;)]&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;DateTime&lt;/span&gt; Time { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;; } &lt;span&gt;=&lt;/span&gt; DateTime.Now;&lt;br/&gt;&lt;br/&gt;    [&lt;span&gt;Column&lt;/span&gt;(&lt;span&gt;&quot;device_id&quot;&lt;/span&gt;)]&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; DeviceId { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;; }&lt;br/&gt;&lt;br/&gt;    [&lt;span&gt;Column&lt;/span&gt;(&lt;span&gt;&quot;weather_type&quot;&lt;/span&gt;)]&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; WeatherType { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;; }&lt;br/&gt;&lt;br/&gt;    [&lt;span&gt;Column&lt;/span&gt;(&lt;span&gt;&quot;temperature&quot;&lt;/span&gt;)]&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;double&lt;/span&gt; Temperature { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;; }&lt;br/&gt;&lt;br/&gt;    [&lt;span&gt;Column&lt;/span&gt;(&lt;span&gt;&quot;humidity&quot;&lt;/span&gt;)]&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;double&lt;/span&gt; Humidity { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;; }&lt;br/&gt;&lt;br/&gt;    [&lt;span&gt;Column&lt;/span&gt;(&lt;span&gt;&quot;pressure&quot;&lt;/span&gt;)]&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;double&lt;/span&gt; Pressure { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;; }&lt;br/&gt;&lt;br/&gt;    [&lt;span&gt;Column&lt;/span&gt;(&lt;span&gt;&quot;image_base64&quot;&lt;/span&gt;)]&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; ImageBase64 { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;; }&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;p&gt;接着添加数据库上下文 &lt;code&gt;WeatherContext.cs&lt;/code&gt;：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;csharp&quot;&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;WeatherContext&lt;/span&gt; : &lt;span&gt;DbContext&lt;/span&gt;&lt;br/&gt;{&lt;br/&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;readonly&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; _connectString;&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;WeatherContext&lt;/span&gt;(&lt;span&gt;string&lt;/span&gt; connectString)&lt;br/&gt;    {&lt;br/&gt;        _connectString &lt;span&gt;=&lt;/span&gt; connectString;&lt;br/&gt;    }&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;override&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;OnConfiguring&lt;/span&gt;(&lt;span&gt;DbContextOptionsBuilder&lt;/span&gt; optionsBuilder)&lt;br/&gt;    {&lt;br/&gt;        AppContext.&lt;span&gt;SetSwitch&lt;/span&gt;(&lt;span&gt;&quot;Npgsql.EnableLegacyTimestampBehavior&quot;&lt;/span&gt;, &lt;span&gt;true&lt;/span&gt;);&lt;br/&gt;        optionsBuilder.&lt;span&gt;UseNpgsql&lt;/span&gt;(_connectString);&lt;br/&gt;    }&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;override&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;OnModelCreating&lt;/span&gt;(&lt;span&gt;ModelBuilder&lt;/span&gt; modelBuilder)&lt;br/&gt;    {&lt;br/&gt;        modelBuilder.&lt;span&gt;Entity&lt;span&gt;&amp;lt;&lt;/span&gt;Metrics&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;()&lt;br/&gt;            .&lt;span&gt;ToTable&lt;/span&gt;(&lt;span&gt;&quot;metrics&quot;&lt;/span&gt;)&lt;br/&gt;            .&lt;span&gt;HasNoKey&lt;/span&gt;();&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;p&gt;这里使用了一个传递数据库连接字符串的构造函数，连接字符串从 &lt;code&gt;appsettings.json&lt;/code&gt; 文件中读取。由于 &lt;code&gt;metrics&lt;/code&gt; 表是无主键的，还需要使用 &lt;code&gt;HasNoKey()&lt;/code&gt; 进行标记。EF Core 由于使用了实体跟踪，因此无法对无主键的表进行修改，只能通过执行 SQL 的方式插入数据，在 &lt;code&gt;Metrics.cs&lt;/code&gt; 中新增方法：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;csharp&quot;&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; &lt;span&gt;Insert&lt;/span&gt;(&lt;span&gt;DbContext&lt;/span&gt; context, &lt;span&gt;Metrics&lt;/span&gt; metrics)&lt;br/&gt;{&lt;br/&gt;   &lt;span&gt;int&lt;/span&gt; row &lt;span&gt;=&lt;/span&gt; context.Database.&lt;span&gt;ExecuteSqlRaw&lt;/span&gt;(&lt;span&gt;&quot;INSERT INTO metrics VALUES ({0}, {1}, {2}, {3}, {4}, {5}, {6})&quot;&lt;/span&gt;, metrics.Time, metrics.DeviceId, metrics.WeatherType, metrics.Temperature, metrics.Humidity, metrics.Pressure, metrics.ImageBase64);&lt;br/&gt;&lt;br/&gt;   &lt;span&gt;return&lt;/span&gt; row &lt;span&gt;&amp;gt;&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;⚠️ 警告&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;请不要在 SQL 中使用字符串内插。&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;配置文件&lt;/h3&gt;&lt;p&gt;在 &lt;code&gt;appsettings.json&lt;/code&gt; 中添加如下内容：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;json&quot;&gt;{&lt;br/&gt;  &lt;span&gt;// 数据库连接字符串 &lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&quot;ConnectionString&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span&gt;&quot;Server=localhost;Port=54321;Database=WeatherMetrics;User Id=postgres;Password=@Passw0rd;&quot;&lt;/span&gt;,&lt;br/&gt;  &lt;span&gt;// 定时任务设置&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&quot;QuartzCron&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span&gt;&quot;0 0/1 * * * ? *&quot;&lt;/span&gt;,&lt;br/&gt;  &lt;span&gt;// 心知天气的配置&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&quot;Xinzhi&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; {&lt;br/&gt;    &lt;span&gt;&quot;Key&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span&gt;&quot;&quot;&lt;/span&gt;,&lt;br/&gt;    &lt;span&gt;&quot;Location&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span&gt;&quot;34.24:117.16&quot;&lt;/span&gt;&lt;br/&gt;  }&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;p data-line=&quot;208&quot;&gt;&lt;span&gt;初始化与依赖注入配置&lt;/span&gt;&lt;/p&gt;&lt;p&gt;新建一个静态类 &lt;code&gt;AppConfig&lt;/code&gt;，用于保存依赖注入的 &lt;code&gt;ServiceProvider&lt;/code&gt; 变量：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;csharp&quot;&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;AppConfig&lt;/span&gt;&lt;br/&gt;{&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;IServiceProvider&lt;/span&gt; ServiceProvider { &lt;span&gt;get&lt;/span&gt;; &lt;span&gt;set&lt;/span&gt;; }&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;p&gt;在 &lt;code&gt;Program.cs&lt;/code&gt; 中添加初始化代码：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;csharp&quot;&gt;&lt;span&gt;// 读取配置文件&lt;/span&gt;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt; config &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;ConfigurationBuilder&lt;/span&gt;()&lt;br/&gt;    .&lt;span&gt;AddJsonFile&lt;/span&gt;(&lt;span&gt;&quot;appsettings.json&quot;&lt;/span&gt;)&lt;br/&gt;    .&lt;span&gt;Build&lt;/span&gt;();&lt;br/&gt;&lt;br/&gt;&lt;span&gt;// 实例化数据库上下文&lt;/span&gt;&lt;br/&gt;&lt;span&gt;using&lt;/span&gt; &lt;span&gt;WeatherContext&lt;/span&gt; context &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;WeatherContext&lt;/span&gt;(config[&lt;span&gt;&quot;ConnectionString&quot;&lt;/span&gt;]);&lt;br/&gt;&lt;br/&gt;&lt;span&gt;// 配置 I2C，实例化传感器&lt;/span&gt;&lt;br/&gt;&lt;span&gt;I2cConnectionSettings&lt;/span&gt; i2cSettings &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;I2cConnectionSettings&lt;/span&gt;(busId: &lt;span&gt;0&lt;/span&gt;, deviceAddress: Bmx280Base.SecondaryI2cAddress);&lt;br/&gt;&lt;span&gt;using&lt;/span&gt; &lt;span&gt;I2cDevice&lt;/span&gt; i2c &lt;span&gt;=&lt;/span&gt; I2cDevice.&lt;span&gt;Create&lt;/span&gt;(i2cSettings);&lt;br/&gt;&lt;span&gt;using&lt;/span&gt; &lt;span&gt;Bme280&lt;/span&gt; bme &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;Bme280&lt;/span&gt;(i2c);&lt;br/&gt;&lt;br/&gt;&lt;span&gt;// 实例化摄像头&lt;/span&gt;&lt;br/&gt;&lt;span&gt;VideoConnectionSettings&lt;/span&gt; videoSettings &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;VideoConnectionSettings&lt;/span&gt;(busId: &lt;span&gt;0&lt;/span&gt;, captureSize: (&lt;span&gt;640&lt;/span&gt;, &lt;span&gt;480&lt;/span&gt;));&lt;br/&gt;&lt;span&gt;using&lt;/span&gt; &lt;span&gt;VideoDevice&lt;/span&gt; video &lt;span&gt;=&lt;/span&gt; VideoDevice.&lt;span&gt;Create&lt;/span&gt;(videoSettings);&lt;br/&gt;&lt;br/&gt;&lt;span&gt;// 配置依赖注入&lt;/span&gt;&lt;br/&gt;AppConfig.ServiceProvider &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;ServiceCollection&lt;/span&gt;()&lt;br/&gt;    .&lt;span&gt;AddSingleton&lt;/span&gt;(config)&lt;br/&gt;    .&lt;span&gt;AddSingleton&lt;/span&gt;(context)&lt;br/&gt;    .&lt;span&gt;AddSingleton&lt;/span&gt;(bme)&lt;br/&gt;    .&lt;span&gt;AddSingleton&lt;/span&gt;(video)&lt;br/&gt;    .&lt;span&gt;BuildServiceProvider&lt;/span&gt;();&lt;br/&gt;&lt;/pre&gt;&lt;p data-line=&quot;246&quot;&gt;&lt;span&gt;配置定时任务&lt;/span&gt;&lt;/p&gt;&lt;p&gt;定时任务通过 &lt;code&gt;appsettings.json&lt;/code&gt; 中的 &lt;code&gt;QuartzCron&lt;/code&gt; 字段设置。Cron 表达式分为 7 个部分，从左至右分别代表：Seconds、Minutes、Hours、DayofMonth、Month、DayofWeek 以及 Year。&lt;code&gt;*&lt;/code&gt; 出现的部分表示任意值都会触发定时任务，&lt;code&gt;/&lt;/code&gt; 左侧表示触发的起始时间，右侧表示触发间隔，以 &lt;code&gt;appsettings.json&lt;/code&gt; 中的为例，表示从每小时的第 0 分开始触发，每一分钟触发一次。&lt;/p&gt;&lt;p&gt;新建 &lt;code&gt;MetricsJob&lt;/code&gt; 类，用于实现定时任务：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;csharp&quot;&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;MetricsJob&lt;/span&gt; : &lt;span&gt;IJob&lt;/span&gt;&lt;br/&gt;{&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;Task&lt;/span&gt; &lt;span&gt;Execute&lt;/span&gt;(&lt;span&gt;IJobExecutionContext&lt;/span&gt; context)&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; Task.&lt;span&gt;Run&lt;/span&gt;(&lt;span&gt;async&lt;/span&gt; () &lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;br/&gt;        {&lt;br/&gt;            &lt;span&gt;// TODO：在此处实现定时任务&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;// 需要完成传感器的读取，心知天气的请求，数据库的插入&lt;/span&gt;&lt;br/&gt;        });&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;p data-line=&quot;265&quot;&gt;&lt;span&gt;传感器的读取&lt;/span&gt;&lt;/p&gt;&lt;p&gt;在 &lt;code&gt;MetricsJob&lt;/code&gt; 类中添加方法：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;csharp&quot;&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;Metrics&lt;/span&gt; &lt;span&gt;GetMetrics&lt;/span&gt;()&lt;br/&gt;{&lt;br/&gt;    &lt;span&gt;// 获取依赖注入的 Bme280 对象&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;Bme280&lt;/span&gt; bme &lt;span&gt;=&lt;/span&gt; (Bme280)AppConfig.ServiceProvider.&lt;span&gt;GetService&lt;/span&gt;(&lt;span&gt;typeof&lt;/span&gt;(&lt;span&gt;Bme280&lt;/span&gt;));&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;// 设置传感器的电源模式&lt;/span&gt;&lt;br/&gt;    bme.&lt;span&gt;SetPowerMode&lt;/span&gt;(Bmx280PowerMode.Normal);&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;// 设置读取精度&lt;/span&gt;&lt;br/&gt;    bme.PressureSampling &lt;span&gt;=&lt;/span&gt; Sampling.UltraHighResolution;&lt;br/&gt;    bme.TemperatureSampling &lt;span&gt;=&lt;/span&gt; Sampling.UltraHighResolution;&lt;br/&gt;    bme.HumiditySampling &lt;span&gt;=&lt;/span&gt; Sampling.UltraHighResolution;&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;// 读取数据&lt;/span&gt;&lt;br/&gt;    bme.&lt;span&gt;TryReadPressure&lt;/span&gt;(&lt;span&gt;out&lt;/span&gt; &lt;span&gt;UnitsNet&lt;span&gt;.&lt;/span&gt;Pressure&lt;/span&gt; p);&lt;br/&gt;    bme.&lt;span&gt;TryReadTemperature&lt;/span&gt;(&lt;span&gt;out&lt;/span&gt; &lt;span&gt;UnitsNet&lt;span&gt;.&lt;/span&gt;Temperature&lt;/span&gt; t);&lt;br/&gt;    bme.&lt;span&gt;TryReadHumidity&lt;/span&gt;(&lt;span&gt;out&lt;/span&gt; &lt;span&gt;UnitsNet&lt;span&gt;.&lt;/span&gt;RelativeHumidity&lt;/span&gt; h);&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;// 传感器休眠&lt;/span&gt;&lt;br/&gt;    bme.&lt;span&gt;SetPowerMode&lt;/span&gt;(Bmx280PowerMode.Sleep);&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;Metrics&lt;/span&gt;&lt;br/&gt;    {&lt;br/&gt;        DeviceId &lt;span&gt;=&lt;/span&gt; Dns.&lt;span&gt;GetHostName&lt;/span&gt;(),&lt;br/&gt;        Temperature &lt;span&gt;=&lt;/span&gt; Math.&lt;span&gt;Round&lt;/span&gt;(t.DegreesCelsius, &lt;span&gt;2&lt;/span&gt;),&lt;br/&gt;        Humidity &lt;span&gt;=&lt;/span&gt; Math.&lt;span&gt;Round&lt;/span&gt;(h.Percent, &lt;span&gt;2&lt;/span&gt;),&lt;br/&gt;        Pressure &lt;span&gt;=&lt;/span&gt; Math.&lt;span&gt;Round&lt;/span&gt;(p.Pascals, &lt;span&gt;2&lt;/span&gt;)&lt;br/&gt;    };&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;p data-line=&quot;300&quot;&gt;&lt;span&gt;摄像头捕获图像&lt;/span&gt;&lt;/p&gt;&lt;p&gt;在 &lt;code&gt;MetricsJob&lt;/code&gt; 类中添加方法：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;csharp&quot;&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;string&lt;/span&gt; &lt;span&gt;GetImage&lt;/span&gt;()&lt;br/&gt;{&lt;br/&gt;    &lt;span&gt;VideoDevice&lt;/span&gt; video &lt;span&gt;=&lt;/span&gt; (VideoDevice)AppConfig.ServiceProvider.&lt;span&gt;GetService&lt;/span&gt;(&lt;span&gt;typeof&lt;/span&gt;(&lt;span&gt;VideoDevice&lt;/span&gt;));&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;byte&lt;/span&gt;&lt;span&gt;[]&lt;/span&gt;&lt;/span&gt; image &lt;span&gt;=&lt;/span&gt; video.&lt;span&gt;Capture&lt;/span&gt;();&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; Convert.&lt;span&gt;ToBase64String&lt;/span&gt;(image);&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;p data-line=&quot;313&quot;&gt;&lt;span&gt;心知天气 API 请求&lt;/span&gt;&lt;/p&gt;&lt;p&gt;通过请求心知天气 API 获得当前位置的天气名称，需要提前在 https://www.seniverse.com/api 申请 API Key。在 &lt;code&gt;MetricsJob&lt;/code&gt; 类中添加方法：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;csharp&quot;&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;async&lt;/span&gt; &lt;span&gt;Task&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;string&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;GetXinzhiWeatherAsync&lt;/span&gt;()&lt;br/&gt;{&lt;br/&gt;    &lt;span&gt;IConfigurationRoot&lt;/span&gt; config &lt;span&gt;=&lt;/span&gt; (IConfigurationRoot)AppConfig.ServiceProvider.&lt;span&gt;GetService&lt;/span&gt;(&lt;span&gt;typeof&lt;/span&gt;(&lt;span&gt;IConfigurationRoot&lt;/span&gt;));&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;using&lt;/span&gt; &lt;span&gt;HttpClient&lt;/span&gt; client &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;HttpClient&lt;/span&gt;();&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;try&lt;/span&gt;&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;var&lt;/span&gt; json &lt;span&gt;=&lt;/span&gt; &lt;span&gt;await&lt;/span&gt; client.&lt;span&gt;GetStringAsync&lt;/span&gt;(&lt;span&gt;$&quot;https://api.seniverse.com/v3/weather/now.json?key=&lt;/span&gt;{config[&lt;span&gt;&quot;Xinzhi:Key&quot;&lt;/span&gt;]}&lt;span&gt;&amp;amp;location=&lt;/span&gt;{config[&lt;span&gt;&quot;Xinzhi:Location&quot;&lt;/span&gt;]}&lt;span&gt;&amp;amp;language=zh-Hans&amp;amp;unit=c&quot;&lt;/span&gt;);&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; (&lt;span&gt;string&lt;/span&gt;)JsonConvert.&lt;span&gt;DeserializeObject&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;dynamic&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;(json).results[&lt;span&gt;0&lt;/span&gt;].now.text;&lt;br/&gt;    }&lt;br/&gt;    &lt;span&gt;catch&lt;/span&gt; (&lt;span&gt;Exception&lt;/span&gt;)&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;.Empty;&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;p data-line=&quot;335&quot;&gt;&lt;span&gt;完善定时任务&lt;/span&gt;&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;csharp&quot;&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;Task&lt;/span&gt; &lt;span&gt;Execute&lt;/span&gt;(&lt;span&gt;IJobExecutionContext&lt;/span&gt; context)&lt;br/&gt;{&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; Task.&lt;span&gt;Run&lt;/span&gt;(&lt;span&gt;async&lt;/span&gt; () &lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;var&lt;/span&gt; metrics &lt;span&gt;=&lt;/span&gt; &lt;span&gt;GetMetrics&lt;/span&gt;();&lt;br/&gt;        metrics.WeatherType &lt;span&gt;=&lt;/span&gt; &lt;span&gt;await&lt;/span&gt; &lt;span&gt;GetXinzhiWeatherAsync&lt;/span&gt;();&lt;br/&gt;        metrics.ImageBase64 &lt;span&gt;=&lt;/span&gt; &lt;span&gt;GetImage&lt;/span&gt;();&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;WeatherContext&lt;/span&gt; context &lt;span&gt;=&lt;/span&gt; (WeatherContext)AppConfig.ServiceProvider.&lt;span&gt;GetService&lt;/span&gt;(&lt;span&gt;typeof&lt;/span&gt;(&lt;span&gt;WeatherContext&lt;/span&gt;));&lt;br/&gt;&lt;br/&gt;        Metrics.&lt;span&gt;Insert&lt;/span&gt;(context, metrics);&lt;br/&gt;    });&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;p data-line=&quot;353&quot;&gt;&lt;span&gt;创建定时任务触发器&lt;/span&gt;&lt;/p&gt;&lt;p&gt;在 &lt;code&gt;Program.cs&lt;/code&gt; 中添加：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;csharp&quot;&gt;&lt;span&gt;// 创建一个触发器&lt;/span&gt;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt; trigger &lt;span&gt;=&lt;/span&gt; TriggerBuilder.&lt;span&gt;Create&lt;/span&gt;()&lt;br/&gt;    .&lt;span&gt;WithCronSchedule&lt;/span&gt;(config[&lt;span&gt;&quot;QuartzCron&quot;&lt;/span&gt;])&lt;br/&gt;    .&lt;span&gt;Build&lt;/span&gt;();&lt;br/&gt;&lt;br/&gt;&lt;span&gt;// 创建任务&lt;/span&gt;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt; jobDetail &lt;span&gt;=&lt;/span&gt; JobBuilder.&lt;span&gt;Create&lt;span&gt;&amp;lt;&lt;/span&gt;MetricsJob&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;()&lt;br/&gt;    .&lt;span&gt;WithIdentity&lt;/span&gt;(&lt;span&gt;&quot;job&quot;&lt;/span&gt;, &lt;span&gt;&quot;group&quot;&lt;/span&gt;)&lt;br/&gt;    .&lt;span&gt;Build&lt;/span&gt;();&lt;br/&gt;&lt;br/&gt;&lt;span&gt;// 绑定调度器&lt;/span&gt;&lt;br/&gt;&lt;span&gt;ISchedulerFactory&lt;/span&gt; factory &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;StdSchedulerFactory&lt;/span&gt;();&lt;br/&gt;&lt;span&gt;var&lt;/span&gt; scheduler &lt;span&gt;=&lt;/span&gt; &lt;span&gt;await&lt;/span&gt; factory.&lt;span&gt;GetScheduler&lt;/span&gt;();&lt;br/&gt;&lt;span&gt;await&lt;/span&gt; scheduler.&lt;span&gt;ScheduleJob&lt;/span&gt;(jobDetail, trigger);&lt;br/&gt;&lt;span&gt;await&lt;/span&gt; scheduler.&lt;span&gt;Start&lt;/span&gt;();&lt;br/&gt;&lt;/pre&gt;&lt;p&gt;这样一个一分钟采集一次数据的简易气象站就完成了。&lt;/p&gt;&lt;h2&gt;部署应用&lt;/h2&gt;&lt;p data-line=&quot;378&quot;&gt;&lt;span&gt;发布到文件&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;切换到 &lt;code&gt;WeatherMetrics.ConsoleApp&lt;/code&gt; 项目运行发布命令：&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;&quot;&gt;&lt;code&gt;dotnet publish -c release -r linux-arm&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;将发布后的文件通过 FTP 等方式复制到 Linux 开发板；&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;为 &lt;code&gt;WeatherMetrics.ConsoleApp&lt;/code&gt; 文件增加可执行权限&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;&quot;&gt;&lt;code&gt;sudo chmod +x WeatherMetrics.ConsoleApp&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&quot;4&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;运行程序&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;&quot;&gt;&lt;code&gt;sudo ./WeatherMetrics.ConsoleApp&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-line=&quot;394&quot;&gt;&lt;span&gt;打包 Docker 镜像&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;查看 TimescaleDB 容器的 IP，并修改 &lt;code&gt;appsettings.json&lt;/code&gt; 的数据库连接字符串：&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;&quot;&gt;&lt;code&gt;docker inspect -f &#x27;{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#x27; timescaledb&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;在项目的根目录中创建 &lt;code&gt;Dockerfile&lt;/code&gt;，并将整个项目复制到 Linux 开发板中：&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;Dockerfile&quot;&gt;&lt;span&gt;FROM&lt;/span&gt; mcr.microsoft.com/dotnet/core/sdk:6.0-focal-arm32v7 &lt;span&gt;AS&lt;/span&gt; build&lt;br/&gt;&lt;span&gt;WORKDIR&lt;/span&gt; /app&lt;br/&gt;&lt;br/&gt;&lt;span&gt;# publish app&lt;/span&gt;&lt;br/&gt;&lt;span&gt;COPY&lt;/span&gt; src .&lt;br/&gt;&lt;span&gt;WORKDIR&lt;/span&gt; /app/WeatherMetrics.ConsoleApp&lt;br/&gt;&lt;span&gt;RUN&lt;/span&gt; dotnet restore&lt;br/&gt;&lt;span&gt;RUN&lt;/span&gt; dotnet publish -c release -r linux-arm -o out&lt;br/&gt;&lt;br/&gt;&lt;span&gt;## run app&lt;/span&gt;&lt;br/&gt;&lt;span&gt;FROM&lt;/span&gt; mcr.microsoft.com/dotnet/core/runtime:6.0-focal-arm32v7 &lt;span&gt;AS&lt;/span&gt; runtime&lt;br/&gt;&lt;span&gt;WORKDIR&lt;/span&gt; /app&lt;br/&gt;&lt;span&gt;COPY&lt;/span&gt; &lt;span&gt;--from&lt;/span&gt;=&lt;span&gt;build&lt;/span&gt; /app/WeatherMetrics.ConsoleApp/out ./&lt;br/&gt;&lt;br/&gt;&lt;span&gt;# install native dependencies&lt;/span&gt;&lt;br/&gt;&lt;span&gt;RUN&lt;/span&gt; apt update &amp;amp;&amp;amp; &lt;span&gt;\&lt;/span&gt;&lt;br/&gt;    apt install -y --allow-unauthenticated v4l-utils libc6-dev libgdiplus libx11-dev&lt;br/&gt;&lt;br/&gt;&lt;span&gt;ENTRYPOINT&lt;/span&gt; [&lt;span&gt;&quot;dotnet&quot;&lt;/span&gt;, &lt;span&gt;&quot;WeatherMetrics.ConsoleApp.dll&quot;&lt;/span&gt;]&lt;br/&gt;&lt;/pre&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;切换到项目目录，构建镜像：&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;&quot;&gt;&lt;code&gt;docker build -t weather-metrics -f Dockerfile .&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&quot;4&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;运行镜像：&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;&quot;&gt;&lt;code&gt;docker run --rm -it --device /dev/video0 --device /dev/i2c-0 weather-metrics&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;后续工作&lt;/h2&gt;&lt;p&gt;程序运行一段时间后，使用标准的 SQL 查询一下数据：&lt;/p&gt;&lt;pre data-role=&quot;codeBlock&quot; data-info=&quot;sql&quot;&gt;&lt;span&gt;SELECT&lt;/span&gt; &lt;span&gt;*&lt;/span&gt; &lt;span&gt;FROM&lt;/span&gt; metrics&lt;br/&gt;&lt;span&gt;ORDER&lt;/span&gt; &lt;span&gt;BY&lt;/span&gt; &lt;span&gt;time&lt;/span&gt; &lt;span&gt;DESC&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.4608788853161844&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/09LgVyNibqhH2FckWjFMxMuNuFmq5eCwX5tLxPr0n0sibK1DShJnVQYcia8uTnS7OBP4GlgSnv3BXIy0pvW24JefA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;933&quot;/&gt;&lt;/p&gt;&lt;p&gt;硬件是软件的基础，对收集到的数据后续可以使用其他技术进行处理，比如可以使用 ASP.NET 编写 WEB 应用对数据进行展示，或者可以使用 ML.NET 构建机器学习模型对天气进行预测等等。&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>e12599b7e1b8083ac770cb7386fe80e2</guid>
<title>做好用户标签体系建设，打好精细化运营的底层根基</title>
<link>https://toutiao.io/k/4zaxevz</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;上一篇文章&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5OTExMjkwMA==&amp;amp;mid=2651921382&amp;amp;idx=1&amp;amp;sn=170969b766c3fa8e952f24cccb896370&amp;amp;chksm=bd25c24d8a524b5b2eda755d6da9f71f48f9e2dd1b67a4434e7b6b31a99f4d7a45e6daebb5fb&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;《用户标签——理解与洞察用户需求的关键》&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;《用户标签——理解与洞察用户需求的关键》&lt;/span&gt;&lt;/a&gt;，我们从用户标签在企业应用中的发展史，初步了解了什么是用户标签，以及用户标签的作用。&lt;/p&gt;&lt;p&gt;这篇文章将为大家介绍用户标签体系是什么、它的层次化结构，以及定义用户标签的6大规范。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;1&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;em&gt;First Point&lt;/em&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;认识用户标签体系&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;用户标签体系实际上就是标签的合集，以用户为中心，通过不同的观察角度将标签组合在一起，帮助我们从某些方面更快、更全面地了解用户，形成对用户综合的评价。&lt;/p&gt;&lt;p&gt;如下图所示，我们通过对用户标签进行有效的归类、梳理后，基于标签对用户的洞察将更为清晰、易于理解。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.562963&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgVMHbGBdjpuCrugn2EaAGp8QhQJEDiaXBbibbw8m4yXpna7oWYFtZtibEzPPRXYb4NJsrxZkezvyibvQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;2&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;em&gt;Second Point&lt;/em&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;用户标签体系的层次结构&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;目前，主流的用户标签体系结构都是层次化的，通过标签的分类层次结构归纳不同业务部门、场景下的标签集合。&lt;/p&gt;&lt;p&gt;根据企业的不同需求，用户标签体系通常会被分为几个大类，每个大类下再进行逐层细分。在建设用户标签体系时，我们只需构建最下层的用户标签，就能映射到上层的用户标签。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.562963&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgVMHbGBdjpuCrugn2EaAGpV6sZJF6dia4jgSmvjEYP7xfQaXzmILhXFjH7xxib9icaFibVU4ibYlhMr2w/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;用户标签体系示例&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;在对用户标签体系进行分类时，我们一般遵循两个重要的原则：&lt;/p&gt;&lt;p&gt;当我们在设计整个用户标签体系的分类时，需要认识到组织、设计不同的分类实际上是在选择观察用户的角度。那应该从什么角度观察呢？答案是——业务的角度。&lt;/p&gt;&lt;p&gt;在企业中，我们应该从业务的角度去观察：&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;用户在产品上有什么行为特点？具体在每一个业务环节又是怎样？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;用户对产品表现出了何种兴趣与偏好？在不同的场景下又是如何？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;用户在不同业务的交易情况如何？有没有体现什么特征......&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;总的来说，围绕用户在产品上的行为、偏好等组织不同的分类，结合注册、浏览等用户行为路径，进一步细分。&lt;span&gt;在后续的文章中，我们将会带着大家一起深入的去掌握如何基于用户的旅程、需求场景去拆分、细化标签，归纳、汇总分类，最终形成标签体系。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;&lt;em&gt;3&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;em&gt;Third Point&lt;/em&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;定义用户标签的六大规范&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;用户标签及其体系是要开放给所有业务部门共同使用的，因此，在企业内部统一对用户标签的规范非常重要。我们总结了如下6大规范。&lt;span&gt;关于这6大规范的详细讲解将在下一篇文章中展开。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.562963&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgVMHbGBdjpuCrugn2EaAGpgUYtDHvfWaaDI1nZJXQkG7uuwIC6LfbBDiaovDDn63FBXqBuG4kPic2w/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;标签名称应该直观、准确，让人一眼就能理解指代的是什么。&lt;/p&gt;&lt;p&gt;标签类型一般可以分为静态标签、动态标签，或分为事实标签、统计标签、规则标签、挖掘标签。&lt;/p&gt;&lt;p&gt;清楚描述标签的计算规则，帮助使用者了解是否与认知一致。&lt;/p&gt;&lt;p&gt;标签的取值类型是什么，关系到如何使用这些标签，是否支持二次计算。&lt;/p&gt;&lt;p&gt;标签是如何执行计算的？单次还是周期？多久一次？什么时候计算？&lt;/p&gt;&lt;p&gt;不同业务角色，谁来管理标签、谁来使用标签，需要明确权限。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;关于易观方舟&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;易观方舟是易观集团旗下的全场景私域用户运营解决方案服务商，拥有智能分析、智能运营、智能画像三大产品组件及配套咨询服务，帮助企业沉淀数字用户资产，打造数据驱动运营闭环，建立私域用户亲密关系，实现精益成长。&lt;/p&gt;&lt;p&gt;目前，易观方舟已经覆盖品牌零售、地产、汽车、金融、企业服务、互联网+等10余个行业，获得招商银行、工商银行、翼支付、平安集团、华润置地、越秀地产、中石化、用友、上汽EVCARD、相宜本草、幸福西饼等上百家客户的认可。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;点击&lt;span&gt;「阅读原文」&lt;/span&gt;构建用户标签与画像&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;↓↓↓ &lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>3b249923fb2ebef30028a338ca52e0e9</guid>
<title>大型AI已有自主意识了？LeCun开喷Open AI首席科学家</title>
<link>https://toutiao.io/k/ws6uy58</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;h3 data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;section data-tools=&quot;135编辑器&quot; data-id=&quot;88402&quot;&gt;&lt;section data-style=&quot;line-height: 1.8; text-align: justify; font-size: 15px; letter-spacing: 0px; color: rgb(117, 114, 114);white-space: normal;&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section data-tools=&quot;135编辑器&quot; data-id=&quot;88402&quot;&gt;&lt;section data-style=&quot;line-height: 1.8; text-align: justify; font-size: 15px; letter-spacing: 0px; color: rgb(117, 114, 114);white-space: normal;&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;257&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.4444444444444444&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrAR5A7XLIcwczFxI8x06h2lDvqxGg9767HsiagM5qiaECdSHicsuuiclXOziaA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;900&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;hr/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;  &lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;新智元报道  &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;编辑：袁榭 好困&lt;/span&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;h5&gt;&lt;span&gt;&lt;strong&gt;【新智元导读】&lt;/strong&gt;作为AI界的明星研究所，老是搞事情的OpenAI，现在真的搞出通用人工智能（AGI）了么？&lt;/span&gt;&lt;/h5&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;3851&quot;&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;3851&quot;&gt;&lt;span&gt;‍‍&lt;/span&gt;「AI会不会变终结者」，这是外行经常会问、内行只有摊手的老套问题。&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;I0pQ&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;3g6X&quot;&gt;不过，这话要是让行内大佬一说，效果马上不一样了。&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;32lc&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;plCm&quot;&gt;最近，OpenAI&lt;span&gt;首席科学家&lt;/span&gt;的一句话，让整个机器学习圈都炸了锅了。&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;aPfG&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;UK21&quot;&gt;2月10日，伊利亚·萨茨克维尔（Ilya Sutskever）发推表示：「现在的大型神经网络可能已经有微弱自主意识了。」&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;lCPW&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;pbGN&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;219&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.38981481481481484&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARUXicvdop2C9kibVLyDwrpLeLq7rsjovtm63AH0ic86icVn9egSpBYMCECg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;c1Ec&quot; ql-global=&quot;true&quot;&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;c1Ec&quot; ql-global=&quot;true&quot;&gt;争论持续了几天之后。 &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;c1Ec&quot; ql-global=&quot;true&quot;&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;Lz3J&quot;&gt;2月13日，LeCun甚至亲自下场，&lt;span&gt;异常坚决且简单明了：&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;Z5V0&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;QCTe&quot;&gt;&lt;strong&gt;&lt;span&gt;「不对。」&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;FZpH&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;YRLI&quot; ql-global=&quot;true&quot;&gt;接着便措辞礼貌但尖刻地解释道： &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;YRLI&quot; ql-global=&quot;true&quot;&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;YRLI&quot; ql-global=&quot;true&quot;&gt;&lt;span&gt;「甚至『微弱意识』里的表微量的形容词，和『大型神经网络』里的表示大型的形容词，都是错的。我认为这需要一种当下所有神经网络都不具备的大型架构来支撑。」&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;ubTM&quot;&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;ubTM&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;210&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.37222222222222223&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARfsicE0kiaf4wdSj5kUyNHnRribIzKOjsWicia7T6do0mDnLsnZO8ES0WpSA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;YRLI&quot; ql-global=&quot;true&quot;&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;Y7Aq&quot;&gt;这段时间，伊利亚老师都是一句话冷艳结束，所以现在没人知道他到底具体在讲些什么。&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;fOQW&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;Kkz8&quot;&gt;尤其是这句「仓促」得连首字母都没有大写，不由得引人想入非非。&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;b8W9&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;2RRT&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;99&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.17592592592592593&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARQKwoTmJiaYyzchuRZ55dvECTX8xOz8u1IlCLavtyXl87bg2qIjNz1Rg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;sfvH&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;VNwm&quot;&gt;是在说正在开发中的新GPT模型大力出奇迹呢？还是在说自家的现有模型受天启感召已经具有不亚于人的灵智呢？还是重复宣传「通用人工智能」（AGI）很好很强大的观点呢？&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;306&quot; data-backw=&quot;546&quot; data-ratio=&quot;0.559375&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrAR6uuyzNa6jLdSx8ByoBmTibnZicbibbYfRaxemAVfV9JGU9ZMObcGcEW0A/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;640&quot;/&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;VNwm&quot;&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;VNwm&quot;&gt;&lt;span&gt;真要臆想超级AI，看《疑犯追&lt;/span&gt;&lt;span&gt;踪》比看无聊纪录片舒服多了。&lt;/span&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;0puE&quot; ql-global=&quot;true&quot;&gt;&lt;/p&gt;&lt;h1 data-foldable-wrapper=&quot;&quot;&gt;&lt;section autoid=&quot;1895&quot; data-style-type=&quot;0&quot;&gt;&lt;section&gt;&lt;p&gt;大佬们喷成一锅粥&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/h1&gt;&lt;section&gt;言归正传，推文发布后，各种回复随之扑面而来。&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;不出意外地充斥着对AI「自我认知」的强烈不安，但更多人则认为这是纯粹的胡说八道。&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;有网友在伊利亚的原推下回复：「现在人类所知的自我意识，必须有相当程度的动态随机性，甚至可以称为混沌性。若无，则只是算法性质的行为。算法的确可能足够复杂，让观察者误以为它具有意识。」&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;114&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.20185185185185187&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARevsonWibj7TNd76vy4zVkyaV7bibbibKmjUrvCZmCGEhUicucrH5tia5j5w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;新南威尔士大学西德尼分校人工智能研究员托比·沃尔什（Toby Walsh）说：「每次这种猜测性的评论被发表时，都需要花几个月的时间来让对话回到人工智能带来的更现实的机会和威胁上来。」&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;花旗银行副总裁、深度学习专家瓦伦蒂诺·佐卡（Valentino Zocca）也有类似的观点：&lt;span&gt;「人工智能是没有意识，但显然，炒作比任何事实都更重要。」&lt;/span&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;295&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.525&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARONZkiaJC2djDkrUHEGiaWtmn4LpxRVwCBYKNMXNichAibPR9d7RZQWgggA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1200&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;独立的科技社会学者尤尔根·古特（Jürgen Geuter）在跟帖中说：「很有可能这根本没任何事实依据，只是一家跑了海量简单统计的创业公司吹嘘自己拥有魔法般技术力的销售噱头。」&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;这一观点得到了软件测试专家迈克尔·博尔顿（Michael Bolton）的支持，他开玩笑说：&lt;span&gt;「AI不见得有微弱意识，不过伊利亚很可能有在『微弱』地满嘴跑火车，甚至可能不止『微弱』。」&lt;/span&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;236&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.41944444444444445&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARLnksBIFEmNfMUzuXTiagjWxCMB0wS6qx7cgOGYz9W1sEBJwFRUHdvDQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;哥本哈根信息技术大学的副教授里昂·德尔琴斯基（Leon Dercynski）也大开嘲讽：「在地球和火星之间的某个地方，很可能有一个绕日飞行的茶壶，这比伊利亚的想入非非要合理多了。因为天体轨道飞行的规则架构事实上存在，而何为茶壶的精确定义也存在。」&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;微软挪威数据科学家、前DeepMind研究员罗曼·韦尔帕科斯基（Roman Werpachowski）用放出著名的「我是你爸爸」哏图的方式回应了这个消息。&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6326530612244898&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARMFUiaIwvViaC2yKzdpGPfArY7Uzew6Pwp3GW0aibzc7yGhG7sxkWBLEsQ/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;245&quot;/&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;不过，在被无数人抨击后，伊利亚老师非常高贵冷艳地淡淡回复：「自大才是最终的敌人。」&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;137&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.24351851851851852&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARu8gkwg6WeODCfWBTZzI3V13Qf9Kfm7h6hTrvVQ1QUGupGqUX0BlYAw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;对于这句淡淡的反驳，网友们也有淡淡的嘲讽。&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;曾在微软、谷歌供职，现在英伟达深度学习项目就业的码农李奥纳多·摩西斯库（Leonard Mosescu）用伊利亚的金句句式嘲笑：&lt;span&gt;「现在的大型自大可能也有微弱自主意识了。」&lt;/span&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;75&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.13240740740740742&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARSm6vKoFL27tRGy3rFAzGG91OJHMfxN7ZUWlNPSmg8ttsbiccR8ia4tpg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;另一个在英特尔、IBM、佐治亚理工大学都干过的码农杰格·多什（Jigar Doshi）反问：&lt;span&gt;「若无自我执念，何来人类的意识活动呢？」&lt;/span&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;75&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.13240740740740742&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARcfPib14WzrZ1zlIb77N0wgiaXXUY5HmZA2k70w1OUO7U7II47B5eJR0w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;在万众抨击中，伊利亚老师终于舍得多说几句话回击了：&lt;span&gt;「为了短期内自我感觉良好，而无意识选择相信显然的假象，并不是最优生活策略」&lt;/span&gt;。&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;「认知=行动，先进的深度学习智能体可能也会有类似这种人类劣性的短板。」&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;266&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.4722222222222222&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARUJvKWPkkiaiaZDdZQT0FO4icpnx3R4RrXdMkf44vXDqpMqAz9MUVX6Lcg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;在千夫所指中，OpenAI的老板山姆·奥特曼（Sam Altman）表示力挺同事、同时反击LeCun：&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;OpenAI首席科学家：对神秘观点表示了好奇心与开放心态，用「可能」开始句子；&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt; &lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;Meta首席AI科学家：开句就是独断的「不对」。&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt; &lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;说不定这能解释过去5年中的业绩哦。&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt; &lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;亲爱的Meta AI研究者们，这是我的电邮地址，我司现在招人哦。&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;412&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.7333333333333333&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARqLicPMZXUnoPLlUUbDtkmicVfIH17KBFCv9fzjPPBOzmHIcX0K6aVSWw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;网红LeCun在社交网络上从没有受气挨喷的习惯，马上回复：&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;某司的确可以天天造更快的飞机、打破飞行高度记录，搞这些事情既能让自家名字常常上头条，这些突破说不定也会有那么点真用处。&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt; &lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;但如果目标是真正突破大气层飞上太空轨道，那就需要在冷凝储液罐、涡轮泵这些毫不上镜的技术上下苦功。&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt; &lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;不信你去问马斯克去。&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;266&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.4722222222222222&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrAR47skKVJyLyRyfywVic3yMIyTFXkvfgSiaNQtdiaRkRWheVz4SNULZcZzA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;微软的深度学习研究大佬Devon Hjelm说了大实话：&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;AI界的研究者与学生们，如果你们还不清楚的话，以下是此次事情的梗概：&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;除了老套的AI公司互喷打嘴仗以外，这事情一点有意义的实质性内容都没有。&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;大家最好还是问优质问题、保持好奇心、同时保持狐疑态度。&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;158&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.28055555555555556&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARXE7B8B3ES5aGJC4JPO7QxRqx3n66AQ0icROPbULRNWxJYBCq6zdThQA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;h1 data-foldable-wrapper=&quot;&quot;&gt;&lt;section&gt; &lt;/section&gt;&lt;/h1&gt;&lt;h1 data-foldable-wrapper=&quot;&quot;&gt;&lt;section autoid=&quot;1895&quot; data-style-type=&quot;0&quot;&gt;&lt;section&gt;&lt;section&gt;AI到底有无自主意识？&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;伊利亚老师除了是OpenAI的首席科学家兼联合创始人、AlphaGo论文的诸多作者之一，也是AI业界最热衷于AGI的著名人士之一。&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;OpenAI本身，也在「公司的未来使命」中宣布要开发「造福全人类的AGI」&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;在接受关于人工智能的2019年纪录片《iHuman》采访时，伊利亚既宣布将解决当下人类遇到的所有难题，却又警告AGI可能将具备无限延续专制的潜力。&lt;/section&gt;&lt;section&gt; &lt;/section&gt;&lt;section&gt;采访者应该是出于礼貌才没有追问「那用AGI能否解决人类社会面临独裁的难题」这种「以子之矛攻子之盾」的问题。&lt;/section&gt;&lt;/section&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;2WY4&quot;&gt;对此，非盈利研究机构「感知学院」（Sentience Institute）的联合创始人、社会科学家Jacy Reese Anthis在推特贴文中对此进行了深入的探讨。&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;9g3o&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;E6AC&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;562&quot; data-backw=&quot;562&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARqPgA2oFR7yof0HY3ey4k2PvraBJBJA4L8rddfOZfQfCCobMK9CIdtg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;970&quot;/&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;Cis9&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;leui&quot;&gt;在为自家的机构打了广告后，Jacy Reese Anthis阐述：&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;rPpe&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;y5dy&quot;&gt;首先，意识的含义在哲学家和科学家中存在很大争议。&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;IJ0M&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;X8SF&quot;&gt;对此，可以用3个以上更精确的术语来形容：&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;思想，通常是一种语义上的字词流&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;感知，通过五种感官或想象力达到的感知&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;情感，积极和消极的情绪&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;xoWZ&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;jXT8&quot;&gt;然而，甚至这些都是有争议的。&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;KL0X&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;lqvt&quot;&gt;这些是行为吗？过程？功能？二元论？不可言说的？等等。&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;Z2Gr&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;2lB1&quot;&gt;Jacy认为，应该采取消除主义的观点。因为这些术语是如此模糊，所以意识并不客观存在。&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;0Amm&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;WSLc&quot;&gt;那么，哪些具体特征会表明人工智能中的有知觉或意识？&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;Nzwa&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;DdBI&quot;&gt;「感知学院」的研究者认为如果人工智能可以被称为有意识，它可能具备以下特征中的一个或多个：对有害诱导数据的检测及于此可变的注重程度、对此诱因有规避的回应与记忆联想、对此诱因有类似情绪变化的状态变化，加强学习，基于目标而定的行为，对情绪状态的语义表述。&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;68ri&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;DVXl&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;467&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.8156370656370656&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UicQ7HgWiaUb2J6KKZjCsyomDSuQoxWrARlycQfkSNr2BYINYs93fq1eZHbnNNOY3g908rr9bAlY6PQmco7LNhZw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1036&quot;/&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;MKwO&quot;&gt;&lt;span&gt;http://sentienceinstitute.org/blog/assessing-sentience-in-artificial-entities&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;dLzY&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;Ob5I&quot;&gt;当下如GPT-3等的变换模型，以上特征几近于无。不过，Jacy还是不认为此议题有完全客观的答案。&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;Y8e0&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;hXSn&quot;&gt;因为对于意识的定义、比如「此物感觉怎样」或「内在倾听者」等等，用来回答这问题都太过模糊。&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;mOJB&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;blG1&quot;&gt;如今，在分歧、模糊和不确定的情况下所能做到的最精确回答大概就是：「神经网络可能有了极微的意识，但是比昆虫要少」。&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;参考资料：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;https://futurism.com/the-byte/openai-already-sentient&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;https://wordpress.futurism.com/conscious-ai-backlash/amp&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Ilya Sutskever：https://twitter.com/ilyasut/status/1491554478243258368&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;LeCun：https://twitter.com/ylecun/status/1492890267468320778&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Sam Altman：https://twitter.com/sama/status/1492644786133626882&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.1540880503144654&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/UicQ7HgWiaUb10PoMc8QQNrjsp8lOMiaPwVkHbjVicxntJynwdmjiadosl2znIvDTSjWsp4kcqlbqVdFt6TxqpptrkA/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;636&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>