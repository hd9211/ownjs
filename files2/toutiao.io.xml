<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>30f404611444e1bd442941270c7e7ad4</guid>
<title>细说 Kafka Partition 分区</title>
<link>https://toutiao.io/k/kw76t1v</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Partition（分区）是 Kafka 的核心角色，对于 Kafka 的存储结构、消息的生产消费方式都至关重要。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;掌握好 Partition 就可以更快的理解 Kafka。本文会讲解 Partition 的概念、结构，以及行为方式。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;一、Events, Streams, Topics&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在深入 Partition 之前，我们先看几个更高层次的概念，以及它们与 Partition 的联系。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;Event&lt;/strong&gt;（事件）代表过去发生的一个事实。简单理解就是一条消息、一条记录。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Event 是不可变的，但是很活跃，经常从一个地方流向另一个地方。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;Stream&lt;/strong&gt; 事件流表示运动中的相关事件。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当一个事件流进入 Kafka 之后，它就成为了一个 &lt;strong&gt;Topic&lt;/strong&gt; 主题。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.5565789473684211&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/wv3K6j4ibl92jPCtqDryrqzialkGL0P3CuxEUsNFkfODicHd54NTribBconiaEHedNFYBVd4zH41TFVlhxpyp5ZgRTA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1520&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以，Topic 就是具体的事件流，也可以理解为一个 Topic 就是一个静止的 Stream。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Topic 把相关的 Event 组织在一起，并且保存。一个 Topic 就像数据库中的一张表。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;二、Partition 分区&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.4814305364511692&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/wv3K6j4ibl92jPCtqDryrqzialkGL0P3CuhM5SuLc7OIfwibKZ1CIIc5hf6lNByI6lgFkYLRnNHiaqunVINUmktJhg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1454&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Kafka 中 Topic 被分成多个 Partition 分区。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Topic 是一个&lt;strong&gt;逻辑概念&lt;/strong&gt;，Partition 是最小的&lt;strong&gt;存储单元&lt;/strong&gt;，掌握着一个 Topic 的部分数据。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;每个 Partition 都是一个单独的 log 文件，每条记录都以追加的形式写入。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.5294117647058824&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/wv3K6j4ibl92jPCtqDryrqzialkGL0P3Cu1nia1GNiaMxDFbJmWVOAicdgALMxvf2L4JoAzt7BiaMaqAib2ftz6FAJk3A/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;561&quot;/&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;Record（记录） 和 Message（消息）是一个概念。&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;三、Offsets（偏移量）和消息的顺序&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Partition 中的每条记录都会被分配一个唯一的序号，称为 &lt;strong&gt;Offset&lt;/strong&gt;（偏移量）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Offset 是一个递增的、不可变的数字，由 Kafka 自动维护。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当一条记录写入 Partition 的时候，它就被追加到 log 文件的末尾，并被分配一个序号，作为 Offset。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.8452722063037249&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/wv3K6j4ibl92jPCtqDryrqzialkGL0P3CuPicicAqYFcJ4zYxowD5wxFhvQPq7qQOSJibleW4Qq9e9kpyUIQdp6KQBA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;698&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如上图，这个 Topic 有 3 个 Partition 分区，向 Topic 发送消息的时候，实际上是被写入某一个 Partition，并赋予 Offset。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;消息的顺序性需要注意，一个 Topic 如果有多个 Partition 的话，那么从 Topic 这个层面来看，消息是无序的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但单独看 Partition 的话，Partition 内部消息是有序的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以，一个 Partition 内部消息有序，一个 Topic 跨 Partition 是无序的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果强制要求 Topic 整体有序，就只能让 Topic 只有一个 Partition。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;四、Partition 为 Kafka 提供了扩展能力&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.5442622950819672&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/wv3K6j4ibl92jPCtqDryrqzialkGL0P3Cu31iaibt3FokPlyTSVMfNBprydoVjTf5JM326tCLr9YTiatSbm2ibNrN2lw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1220&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;一个 Kafka 集群由多个 Broker（就是 Server） 构成，每个 Broker 中含有集群的部分数据。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Kafka 把 Topic 的多个 Partition 分布在多个 Broker 中。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这样会有多种好处：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;如果把 Topic 的所有 Partition 都放在一个 Broker 上，那么这个 Topic 的可扩展性就大大降低了，会受限于这个 Broker 的 IO 能力。把 Partition 分散开之后，Topic 就可以水平扩展 。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;一个 Topic 可以被多个 Consumer 并行消费。如果 Topic 的所有 Partition 都在一个 Broker，那么支持的 Consumer 数量就有限，而分散之后，可以支持更多的 Consumer。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;一个 Consumer 可以有多个实例，Partition 分布在多个 Broker 的话，Consumer 的多个实例就可以连接不同的 Broker，大大提升了消息处理能力。可以让一个 Consumer 实例负责一个 Partition，这样消息处理既清晰又高效。&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;五、Partition 为 Kafka 提供了数据冗余&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Kafka 为一个 Partition 生成多个副本，并且把它们分散在不同的 Broker。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果一个 Broker 故障了，Consumer 可以在其他 Broker 上找到 Partition 的副本，继续获取消息。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;六、写入 Partition&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;一个 Topic 有多个 Partition，那么，向一个 Topic 中发送消息的时候，具体是写入哪个 Partition 呢？有3种写入方式。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;1. 使用 Partition Key 写入特定 Partition&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.2647058823529412&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/wv3K6j4ibl92jPCtqDryrqzialkGL0P3CuTpL6glziazJjdMN8x57924ys74DC4mGKwCw9icMibszDAoM2eSgqt7DkQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;782&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Producer 发送消息的时候，可以指定一个 Partition Key，这样就可以写入特定 Partition 了。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Partition Key 可以使用任意值，例如设备ID、User ID。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Partition Key 会传递给一个 Hash 函数，由计算结果决定写入哪个 Partition。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以，有相同 Partition Key 的消息，会被放到相同的 Partition。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;例如使用 User ID 作为 Partition Key，那么此 ID 的消息就都在同一个 Partition，这样可以保证此类消息的有序性。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这种方式需要注意 Partition &lt;strong&gt;热点问题&lt;/strong&gt;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;例如使用 User ID 作为 Partition Key，如果某一个 User 产生的消息特别多，是一个头部活跃用户，那么此用户的消息都进入同一个 Partition 就会产生热点问题，导致某个 Partition 极其繁忙。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;2. 由 kafka 决定&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果没有使用 Partition Key，Kafka 就会使用轮询的方式来决定写入哪个 Partition。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这样，消息会均衡的写入各个 Partition。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但这样无法确保消息的有序性。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;3. 自定义规则&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Kafka 支持自定义规则，一个 Producer 可以使用自己的分区指定规则。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;七、读取 Partition&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Kafka 不像普通消息队列具有发布/订阅功能，Kafka 不会向 Consumer 推送消息。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Consumer 必须自己从 Topic 的 Partition 拉取消息。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;一个 Consumer 连接到一个 Broker 的 Partition，从中依次读取消息。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.8515769944341373&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/wv3K6j4ibl92jPCtqDryrqzialkGL0P3CuyGmAw7o61GPUGN3F8L1jHt8wq9w3K9IjHjs56SgiaibcdbocuKcPIJwg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;539&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;消息的 Offset 就是 Consumer 的游标，根据 Offset 来记录消息的消费情况。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;读完一条消息之后，Consumer 会推进到 Partition 中的下一个 Offset，继续读取消息。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Offset 的推进和记录都是 Consumer 的责任，Kafka 是不管的。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.5316455696202531&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/wv3K6j4ibl92jPCtqDryrqzialkGL0P3Cu3HhC9CNGOcbeBzGxAIvwgVGBFicH6DrWATTnqrj6EeibPGRpYhwRLseA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;474&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Kafka 中有一个 Consumer Group（消费组）的概念，多个 Consumer 组团去消费一个 Topic。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;同组的 Consumer 有相同的 Group ID。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Consumer Group 机制会保障一条消息只被组内唯一一个 Consumer 消费，不会重复消费。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;消费组这种方式可以让多个 Partition 并行消费，大大提高了消息的消费能力，最大并行度为 Topic 的 Partition 数量。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.8160291438979964&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/wv3K6j4ibl92jPCtqDryrqzialkGL0P3CuSs4kQ7WQRb6icicnUuu7ibNebewGbzxs7GlRqxA7iciaPSOCfhYXcJjQwkg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;549&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;例如一个 Topic 有 3 个 Partition，你有 4 个 Consumer 负责这个 Topic，也只会有 Consumer 工作，另一个作为后补队员，当某个 Consumer 故障了，它再补上去，是一种很好的容错机制。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;参考资料&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;https://medium.com/event-driven-utopia/understanding-kafka-topic-partitions-ae40f80552e8&lt;/p&gt;&lt;/section&gt;
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>d2b3af4c375c3c2a49dc54c60dfd6f02</guid>
<title>卷积神经网络可视化，真的很像神经元（上篇）</title>
<link>https://toutiao.io/k/und62pa</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;RichText ztext Post-RichText&quot;&gt;&lt;p&gt;---莫名火了，点个收藏关注不迷路，想亲手尝试的同学可看此文末git入口&lt;/p&gt;&lt;p&gt;下篇已更新：&lt;/p&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://zhuanlan.zhihu.com/p/366860056&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic4.zhimg.com/v2-37e22ed6c200c2dc29921e3616cc7c43_180x120.jpg&quot; data-image-width=&quot;3190&quot; data-image-height=&quot;1187&quot; class=&quot;LinkCard old LinkCard--hasImage&quot;&gt;&lt;span class=&quot;LinkCard-backdrop&quot;/&gt;&lt;span class=&quot;LinkCard-content&quot;&gt;&lt;span class=&quot;LinkCard-text&quot;&gt;&lt;span class=&quot;LinkCard-title&quot; data-text=&quot;true&quot;&gt;对抗生成网络可视化，如何欺骗你的模型！下篇&lt;/span&gt;&lt;span class=&quot;LinkCard-meta&quot;&gt;&lt;span&gt;​&lt;svg class=&quot;Zi Zi--InsertLink&quot; fill=&quot;currentColor&quot; viewbox=&quot;0 0 24 24&quot;&gt;&lt;path d=&quot;M13.414 4.222a4.5 4.5 0 1 1 6.364 6.364l-3.005 3.005a.5.5 0 0 1-.707 0l-.707-.707a.5.5 0 0 1 0-.707l3.005-3.005a2.5 2.5 0 1 0-3.536-3.536l-3.005 3.005a.5.5 0 0 1-.707 0l-.707-.707a.5.5 0 0 1 0-.707l3.005-3.005zm-6.187 6.187a.5.5 0 0 1 .638-.058l.07.058.706.707a.5.5 0 0 1 .058.638l-.058.07-3.005 3.004a2.5 2.5 0 0 0 3.405 3.658l.13-.122 3.006-3.005a.5.5 0 0 1 .638-.058l.069.058.707.707a.5.5 0 0 1 .058.638l-.058.069-3.005 3.005a4.5 4.5 0 0 1-6.524-6.196l.16-.168 3.005-3.005zm8.132-3.182a.25.25 0 0 1 .353 0l1.061 1.06a.25.25 0 0 1 0 .354l-8.132 8.132a.25.25 0 0 1-.353 0l-1.061-1.06a.25.25 0 0 1 0-.354l8.132-8.132z&quot;/&gt;&lt;/svg&gt;&lt;/span&gt;zhuanlan.zhihu.com&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;LinkCard-imageCell&quot;&gt;&lt;img class=&quot;LinkCard-image LinkCard-image--horizontal&quot; alt=&quot;图标&quot; src=&quot;https://pic4.zhimg.com/v2-37e22ed6c200c2dc29921e3616cc7c43_180x120.jpg&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;———————以下是原文&lt;/p&gt;&lt;p&gt;前方多图预警！&lt;/p&gt;&lt;p&gt;大家好，我是鹅厂在读的AI安全35号小学生。&lt;/p&gt;&lt;p&gt;不知道小伙伴们有没有这种感觉？在接触AI时，老感觉神经网络就像个黑盒子，摸不着，看不透，贼神秘了。&lt;/p&gt;&lt;p&gt;其实，神经网络就是对人脑运作模式的智能模拟。和人脑一样，神经网络模型的强大能力，是基于成千上万个神经元的相互作用。以卷积神经网络（CNN）为例，其结构就分为很多层，层与层之间通过线来连接。训练的过程，就是将所有的线设置成合适的值的过程。&lt;/p&gt;&lt;p&gt; 为了直观展示，今天就通过可视化带大家看看AI训练时都长啥样。（前方多图预警！&lt;/p&gt;&lt;p&gt; 首先，AI模型训练前长这样：&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-40b48a2a7991456ad5eacee674c4477d_b.gif&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;773&quot; data-rawheight=&quot;632&quot; data-thumbnail=&quot;https://pic2.zhimg.com/v2-40b48a2a7991456ad5eacee674c4477d_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic2.zhimg.com/v2-40b48a2a7991456ad5eacee674c4477d_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;773&quot; data-rawheight=&quot;632&quot; data-thumbnail=&quot;https://pic2.zhimg.com/v2-40b48a2a7991456ad5eacee674c4477d_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic2.zhimg.com/v2-40b48a2a7991456ad5eacee674c4477d_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-40b48a2a7991456ad5eacee674c4477d_b.gif&quot;/&gt;&lt;/figure&gt;&lt;p&gt;训练中，依次经过卷积-激活、卷积-激活-池化、卷积-激活、卷积-激活-池化……这个过程大概长这样：&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-3458cf6d67a47d250203144276a3c110_b.gif&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1053&quot; data-rawheight=&quot;676&quot; data-thumbnail=&quot;https://pic1.zhimg.com/v2-3458cf6d67a47d250203144276a3c110_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic1.zhimg.com/v2-3458cf6d67a47d250203144276a3c110_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1053&quot; data-rawheight=&quot;676&quot; data-thumbnail=&quot;https://pic1.zhimg.com/v2-3458cf6d67a47d250203144276a3c110_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic1.zhimg.com/v2-3458cf6d67a47d250203144276a3c110_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-3458cf6d67a47d250203144276a3c110_b.gif&quot;/&gt;&lt;/figure&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-11bb39533e7ff61c2c8a6a2a02be89ee_b.gif&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1172&quot; data-rawheight=&quot;676&quot; data-thumbnail=&quot;https://pic3.zhimg.com/v2-11bb39533e7ff61c2c8a6a2a02be89ee_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic3.zhimg.com/v2-11bb39533e7ff61c2c8a6a2a02be89ee_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1172&quot; data-rawheight=&quot;676&quot; data-thumbnail=&quot;https://pic3.zhimg.com/v2-11bb39533e7ff61c2c8a6a2a02be89ee_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic3.zhimg.com/v2-11bb39533e7ff61c2c8a6a2a02be89ee_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-11bb39533e7ff61c2c8a6a2a02be89ee_b.gif&quot;/&gt;&lt;/figure&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-c679b69eb30d80a4597f22393a2cbb11_b.gif&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1053&quot; data-rawheight=&quot;676&quot; data-thumbnail=&quot;https://pic2.zhimg.com/v2-c679b69eb30d80a4597f22393a2cbb11_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic2.zhimg.com/v2-c679b69eb30d80a4597f22393a2cbb11_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1053&quot; data-rawheight=&quot;676&quot; data-thumbnail=&quot;https://pic2.zhimg.com/v2-c679b69eb30d80a4597f22393a2cbb11_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic2.zhimg.com/v2-c679b69eb30d80a4597f22393a2cbb11_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-c679b69eb30d80a4597f22393a2cbb11_b.gif&quot;/&gt;&lt;/figure&gt;&lt;p&gt;最后，训练完成后长这样，一种张扬肆意的凌乱美有没有：&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-93b164f083820823c0a8b07908a2c504_b.gif&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;773&quot; data-rawheight=&quot;632&quot; data-thumbnail=&quot;https://pic1.zhimg.com/v2-93b164f083820823c0a8b07908a2c504_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic1.zhimg.com/v2-93b164f083820823c0a8b07908a2c504_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;773&quot; data-rawheight=&quot;632&quot; data-thumbnail=&quot;https://pic1.zhimg.com/v2-93b164f083820823c0a8b07908a2c504_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic1.zhimg.com/v2-93b164f083820823c0a8b07908a2c504_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-93b164f083820823c0a8b07908a2c504_b.gif&quot;/&gt;&lt;/figure&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;/p&gt;&lt;p&gt;可以看到，经过训练后的模型之所以长得不再“均匀规整”，是因为被赋予了权值不一的特征。虽然训练花了不少时间，但360度观摩神经网络的训练后，让人觉得再漫长的等待都是值得的。&lt;/p&gt;&lt;p&gt;看完上面炫酷的3D展示，接下来我们再通过AI模型全局结构图，一步步拆解训练过程，试着把CNN每一层的操作和变化都展示出来。&lt;/p&gt;&lt;p&gt;首先是&lt;b&gt;卷积层&lt;/b&gt;，这一步主要是为了提取特征。因为AI在识别图片时，并非一下子整张图整体识别，而是先对图中的每一个特征进行局部感知。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-41af8a828a4c39bfe9da5c3f5f3db5b5_b.gif&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;954&quot; data-rawheight=&quot;434&quot; data-thumbnail=&quot;https://pic2.zhimg.com/v2-41af8a828a4c39bfe9da5c3f5f3db5b5_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic2.zhimg.com/v2-41af8a828a4c39bfe9da5c3f5f3db5b5_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;954&quot; data-rawheight=&quot;434&quot; data-thumbnail=&quot;https://pic2.zhimg.com/v2-41af8a828a4c39bfe9da5c3f5f3db5b5_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic2.zhimg.com/v2-41af8a828a4c39bfe9da5c3f5f3db5b5_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-41af8a828a4c39bfe9da5c3f5f3db5b5_b.gif&quot;/&gt;&lt;figcaption&gt;图：卷积层&lt;/figcaption&gt;&lt;/figure&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;/p&gt;&lt;p&gt;然后，到了&lt;b&gt;激活层&lt;/b&gt;，这个步骤是对上面提取的特征做一次非线性映射。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-81b3553f792e7f296f188e288e389f59_b.gif&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;996&quot; data-rawheight=&quot;434&quot; data-thumbnail=&quot;https://pic2.zhimg.com/v2-81b3553f792e7f296f188e288e389f59_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic2.zhimg.com/v2-81b3553f792e7f296f188e288e389f59_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;996&quot; data-rawheight=&quot;434&quot; data-thumbnail=&quot;https://pic2.zhimg.com/v2-81b3553f792e7f296f188e288e389f59_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic2.zhimg.com/v2-81b3553f792e7f296f188e288e389f59_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-81b3553f792e7f296f188e288e389f59_b.gif&quot;/&gt;&lt;figcaption&gt;图：激活层&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;接着，来到&lt;b&gt;池化层&lt;/b&gt;，用白话来讲就是去除冗余信息，保留关键信息。毕竟一张图像通常包含了大量杂余信息，如果把整张图的所有特征都学习下来，那可不把AI累死。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-f3687d07e81e428dd29b7b7536008315_b.gif&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;992&quot; data-rawheight=&quot;434&quot; data-thumbnail=&quot;https://pic2.zhimg.com/v2-f3687d07e81e428dd29b7b7536008315_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic2.zhimg.com/v2-f3687d07e81e428dd29b7b7536008315_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;992&quot; data-rawheight=&quot;434&quot; data-thumbnail=&quot;https://pic2.zhimg.com/v2-f3687d07e81e428dd29b7b7536008315_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic2.zhimg.com/v2-f3687d07e81e428dd29b7b7536008315_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-f3687d07e81e428dd29b7b7536008315_b.gif&quot;/&gt;&lt;figcaption&gt;图：池化层&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;就这样，以上操作重复N次，就形成了一个深层神经网络，完成自动化的有效特征提取：&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-112fe192ba0febe09a762a102a7742d8_b.gif&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1120&quot; data-rawheight=&quot;1022&quot; data-thumbnail=&quot;https://pic1.zhimg.com/v2-112fe192ba0febe09a762a102a7742d8_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic1.zhimg.com/v2-112fe192ba0febe09a762a102a7742d8_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1120&quot; data-rawheight=&quot;1022&quot; data-thumbnail=&quot;https://pic1.zhimg.com/v2-112fe192ba0febe09a762a102a7742d8_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic1.zhimg.com/v2-112fe192ba0febe09a762a102a7742d8_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-112fe192ba0febe09a762a102a7742d8_b.gif&quot;/&gt;&lt;/figure&gt;&lt;p&gt;最后，来到&lt;b&gt;全连接层&lt;/b&gt;，通过对所有得到的特征加权，计算输出预测结果，大功告成。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-80727aa62d9406929ae0f9ee5666a4da_b.gif&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;2290&quot; data-rawheight=&quot;1080&quot; data-thumbnail=&quot;https://pic3.zhimg.com/v2-80727aa62d9406929ae0f9ee5666a4da_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic3.zhimg.com/v2-80727aa62d9406929ae0f9ee5666a4da_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;2290&quot; data-rawheight=&quot;1080&quot; data-thumbnail=&quot;https://pic3.zhimg.com/v2-80727aa62d9406929ae0f9ee5666a4da_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic3.zhimg.com/v2-80727aa62d9406929ae0f9ee5666a4da_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-80727aa62d9406929ae0f9ee5666a4da_b.gif&quot;/&gt;&lt;/figure&gt;&lt;p&gt;以上，就是一整套AI训练时的正常画风。那么，如果我们给AI悄摸摸喂点对抗样本，训练过程又是什么画风呢？&lt;/p&gt;&lt;p&gt;有同学想了解请留言~有反响鼓励我我继续写牙~&lt;/p&gt;&lt;p&gt;想亲手尝试的同学可看此git详细列上ai可视化相关资源&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/aisecstudent/nn_visualization&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/aisecstudent&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;/nn_visualization&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;/&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;更多精彩尽在：&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//weixin.qq.com/r/rziWjinELnRRrW3t9229&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;http://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;weixin.qq.com/r/rziWjin&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ELnRRrW3t9229&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;/&gt;&lt;/a&gt; (二维码自动识别)&lt;/p&gt;&lt;h2&gt;【AI安全小学生系列】往期回顾&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI4NzUwMTQzMw%3D%3D%26mid%3D2247484065%26idx%3D1%26sn%3D293747cfab7a9f58003906a7d37dc302%26chksm%3Debcdffb7dcba76a1c28b8b6111be0e3362cffdce2b89d5fb57cb8b4cf441561ae70382eefac0%26mpshare%3D1%26scene%3D21%26srcid%3D0917GnBpXGhcaa28pbpkuPW2%26sharer_sharetime%3D1602727732667%26sharer_shareid%3D7325da1130b6c2920d1db9d16b537ce7%26key%3D89e0d01dbcbac2dc34dd379d6ec4aabbd96f9c3ecf89db43ed52af6df2007ce9a78eb8802efa09ed7c941ccdaa5bc955b8a8fb6739197bfeba2614befe7f62c3d42dc8ac3fa2c31ebe9ec57686c7d1a594a71ec6eed3920ad107e40fea141833d6dfd8ae67c0fc1f4fbc3a6558bede6f240a86a61d7d1f8d1b9680060c3d2b01%26ascene%3D1%26uin%3DODgxMzIwNDQw%26devicetype%3DWindows-QQBrowser%26version%3D6103000b%26lang%3Dzh_CN%26exportkey%3DAzXtzVJN8jaNugWdrOpAAKA%3D%26pass_ticket%3Dftckcs9Un64bYMRgmxoTW4rGfSoaSbJN7vstCzwHifdv7/cStrrJaybaBTFA9A3k%26wx_header%3D0%23wechat_redirect&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;照片被盗后，我用这种方法锤死了盗图贼&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI4NzUwMTQzMw%3D%3D%26mid%3D2247484373%26idx%3D1%26sn%3Da1ca76aa62009233d49afbc5e7ed0937%26chksm%3Debcdfec3dcba77d52920abe6b7afeca60f8412b143ed35af7b89c5d6964ae6ba7f5c9854e70a%26scene%3D21%23wechat_redirect&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;大厂码农隐秘图片流出.jpg&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI4NzUwMTQzMw%3D%3D%26mid%3D2247484517%26idx%3D1%26sn%3D890de9a61ed9f35dbe12d240a4d84e3d%26chksm%3Debcdf973dcba7065e4a64894cdd066698cc3948b8293683d18fd8753a021bcd824814fc7cbad%26scene%3D21%23wechat_redirect&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;AI是如何发现你手机里的羞羞照片的？&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI4NzUwMTQzMw%3D%3D%26mid%3D2247484609%26idx%3D1%26sn%3D29759204dd424a1a878818820a68848f%26chksm%3Debcdf9d7dcba70c1bfd446ab71ce4de8daa85310e07ecae9742df24c6189e9a52efc07285940%26mpshare%3D1%26scene%3D21%26srcid%3D1126BIR4b0MYW5RdesIFWi6G%26sharer_sharetime%3D1606391734217%26sharer_shareid%3D7325da1130b6c2920d1db9d16b537ce7%26key%3Db96dc852511f3f132bf0fcc8ac1258bad61823fd7173bb38779ad1157b3b238fc31891b6acd55226227a1898c8968f2e61d96450ce34546a8d3ad625ab3697bea53d4127f91f5ee0ed74800c276e44f7bd81b5a4a0fe5ff2690c3bc67945fbf76f6046d6430c06f72bf36eb8c4320dbf698bfc290843787fc230180a99369063%26ascene%3D1%26uin%3DODgxMzIwNDQw%26devicetype%3DWindows-QQBrowser%26version%3D6103000b%26lang%3Dzh_CN%26exportkey%3DA0cNxEULLMbHCP9uAj7mZTM%3D%26pass_ticket%3DWeFIBj1wIOHcg3gL0mc4NFrltYIRnarabYlu8FGzTxtPm/mZDzTZW75FNVQy1Mkh%26wx_header%3D0%23wechat_redirect&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;嘘——别出声！&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI4NzUwMTQzMw%3D%3D%26mid%3D2247484732%26idx%3D1%26sn%3De1e2cef7d42d90d560bc900a80ac4e4d%26chksm%3Debcdf82adcba713c32794e1a8231639236d2f91a9cc60b96dce4ca5469df56695120d85ae5d3%26mpshare%3D1%26scene%3D21%26srcid%3D0105QfMx09vtdm1HWcd0vM3l%26sharer_sharetime%3D1609829248296%26sharer_shareid%3D7325da1130b6c2920d1db9d16b537ce7%26key%3D4dac7f99a1c78a0f798e65ba93ab59d83d5640d27f9ce4dece3f5ca8cab6223e3ce945ae97e574d64b19fc986aa2f883e5808c397c22ebe6debe6758c9a6c024f0c3d967225091c961ba0b47019b68364515690fb65263bb953b577c74d396fbcf3cb0dbf51c60a2230273b5a4a93f441aeafe5e17336e980120de2224aff2ae%26ascene%3D1%26uin%3DODgxMzIwNDQw%26devicetype%3DWindows-QQBrowser%26version%3D6103000b%26lang%3Dzh_CN%26exportkey%3DA1LugEw/4iHevG%25204MBHK6AM%3D%26pass_ticket%3D3ph2WqKWsrEX5vIqz4DX0YgYezXHA1sPUviQnD187efNVfm9O9luIrz/PATSLNxm%26wx_header%3D0%23wechat_redirect&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;每个老司机，都曾在深夜思考过清除马赛克的方法&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI4NzUwMTQzMw%3D%3D%26mid%3D2247484773%26idx%3D1%26sn%3D8907ef9604325ea339e0d68805b29bea%26chksm%3Debcdf873dcba71656f1482ed948fecf15e21dce3e9a070243711f5b27ba310f3e1a3383576f2%26mpshare%3D1%26scene%3D21%26srcid%3D01132JWOJXu5vHvpYDzjtAWG%26sharer_sharetime%3D1610506906533%26sharer_shareid%3D7325da1130b6c2920d1db9d16b537ce7%26key%3Dedbc4005805c8af775c7d09db957223354eeae603ef55b004ca2504d8b3c2f60705d844f64e2fb6ba4061ff4685238e9a6f37e49abddf45eb76571c641b48576fa71dee5dbc5403977924118b0190b101b780242f3940e2afbd0b0c5ec779f69ecc64c4c097a7394522eb58c8858cd7686eb74ab60ac1098623ec916069478ab%26ascene%3D1%26uin%3DODgxMzIwNDQw%26devicetype%3DWindows-QQBrowser%26version%3D6103000b%26lang%3Dzh_CN%26exportkey%3DA6LM%252033/8c01hesPwmrp9oc%3D%26pass_ticket%3D1yiniy901tGHQRZd2XfuO/KZf/N8Bim/yQ2IuBuTKGvsrIFH3tPZ1wOt/pRs3sZN%26wx_header%3D0%23wechat_redirect&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;翻车的100种方法&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI4NzUwMTQzMw%3D%3D%26mid%3D2247484793%26idx%3D1%26sn%3D253073520d22fd70a2cfbfed77d8e96d%26chksm%3Debcdf86fdcba7179c4390434698986b34c64db34ce7876e22fd301ff252aebbf6140870a1a79%26mpshare%3D1%26scene%3D21%26srcid%3D0128Kc1gONaJTvN46w5IiESi%26sharer_sharetime%3D1611823267540%26sharer_shareid%3D7325da1130b6c2920d1db9d16b537ce7%26key%3Dedbc4005805c8af7b818a749b841cef1c30d2f5778adc6be8c289038cfd2376124e67a6f2334ac6d2e07b3d65448af1808e5f8473a82e82a1239b0a13e6c2a98fa38350be3478620f5a3bd0ec8715b7b8517c489e0ea24d9fa38ce81e3811ad3dcbac75f026b5c16313dfa222ad78b58863957379d1f042917af7163bac21160%26ascene%3D1%26uin%3DODgxMzIwNDQw%26devicetype%3DWindows-QQBrowser%26version%3D6103000b%26lang%3Dzh_CN%26exportkey%3DAxHF%2520H57wBUj5hH4kycMx9M%3D%26pass_ticket%3D4XzTFt7V0TvvFFIHdz//2kw4/GlNBF3nEhMvGZNfoQGOQv15zzH5Cnc4GtLAe2im%26wx_header%3D0%23wechat_redirect&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;如何从一个人入手，搞垮一家企业？&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI4NzUwMTQzMw%3D%3D%26mid%3D2247485058%26idx%3D1%26sn%3Dee3e6bdaee68ee7d94f6a28d821b10e8%26chksm%3Debcdfb94dcba72828aeb1827f347ec52a977102e2abc725f63b1bb968bdbed697e8fafb560c9%26mpshare%3D1%26scene%3D21%26srcid%3D0225rxchvpzvCLbAbftfaRdQ%26sharer_sharetime%3D1615554926397%26sharer_shareid%3D7325da1130b6c2920d1db9d16b537ce7%26key%3D5d9fdf81e2fd7ce1abe39479b23152d61a5c1bffa9fdd08d72f94afc04e52b526704b4056198b24429ab5c390825112f01331dbaea4a63c894fa0475dc4f0c5640bf6f0c3812bcb207bf5e7818cf67b8bcc41948c61fa6d64b8a1bf4f1f5b518d1ac863989a1ebb5529764ddbeda678da7e91354fbacb1dcc8cd758b6fc74d0b%26ascene%3D1%26uin%3DODgxMzIwNDQw%26devicetype%3DWindows-QQBrowser%26version%3D6103000b%26lang%3Dzh_CN%26exportkey%3DA%2520lh%2520d5Xqsyx8Obhuph0Eas%3D%26pass_ticket%3DOVluCAgWz1DW2bWy8IwUYXcqimDTW63mIjr5rdgBWd44vH7k8F6WqcOy1Rui667U%26wx_header%3D0%23wechat_redirect&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;当黑客拥有算力——“洗白”的病毒&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI4NzUwMTQzMw%3D%3D%26mid%3D2247485147%26idx%3D1%26sn%3D23df08adf2d027d9b744a943c25bdcf2%26chksm%3Debcdfbcddcba72db8d9664c3a357ee2c2a9cc8e454aebb65355fc24470f04fa40dea95d515cb%26mpshare%3D1%26scene%3D1%26srcid%3D0330TxTHfoS7b2p54uJ3t9r3%26sharer_sharetime%3D1617084884638%26sharer_shareid%3D7325da1130b6c2920d1db9d16b537ce7%26key%3D6e594d812b786901b6270eaf7f18fec49ac7ff4e176af7e3d385814b2581e60767bf84328783403d91db5cf92fcdf5d59f2a750bc9ef66870ae263fe06cadfa4ce1bcd027f896ab56ee5cc3faf15cf6f8d7b3ec20a70e157a5166619c25d9f477363b641ae190b2cd053ffdca1fc34183c66172b30202e0dbfabdeb21dfd0be8%26ascene%3D1%26uin%3DODgxMzIwNDQw%26devicetype%3DWindows-QQBrowser%26version%3D6103000b%26lang%3Dzh_CN%26exportkey%3DA1DUaS2BEVFM2%252BgEn8OUeUA%253D%26pass_ticket%3DEsgSQO19u1MFB1KbAEBMA6WMZJoThSh%252F%252Bxqqf9XD5n2QI2LBpIj8O3H935FIDego%26wx_header%3D0&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;当AI吃了毒蘑菇…&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI4NzUwMTQzMw%3D%3D%26mid%3D2247485308%26idx%3D1%26sn%3D20184a5d0db6b1be201ec97297c21aea%26chksm%3Debcdfa6adcba737c0e8d81119c264e9f25b72e39826aa6c0e8c9f33bd9ca4930bd8ec2d68057%26mpshare%3D1%26scene%3D1%26srcid%3D0414oVIwp39vh6kRWgZqW13i%26sharer_sharetime%3D1618399043032%26sharer_shareid%3D7325da1130b6c2920d1db9d16b537ce7%26key%3D5d9fdf81e2fd7ce151b736c631cb3b6ac616d4ea471fd76216bcbe05b183caa766cdbc633f39a833e97253916c63bee51f698f44c878ba5bdb0304fb63a70f8c32921b33b7ed68be3e3b631afca03263518da14df2bed9110729b4babc54348eb9756253289f8e79548e7a6f3ee8f584180c35755a456b35ccd9c23cef06508d%26ascene%3D1%26uin%3DODgxMzIwNDQw%26devicetype%3DWindows-QQBrowser%26version%3D6103000b%26lang%3Dzh_CN%26exportkey%3DAw6OMdmONmcBQ7NJoiM92qQ%253D%26pass_ticket%3Dx41a2jMhdv1%252BTjqwfkmAoYYxFE7JPkqz4vpSEP2LKncTFtGRI695FoRH4L9y6YJt%26wx_header%3D0&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;我们为什么要阅后即焚？&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>edc876d5c4e99d9084512ad70932bacb</guid>
<title>民族工业软件之殇</title>
<link>https://toutiao.io/k/cip5d5f</link>
<content:encoded>&lt;div&gt;&lt;body id=&quot;readabilityBody&quot;/&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>965a5088eeb56fd96ebfad2e3dab088e</guid>
<title>全方位深度解读 Elasticsearch 分页查询</title>
<link>https://toutiao.io/k/22smd1p</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;1、关于 Elasticsearch 分页查询，这几个问题经常被问到&lt;/span&gt;&lt;/h1&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;问题1：想请问下，一次性获取索引上的某个字段的所有值（100 万左右），除了把 max_result_window 调大 ，还有没有啥方法？&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;问题2：关于 es 的分页，每次拿 20 条展示在前台，然后点击下一页，在查询后面的20条数据，应该要怎么写？&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;问题3：From+size、Scroll、search_after 的本质区别和应用场景分别是什么？&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2、 Elasticsearch 支持的三种分页查询方式&lt;/span&gt;&lt;/h1&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;From + Size 查询&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;Search After 查询&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;Scroll 查询&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;下面我就三种方式的联系与区别、优缺点、适用场景等展开进行解读。&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2.1 From + size 分页查询&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2.1.1 From + size 分页查询定义与实战案例&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;如下基础查询：&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;GET kibana_sample_data_flights/_search&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;默认返回前10个匹配的匹配项。其中：&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;from：未指定，默认值是 0，注意不是1，代表当前页返回数据的起始值。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;size：未指定，默认值是 10，代表当前页返回数据的条数。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;如下指定条件查询和排序：&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;GET kibana_sample_data_flights/_search&lt;br/&gt;{&lt;br/&gt;  &lt;span&gt;&quot;from&quot;&lt;/span&gt;: 0,&lt;br/&gt;  &lt;span&gt;&quot;size&quot;&lt;/span&gt;:20,&lt;br/&gt;  &lt;span&gt;&quot;query&quot;&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;&quot;match&quot;&lt;/span&gt;: {&lt;br/&gt;      &lt;span&gt;&quot;DestWeather&quot;&lt;/span&gt;: &lt;span&gt;&quot;Sunny&quot;&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;  },&lt;br/&gt;  &lt;span&gt;&quot;sort&quot;&lt;/span&gt;: [&lt;br/&gt;    {&lt;br/&gt;      &lt;span&gt;&quot;FlightTimeHour&quot;&lt;/span&gt;: {&lt;br/&gt;        &lt;span&gt;&quot;order&quot;&lt;/span&gt;: &lt;span&gt;&quot;desc&quot;&lt;/span&gt;&lt;br/&gt;      }&lt;br/&gt;    }&lt;br/&gt;  ]&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;共返回 20 条数据。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;其中：from + size 两个参数定义了结果页面显示数据的内容。&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2.1.2 From + size 查询优缺点及适用场景&lt;/span&gt;&lt;/h3&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;From + size 查询优点&lt;/span&gt;&lt;/h4&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;From + size 查询缺点&lt;/span&gt;&lt;/h4&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;受制于 max_result_window 设置，不能无限制翻页。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;存在深度翻页问题，越往后翻页越慢。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;From + size 查询适用场景&lt;/span&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;第一：非常适合小型数据集或者大数据集返回 Top N（N &amp;lt;= 10000）结果集的业务场景。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;第二：类似主流 PC 搜索引擎（谷歌、bing、百度、360、sogou等）支持随机跳转分页的业务场景。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08310991957104558&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mjl8GCpsL9Y3yWkiaGtXn81CNLDGmNp7eekAIh9du3iaqWJwZ7rJfSiccpFDSyKqDwX9ysgAHk4wANlVeccHTx4qg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;746&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2.1.3 深度翻页不推荐使用 From + size&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;Elasticsearch 会限制最大分页数，避免大数据量的召回导致性能低下。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;Elasticsearch 的 max_result_window 默认值是：10000。也就意味着：如果每页有 10 条数据，会最大翻页至 1000 页。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;实际主流搜索引擎都翻不了那么多页，举例：百度搜索“上海”，翻到第 76 页，就无法再往下翻页了，提示信息如下截图所示：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.35153129161118507&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mjl8GCpsL9Y3yWkiaGtXn81CNLDGmNp7epOQSZH5W8ibmn5xlt4pC3UTsVfic9jKRKzsnt0H8VsQteG7mVTjAob1g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;751&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;如下的分页查询&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;GET kibana_sample_data_flights/_search&lt;br/&gt;{&lt;br/&gt;  &lt;span&gt;&quot;from&quot;&lt;/span&gt;: 0,&lt;br/&gt;  &lt;span&gt;&quot;size&quot;&lt;/span&gt;:10001&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;GET kibana_sample_data_flights/_search&lt;br/&gt;{&lt;br/&gt;  &lt;span&gt;&quot;from&quot;&lt;/span&gt;: 10001,&lt;br/&gt;  &lt;span&gt;&quot;size&quot;&lt;/span&gt;:10&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;报错如下：&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;{&lt;br/&gt;  &lt;span&gt;&quot;error&quot;&lt;/span&gt; : {&lt;br/&gt;    &lt;span&gt;&quot;root_cause&quot;&lt;/span&gt; : [&lt;br/&gt;      {&lt;br/&gt;        &lt;span&gt;&quot;type&quot;&lt;/span&gt; : &lt;span&gt;&quot;illegal_argument_exception&quot;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;&quot;reason&quot;&lt;/span&gt; : &lt;span&gt;&quot;Result window is too large, from + size must be less than or equal to: [10000] but was [10001]. See the scroll api for a more efficient way to request large data sets. This limit can be set by changing the [index.max_result_window] index level setting.&quot;&lt;/span&gt;&lt;br/&gt;      }&lt;br/&gt;    ],&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;什么原因？超过了最大窗口的限制，index.max_result_window 默认值为10000。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;报错信息还同时给出了两个解决方案：&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;方案一：大数据集召回数据使用：scroll api。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;后面会详细讲解。&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;方案二：调大 index.max_result_window 默认值。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;PUT kibana_sample_data_flights/_settings&lt;br/&gt;{&lt;br/&gt;    &lt;span&gt;&quot;index.max_result_window&quot;&lt;/span&gt;:50000&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong&gt;官方建议&lt;/strong&gt;：避免过度使用 from 和 size 来分页或一次请求太多结果。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;不推荐使用 from + size 做深度分页查询的核心原因：&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;搜索请求通常跨越多个分片，每个分片必须将其请求的命中内容以及任何先前页面的命中内容加载到内存中。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;对于翻页较深的页面或大量结果，这些操作会显著增加内存和 CPU 使用率，从而导致性能下降或节点故障。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;什么意思呢？&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;GET kibana_sample_data_flights/_search&lt;br/&gt;{&lt;br/&gt;  &lt;span&gt;&quot;from&quot;&lt;/span&gt;: 10001,&lt;br/&gt;  &lt;span&gt;&quot;size&quot;&lt;/span&gt;: 10&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;共 10 条数据加载到内存吗？不是的！&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;共：10011 条数据加载到内存，然后经过后台处理后返回了最后 10 条我们想要的数据。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;那也就意味着，越往后翻页（也就是深度翻页）需要加载的数据量越大，势必会越耗费 CPU + 内存资源，响应也会越慢！&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2.2 search_after 查询&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2.2.1 search_after 查询定义与实战案例&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;search_after 查询&lt;strong&gt;本质&lt;/strong&gt;：使用前一页中的一组排序值来检索匹配的下一页。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;前置条件：使用 search_after 要求后续的多个请求返回与第一次查询相同的排序结果序列。也就是说，即便在后续翻页的过程中，可能会有新数据写入等操作，但这些操作不会对原有结果集构成影响。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;如何实现呢？&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;可以创建一个时间点 Point In Time（PIT）保障搜索过程中保留特定事件点的索引状态。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;Point In Time（PIT）是 Elasticsearch 7.10 版本之后才有的新特性。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;PIT的&lt;strong&gt;本质&lt;/strong&gt;：存储索引数据状态的轻量级视图。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;如下示例能很好的解读 PIT 视图的内涵。&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;# 创建 PIT&lt;/span&gt;&lt;br/&gt;POST kibana_sample_data_logs/_pit?keep_alive=1m&lt;br/&gt;&lt;br/&gt;&lt;span&gt;# 获取数据量 14074&lt;/span&gt;&lt;br/&gt;POST kibana_sample_data_logs/_count&lt;br/&gt;&lt;br/&gt;&lt;span&gt;# 新增一条数据&lt;/span&gt;&lt;br/&gt;POST kibana_sample_data_logs/_doc/14075&lt;br/&gt;{&lt;br/&gt;  &lt;span&gt;&quot;test&quot;&lt;/span&gt;:&lt;span&gt;&quot;just testing&quot;&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;# 数据总量为 14075&lt;/span&gt;&lt;br/&gt;POST kibana_sample_data_logs/_count&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;# 查询PIT，数据依然是14074，说明走的是之前时间点的视图的统计。&lt;/span&gt;&lt;br/&gt;POST /_search&lt;br/&gt;{&lt;br/&gt;  &lt;span&gt;&quot;track_total_hits&quot;&lt;/span&gt;: &lt;span&gt;true&lt;/span&gt;, &lt;br/&gt;  &lt;span&gt;&quot;query&quot;&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;&quot;match_all&quot;&lt;/span&gt;: {}&lt;br/&gt;  }, &lt;br/&gt;   &lt;span&gt;&quot;pit&quot;&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;&quot;id&quot;&lt;/span&gt;: &lt;span&gt;&quot;48myAwEXa2liYW5hX3NhbXBsZV9kYXRhX2xvZ3MWM2hGWXpxLXFSSGlfSmZIaXJWN0dxUQAWdG1TOWFMTF9UdTZHdVZDYmhoWUljZwAAAAAAAAEN3RZGOFJCMGVrZVNndTk3U1I0SG81V3R3AAEWM2hGWXpxLXFSSGlfSmZIaXJWN0dxUQAA&quot;&lt;/span&gt;&lt;br/&gt;  }&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;有了 PIT，search_after 的后续查询都是基于 PIT 视图进行，能有效保障数据的一致性。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;search_after 分页查询可以简单概括为如下几个步骤。&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;步骤 1：创建 PIT 视图，这是前置条件不能省。&lt;/span&gt;&lt;/h4&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;# Step 1: 创建 PIT&lt;/span&gt;&lt;br/&gt;POST kibana_sample_data_logs/_pit?keep_alive=5m&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;返回结果如下：&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;{&lt;br/&gt;  &lt;span&gt;&quot;id&quot;&lt;/span&gt; : &lt;span&gt;&quot;48myAwEXa2liYW5hX3NhbXBsZV9kYXRhX2xvZ3MWM2hGWXpxLXFSSGlfSmZIaXJWN0dxUQAWdG1TOWFMTF9UdTZHdVZDYmhoWUljZwAAAAAAAAEg5RZGOFJCMGVrZVNndTk3U1I0SG81V3R3AAEWM2hGWXpxLXFSSGlfSmZIaXJWN0dxUQAA&quot;&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;keep_alive=5m，类似scroll的参数，代表视图保留时间是 5 分钟，超过 5 分钟执行会报错如下：&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;  &lt;span&gt;&quot;type&quot;&lt;/span&gt; : &lt;span&gt;&quot;search_context_missing_exception&quot;&lt;/span&gt;,&lt;br/&gt;  &lt;span&gt;&quot;reason&quot;&lt;/span&gt; : &lt;span&gt;&quot;No search context found for id [91600]&quot;&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;步骤 2：创建基础查询语句，这里要设置翻页的条件。&lt;/span&gt;&lt;/h4&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;# Step 2: 创建基础查询&lt;/span&gt;&lt;br/&gt;GET /_search&lt;br/&gt;{&lt;br/&gt;  &lt;span&gt;&quot;size&quot;&lt;/span&gt;:10,&lt;br/&gt;  &lt;span&gt;&quot;query&quot;&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;&quot;match&quot;&lt;/span&gt; : {&lt;br/&gt;      &lt;span&gt;&quot;host&quot;&lt;/span&gt; : &lt;span&gt;&quot;elastic&quot;&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;  },&lt;br/&gt;  &lt;span&gt;&quot;pit&quot;&lt;/span&gt;: {&lt;br/&gt;     &lt;span&gt;&quot;id&quot;&lt;/span&gt;:  &lt;span&gt;&quot;48myAwEXa2liYW5hX3NhbXBsZV9kYXRhX2xvZ3MWM2hGWXpxLXFSSGlfSmZIaXJWN0dxUQAWdG1TOWFMTF9UdTZHdVZDYmhoWUljZwAAAAAAAAEg5RZGOFJCMGVrZVNndTk3U1I0SG81V3R3AAEWM2hGWXpxLXFSSGlfSmZIaXJWN0dxUQAA&quot;&lt;/span&gt;, &lt;br/&gt;     &lt;span&gt;&quot;keep_alive&quot;&lt;/span&gt;: &lt;span&gt;&quot;1m&quot;&lt;/span&gt;&lt;br/&gt;  },&lt;br/&gt;  &lt;span&gt;&quot;sort&quot;&lt;/span&gt;: [ &lt;br/&gt;    {&lt;span&gt;&quot;response.keyword&quot;&lt;/span&gt;: &lt;span&gt;&quot;asc&quot;&lt;/span&gt;}&lt;br/&gt;  ]&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;设置了PIT，检索时候就不需要再指定索引。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;id 是基于步骤1 返回的 id 值。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;排序 sort 指的是：按照哪个关键字排序。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;在每个返回文档的最后，会有两个结果值，如下所示：&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt; &lt;span&gt;&quot;sort&quot;&lt;/span&gt; : [&lt;br/&gt;          &lt;span&gt;&quot;200&quot;&lt;/span&gt;,&lt;br/&gt;          4&lt;br/&gt;        ]&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;其中，“200”就是我们指定的排序方式：基于 {&quot;response.keyword&quot;: &quot;asc&quot;} 升序排列。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;而 4 代表什么含义呢？&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;4 代表——隐含的排序值，是基于_shard_doc 的升序排序方式。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;官方文档把这种隐含的字段叫做：tiebreaker （决胜字段），tiebreaker 等价于_shard_doc。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;tiebreaker &lt;strong&gt;本质&lt;/strong&gt;含义：每个文档的唯一值，确保分页不会丢失或者分页结果数据出现重复（相同页重复或跨页重复）。&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;步骤3：实现后续翻页。&lt;/span&gt;&lt;/h4&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;# step 3 : 开始翻页&lt;/span&gt;&lt;br/&gt;GET /_search&lt;br/&gt;{&lt;br/&gt;  &lt;span&gt;&quot;size&quot;&lt;/span&gt;: 10,&lt;br/&gt;  &lt;span&gt;&quot;query&quot;&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;&quot;match&quot;&lt;/span&gt; : {&lt;br/&gt;      &lt;span&gt;&quot;host&quot;&lt;/span&gt; : &lt;span&gt;&quot;elastic&quot;&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;  },&lt;br/&gt;  &lt;span&gt;&quot;pit&quot;&lt;/span&gt;: {&lt;br/&gt;     &lt;span&gt;&quot;id&quot;&lt;/span&gt;:  &lt;span&gt;&quot;48myAwEXa2liYW5hX3NhbXBsZV9kYXRhX2xvZ3MWM2hGWXpxLXFSSGlfSmZIaXJWN0dxUQAWdG1TOWFMTF9UdTZHdVZDYmhoWUljZwAAAAAAAAEg5RZGOFJCMGVrZVNndTk3U1I0SG81V3R3AAEWM2hGWXpxLXFSSGlfSmZIaXJWN0dxUQAA&quot;&lt;/span&gt;, &lt;br/&gt;     &lt;span&gt;&quot;keep_alive&quot;&lt;/span&gt;: &lt;span&gt;&quot;1m&quot;&lt;/span&gt;&lt;br/&gt;  },&lt;br/&gt;  &lt;span&gt;&quot;sort&quot;&lt;/span&gt;: [&lt;br/&gt;    {&lt;span&gt;&quot;response.keyword&quot;&lt;/span&gt;: &lt;span&gt;&quot;asc&quot;&lt;/span&gt;}&lt;br/&gt;  ],&lt;br/&gt;  &lt;span&gt;&quot;search_after&quot;&lt;/span&gt;: [                                &lt;br/&gt;    &lt;span&gt;&quot;200&quot;&lt;/span&gt;,&lt;br/&gt;    4&lt;br/&gt;  ]&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;后续翻页都需要借助 search_after 指定前一页的最后一个文档的 sort 字段值。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;如下代码所示：&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;  &lt;span&gt;&quot;search_after&quot;&lt;/span&gt;: [                                &lt;br/&gt;    &lt;span&gt;&quot;200&quot;&lt;/span&gt;,&lt;br/&gt;    4&lt;br/&gt;  ]&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;显然，search_after 查询仅支持向后翻页。&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2.2.2 search_after 查询优缺点及适用场景&lt;/span&gt;&lt;/h3&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;search_after 优点&lt;/span&gt;&lt;/h4&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;不严格受制于 max_result_window，可以无限制往后翻页。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;ps：不严格含义：单次请求值不能超过 max_result_window；但总翻页结果集可以超过。&lt;/span&gt;&lt;/p&gt;&lt;h5 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;search_after 缺点&lt;/span&gt;&lt;/h5&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;search_after 适用场景&lt;/span&gt;&lt;/h4&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;类似：今日头条分页搜索  https://m.toutiao.com/search&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;不支持随机翻页，更适合手机端应用的场景。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.17078189300411523&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mjl8GCpsL9Y3yWkiaGtXn81CNLDGmNp7ex2T4JiaEcPeEFUls9PTfLBDElldicfax2wLwUw2JpFYa29GCdkVMqrqw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;972&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2.3 Scroll 遍历查询&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2.3.1 Scroll 遍历查询定义与实战案例&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;相比于 From + size 和 search_after 返回一页数据，Scroll API 可用于从单个搜索请求中检索大量结果（甚至所有结果），其方式与传统数据库中游标（cursor）类似。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;如果把  From + size 和 search_after 两种请求看做近实时的请求处理方式，那么 scroll 滚动遍历查询显然是非实时的。数据量大的时候，响应时间可能会比较长。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;scroll 核心执行步骤如下：&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;步骤 1：指定检索语句同时设置 scroll 上下文保留时间。&lt;/span&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;实际上，scroll 已默认包含了 search_after 的PIT 的视图或快照功能。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;从 Scroll 请求返回的结果反映了发出初始搜索请求时索引的状态，类似在那一个时刻做了快照。随后对文档的更改（写入、更新或删除）只会影响以后的搜索请求。&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;POST kibana_sample_data_logs/_search?scroll=3m&lt;br/&gt;{&lt;br/&gt;  &lt;span&gt;&quot;size&quot;&lt;/span&gt;: 100,&lt;br/&gt;  &lt;span&gt;&quot;query&quot;&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;&quot;match&quot;&lt;/span&gt;: {&lt;br/&gt;      &lt;span&gt;&quot;host&quot;&lt;/span&gt;: &lt;span&gt;&quot;elastic&quot;&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;  }&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;步骤 2：向后翻页继续获取数据，直到没有要返回的结果为止。&lt;/span&gt;&lt;/h4&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;POST _search/scroll                                   &lt;br/&gt;{&lt;br/&gt;  &lt;span&gt;&quot;scroll&quot;&lt;/span&gt; : &lt;span&gt;&quot;3m&quot;&lt;/span&gt;,&lt;br/&gt;  &lt;span&gt;&quot;scroll_id&quot;&lt;/span&gt;:&lt;span&gt;&quot;FGluY2x1ZGVfY29udGV4dF91dWlkDXF1ZXJ5QW5kRmV0Y2gBFkY4UkIwZWtlU2d1OTdTUjRIbzVXdHcAAAAAAAGmkBZ0bVM5YUxMX1R1Nkd1VkNiaGhZSWNn&quot;&lt;/span&gt; &lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;scroll_id 值是步骤 1 返回的结果值。&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2.3.2 Scroll 遍历查询优缺点及适用场景&lt;/span&gt;&lt;/h3&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;    scroll 查询优点&lt;/span&gt;&lt;/h4&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;ps：单次遍历的 size 值也不能超过 max_result_window 大小。&lt;/span&gt;&lt;/h4&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;    scroll 查询缺点&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;scroll 查询适用场景&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;全量或数据量很大时遍历结果数据，而非分页查询。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;官方文档强调：不再建议使用scroll API进行深度分页。如果要分页检索超过 Top 10,000+ 结果时，推荐使用：PIT + search_after。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;3、小结&lt;/span&gt;&lt;/h1&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;From+ size：需要随机跳转不同分页（类似主流搜索引擎）、Top 10000 条数据之内分页显示场景。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;search_after：仅需要向后翻页的场景及超过Top 10000 数据需要分页场景。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Scroll：需要遍历全量数据场景 。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;max_result_window：调大治标不治本，不建议调过大。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;PIT：本质是视图。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.509375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mjl8GCpsL9Y3yWkiaGtXn81CNLDGmNp7ede1rgZ3ibavod54Cd99Qia94mNfhNo5ia3ULQOIicMpHZq2uY1C8J9BFmA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.4644506001846722&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mjl8GCpsL9Y3yWkiaGtXn81CNLDGmNp7eDDicDz1KoqQPBVVBJm7l73XCymlXIRXFqFbuQ7MLeqDh1fWOY96N9gw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1083&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;本文说法有不严谨的地方，以&lt;span&gt;官方文档&lt;/span&gt;为准。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;欢迎大家就自己的分页实践进行留言讨论。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;参考：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1. https://coralogix.com/log-analytics-blog/how-to-optimize-your-elasticsearch-queries-using-pagination&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2. https://www.javatpoint.com/elasticsearch-pagination&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3. https://www.elastic.co/guide/en/elasticsearch/reference/7.12/paginate-search-results.html&lt;/span&gt;&lt;/p&gt;&lt;hr/&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p&gt;&lt;span&gt;推荐：&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>7defa3e68d2cb123ec1edfa7fbf38831</guid>
<title>漫画：辞职前与老板的最后一次谈话有哪些禁忌？</title>
<link>https://toutiao.io/k/nahnki6</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p data-darkmode-bgcolor-16044963779928=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16044963779928=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16044963779928=&quot;rgb(141, 141, 141)&quot; data-darkmode-original-color-16044963779928=&quot;rgb(89, 89, 89)&quot; data-style=&quot;letter-spacing: 0.544px; color: rgb(89, 89, 89); font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &#x27;PingFang SC&#x27;, Cambria, Cochin, Georgia, Times, &#x27;Times New Roman&#x27;, serif; font-size: 16px; text-align: center; visibility: visible;&quot; data-darkmode-bgcolor-16048351688060=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16048351688060=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16048351688060=&quot;rgb(141, 141, 141)&quot; data-darkmode-original-color-16048351688060=&quot;rgb(89, 89, 89)&quot; class=&quot;js_darkmode__1&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span data-darkmode-bgcolor-16044963779928=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16044963779928=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16044963779928=&quot;rgb(127, 127, 127)&quot; data-darkmode-original-color-16044963779928=&quot;rgb(127, 127, 127)&quot; data-darkmode-bgcolor-16048351688060=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16048351688060=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16048351688060=&quot;rgb(127, 127, 127)&quot; data-darkmode-original-color-16048351688060=&quot;rgb(127, 127, 127)&quot;&gt;点击上方“&lt;/span&gt;&lt;span data-darkmode-bgcolor-16044963779928=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16044963779928=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16044963779928=&quot;rgb(141, 141, 141)&quot; data-darkmode-original-color-16044963779928=&quot;rgb(89, 89, 89)&quot; data-darkmode-bgcolor-16048351688060=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16048351688060=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16048351688060=&quot;rgb(141, 141, 141)&quot; data-darkmode-original-color-16048351688060=&quot;rgb(89, 89, 89)&quot;&gt;蓝色字体&lt;/span&gt;&lt;span data-darkmode-bgcolor-16044963779928=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16044963779928=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16044963779928=&quot;rgb(127, 127, 127)&quot; data-darkmode-original-color-16044963779928=&quot;rgb(127, 127, 127)&quot; data-darkmode-bgcolor-16048351688060=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16048351688060=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16048351688060=&quot;rgb(127, 127, 127)&quot; data-darkmode-original-color-16048351688060=&quot;rgb(127, 127, 127)&quot;&gt;”，选择“&lt;strong&gt;设为星标&lt;/strong&gt;”&lt;/span&gt;&lt;/p&gt;&lt;p data-darkmode-bgcolor-16044963779928=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16044963779928=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16044963779928=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-16044963779928=&quot;rgb(62, 62, 62)&quot; data-style=&quot;letter-spacing: 0.544px; color: rgb(62, 62, 62); font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &#x27;PingFang SC&#x27;, Cambria, Cochin, Georgia, Times, &#x27;Times New Roman&#x27;, serif; font-size: 16px; text-align: center; visibility: visible;&quot; data-darkmode-bgcolor-16048351688060=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16048351688060=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16048351688060=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-16048351688060=&quot;rgb(62, 62, 62)&quot; class=&quot;js_darkmode__2&quot;&gt;&lt;span data-darkmode-bgcolor-16044963779928=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16044963779928=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16044963779928=&quot;rgb(127, 127, 127)&quot; data-darkmode-original-color-16044963779928=&quot;rgb(127, 127, 127)&quot; data-darkmode-bgcolor-16048351688060=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16048351688060=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16048351688060=&quot;rgb(127, 127, 127)&quot; data-darkmode-original-color-16048351688060=&quot;rgb(127, 127, 127)&quot;&gt;做积极向上的前端人！&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;js_darkmode__2&quot;&gt;&lt;span data-darkmode-bgcolor-16044963779928=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16044963779928=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16044963779928=&quot;rgb(127, 127, 127)&quot; data-darkmode-original-color-16044963779928=&quot;rgb(127, 127, 127)&quot; data-darkmode-bgcolor-16048351688060=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16048351688060=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16048351688060=&quot;rgb(127, 127, 127)&quot; data-darkmode-original-color-16048351688060=&quot;rgb(127, 127, 127)&quot;&gt;&lt;strong&gt;这是&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;苏南&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;的 第&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;22&lt;/strong&gt;&lt;/span&gt;&lt;span data-darkmode-bgcolor-16044963779928=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16044963779928=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16044963779928=&quot;rgb(127, 127, 127)&quot; data-darkmode-original-color-16044963779928=&quot;rgb(127, 127, 127)&quot; data-darkmode-bgcolor-16048351688060=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16048351688060=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16048351688060=&quot;rgb(127, 127, 127)&quot; data-darkmode-original-color-16048351688060=&quot;rgb(127, 127, 127)&quot;&gt;&lt;strong&gt;篇 原创漫画推送&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;263&quot; data-ratio=&quot;0.5344444444444445&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy0ibMxSeLp8uC2Qt3SLfoibaK5vXgMslSbrYckuk5D09FcxAuNKxl6rRlYxjwial0Ifzmc1ea0B8OLN3Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;900&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;今天这篇漫画的灵感来源于知乎的一个万赞问答，说明大家是非常认可的，于是&lt;span&gt;改编&lt;/span&gt;成了漫画，让它更加的形象&lt;span&gt;生动&lt;/span&gt;，那么在离职前与领导的最后一次谈话中，到底有哪些注意事项呢？？一起来看看吧…&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section&gt;&lt;span&gt;本期漫画改编自&lt;/span&gt;&lt;span&gt;知乎万赞问答&lt;/span&gt;&lt;span&gt;，已获改编授权.&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;情节纯属虚构，如有雷同，纯属巧合.&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;1.8518518518518519&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy0ibMxSeLp8uC2Qt3SLfoibaK5Gl2XrBwYMj6G90HYeNQgI4yDibSzTjzaC2kt0PNQOkaHWMFTHA0csKg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;1.8518518518518519&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy0ibMxSeLp8uC2Qt3SLfoibaK5r0IibkVYr66DFvkJJ11gJIdAkuZuIjp4RkbUQTzoLPQzdI74vFR5Gxg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;1.8611111111111112&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy0ibMxSeLp8uC2Qt3SLfoibaK5ZKDLJZrut7gqLSOibvhNeVlgbtVxJbSA2ib5jg6ibeOJ2kGPnibHjhuxXg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;1.8518518518518519&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy0ibMxSeLp8uC2Qt3SLfoibaK5vicgy3icy6IicnicI0ibiaB4o1UIHQiafia9NVGzWQOe1ZtdsykbgYNsjDUpRg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;1.8518518518518519&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy0ibMxSeLp8uC2Qt3SLfoibaK5rCnGicWBxZKk5OQ7pbLLPnIqwuAO9zmWd9Xtrzp2Bd92ISNUEM3vuQQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;1.8453703703703703&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy0ibMxSeLp8uC2Qt3SLfoibaK5PqhWhmfkuxqhwecJ1JUC107UmJJMpdVvLXLib3p6ia6RMvSNKkmzmWMw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages&quot; data-croporisrc=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy0ibMxSeLp8uC2Qt3SLfoibaK5j2BtD5GTX9Ep8zu7xfwVQOWaWiaRkk7RLJ55nwY4AnxV5iaZVLBgREqA/0?wx_fmt=png&quot; data-cropx1=&quot;0&quot; data-cropx2=&quot;1080&quot; data-cropy1=&quot;0&quot; data-cropy2=&quot;650.2422145328719&quot; data-ratio=&quot;0.6027777777777777&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ibsfLhQMgy0ibMxSeLp8uC2Qt3SLfoibaK5Zhz4WeYXcHUC4cv2o8GXOxcfhhPRP01KqnXT3MictIiau4bsibRo8aclw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;编后&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;人往高处走，水往低处流，铁打的营盘流水的兵，离职是每一位职场打工人，都必有的经历，不想干了、干的不爽了、钱少了…等，自然就要走人，没有人喜欢离开，只不过是为了更好的发展，或者说是找到更好的舞台（涨薪了），更能发挥自己的才能.&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;离职前，老板/领导总会进行最后的一次谈话，有的是挽留(有几份真心我就不知道了)，不如说是一种形式主义吧，如果说入职前的面试是首次交锋，那么离职前的谈话，算是最后的黎明之战了吧，再多的怨言、不满、感激等情绪都放在心里了，毕竟来日方长，&lt;span&gt;事可以做绝，但话不可以说绝，&lt;/span&gt;有时候一个圈子是很小的，嘴上留一线，日后好相见，好聚好散，没必要过嘴瘾，大家尽量都给彼此一份体面，给这份工作画上一个圆满的句号.&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;参考资料&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;https://www.zhihu.com/question/28578624&lt;/span&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;文中部分素材来源网络，如有侵权，请联系删除&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;说明&lt;/span&gt;&lt;/span&gt;&lt;span&gt;：&lt;/span&gt;&lt;span&gt;本文已获授权改编自知乎&quot;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;哒柏&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&quot;的回答&amp;lt;&lt;/span&gt;&lt;span&gt;辞职与上司最后一次的谈话有哪些禁忌？&lt;span&gt;&amp;gt;，哒柏是一位风趣幽默的大佬&lt;/span&gt;&lt;/span&gt;&lt;span/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;声明&lt;/span&gt;&lt;span&gt;：&lt;/span&gt;&lt;span&gt;本公众号原创漫画内容均为架空构思，人物和故事情节均为虚构推演，不针对现实世界中的任何人和事，请勿对号入座&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;本文系 “&lt;/span&gt;&lt;span&gt;画漫画的程序员&lt;/span&gt;&lt;span&gt; ”  原创&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;转载请先微信联系苏南 (&lt;/span&gt;&lt;span&gt;su-south&lt;/span&gt;&lt;span&gt;)授权，并标明出处！&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;撰稿：&lt;/span&gt;&lt;span&gt;苏南、哒柏&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;插画 / 排版：苏南 &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;关注我，看更多有趣漫画&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;&lt;span&gt;👇&lt;/span&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;&lt;span&gt;👇&lt;/span&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzA5MjQ0Mjk2NA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy0icJ5W7ndVFFEmKqOEiae3MfkpcEbTY2Wl6nZN5PNAy79pVL3t7MPkJSSicmwEfhd80cPbo6mRgTllbA/0?wx_fmt=png&quot; data-nickname=&quot;画漫画的程序员&quot; data-alias=&quot;honeyBadger8&quot; data-signature=&quot;一个用漫画演绎程序员日常轶事、分享前端前沿技术、大厂面经与干货的公众号，号主是个爱画画的前端切图崽，热爱代码的同时，也希望用漫画的形式让更多了解程序员.&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;279&quot; data-ratio=&quot;0.48333333333333334&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy0ibFViac54RiaW906RIvibQLhEwpocYysg8DkJdhVymFBiblJw7BRzEWt7pfyA0C5G9xJVg07ibdOQ1yHjQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;900&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;更多精彩技术漫画，尽在&lt;/span&gt;&lt;strong&gt;画漫画的程序员&lt;/strong&gt;&lt;/p&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-tools-id=&quot;95905&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-tools=&quot;135编辑器&quot; data-id=&quot;93529&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span data-role=&quot;width&quot; data-width=&quot;80%&quot;&gt;&lt;img border=&quot;0&quot; data-type=&quot;gif&quot; data-width=&quot;80%&quot; height=&quot;&quot; title=&quot;&quot; class=&quot;__bg_gif&quot; data-ratio=&quot;0.08658008658008658&quot; data-w=&quot;462&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/dkwuWwLoRKicK7LlBwRVRUNO1BKzhTclI3kcTvSYr5NibF9W3ibImycHptnicePuavU3qOgR452gT8MQOibjV1Wgoicg/640?wx_fmt=gif&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.42567567567567566&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy0ibMxSeLp8uC2Qt3SLfoibaK5lSflvGsAoHgaIxe1tl2WMgb0w3mUKLMHxYEqYdbLnmJPa1egu09v2A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;888&quot;/&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA5MjQ0Mjk2NA==&amp;amp;mid=2247489781&amp;amp;idx=1&amp;amp;sn=bdaef9c8a75428204edf24bb388cce5f&amp;amp;chksm=906c40cea71bc9d8c9a965f6768710258e076fd62896741e261e3a14d0efd4800d3786f23380&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;你已选中了添加链接的内容&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;1&quot;&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot; data-positionback=&quot;static&quot;&gt;&lt;img class=&quot;rich_pages&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.42567567567567566&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy0ibQ9tSx9udhHia91w7BMsISxI5icAhO7zOiaCeBgyr9g2WIdDfDvTa5hfOmYR5LJKxXU6gSlHvkJUrrQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;888&quot;/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA5MjQ0Mjk2NA==&amp;amp;mid=2247487356&amp;amp;idx=1&amp;amp;sn=ba0d1e883519a4c2cfe5d836ae1a7e6a&amp;amp;chksm=906c5747a71bde5176359d313ef0465ad2a78f69ec4e4921139a828fce61c9897523066ea3b4&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;你已选中了添加链接的内容&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;1&quot;&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot; data-positionback=&quot;static&quot;&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.42567567567567566&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy0ibIDDe9L8hPq9yxNnerTeebiaaBichn1rJKaCzk04BibdfqOJ6lcPeN3kUqBJJVialkVHmP9Z0sT16HUw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;888&quot;/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-tools-id=&quot;95905&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-tools=&quot;135编辑器&quot; data-id=&quot;93529&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA5MjQ0Mjk2NA==&amp;amp;mid=2247487173&amp;amp;idx=1&amp;amp;sn=bc356e8e9703416531e29a8c92cd5c50&amp;amp;chksm=906c56fea71bdfe842e44b412059530cd6d4ad58695569e0e7754eaf4bb5db48f276b9b074d8&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;你已选中了添加链接的内容&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;1&quot;&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot; data-positionback=&quot;static&quot;&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.42567567567567566&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy0ibvicApEqxGpXN32YrsZQvCBLE4XNWicooQGpDntj3S8iab3iaHjyDotZkjKAKrSQ3QHDxANxbac77Gww/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;888&quot;/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA5MjQ0Mjk2NA==&amp;amp;mid=2247487763&amp;amp;idx=1&amp;amp;sn=1b26fc088f6292a0787311f4c0afeb8b&amp;amp;chksm=906c4928a71bc03eacf9920dd8e04f8f8b5cffc6777a68122951038a532e20a3b0ccb0d99f4e&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;你已选中了添加链接的内容&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;1&quot;&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot; data-positionback=&quot;static&quot;&gt;&lt;img class=&quot;rich_pages&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.42567567567567566&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibsfLhQMgy09hhLbnWpZ2OzAmGhiaGjScK0Dry0jOzsZBIcQsvsvaJ6ZOia6mCV3AmXmExeGl7vSrMMojdyCn0r2A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;888&quot;/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;苏南的 第&lt;/span&gt;&lt;span&gt;&lt;strong&gt;22&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;篇 原创漫画推送&lt;/span&gt;&lt;span data-darkmode-bgcolor-16044963779928=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16044963779928=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16044963779928=&quot;rgb(127, 127, 127)&quot; data-darkmode-original-color-16044963779928=&quot;rgb(127, 127, 127)&quot; data-darkmode-bgcolor-16048351688060=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16048351688060=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16048351688060=&quot;rgb(127, 127, 127)&quot; data-darkmode-original-color-16048351688060=&quot;rgb(127, 127, 127)&quot;&gt;&lt;strong/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;创作不易，点个「&lt;/span&gt;&lt;strong&gt;&lt;span&gt;在看&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;」给我点动力&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;img data-ratio=&quot;0.5691057&quot; data-type=&quot;png&quot; data-w=&quot;123&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/pDibwBSrmL6j7exDMu0DV2tJnLyFibnD8NJs4ACC0sqUb3uWk052g53Aw3lOiaTmFvvFp3fRSRed22XTsEexnGMhg/640?wx_fmt=png&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>