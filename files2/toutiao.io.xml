<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>cb0a51d8ebddc6b71980236f4745b12e</guid>
<title>「码农周刊 VIP 会员专属邮件周报」每周五发送，赶紧上车吧！</title>
<link>https://toutiao.io/k/7za8cy8</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;明天周五啦！&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;第 080 期「码农周刊 VIP 会员专属邮件周报」，将于本周五晚发送。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;数位上市公司 CTO 都在订阅，你还等什么？&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;img class=&quot;rich_pages js_insertlocalimg wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;255&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;255&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/t8lpVibticjQ4LlicrXjOxMtaQDWoib2X24FnCibVaaZDqGa6VhDuw5a6cJtG8eg35xVuS75hozib0Z3Kib07lhzJsTSA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;274&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;码农周刊是什么？&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;码农周刊是一份专为广大程序员、编程爱好者们打造的 IT 技术周刊。每周发送。&lt;br/&gt;2013 年 9 月 12 日创刊至今，已发送 300 多期，订阅用户超 20 万。&lt;br/&gt;&lt;span&gt;专业、简单、有用&lt;/span&gt;，是我们一直坚持的办刊宗旨。一路走来，我们见证了不少订阅用户从编程新手进阶成了高级程序员、架构师、CTO……&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2020 年 4 月，为了给用户提供更优质的服务，我们推出了「&lt;span&gt;码农周刊VIP会员&lt;/span&gt;」服务。&lt;br/&gt;&lt;strong&gt;你与 BAT 技术大牛，只差一份「码农周刊VIP会员」的距离！&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;VIP会员特权&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1. 52 期码农周刊VIP会员&lt;span&gt;专属邮件周报&lt;/span&gt;，让你及时掌握技术动向；&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2. 只限VIP会员加入的&lt;span&gt;交流圈子&lt;/span&gt;，让你与技术大牛切磋学习；&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3. VIP会员独享的&lt;span&gt;工作机会&lt;/span&gt;，为你介绍好公司的好机会；&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4. 更多会员特权，持续更新……&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;如何加入「码农周刊VIP会员」？&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1. 微信扫描下方二维码，加入码农周刊VIP会员知识星球。&lt;strong&gt;&lt;span&gt;促销期间，一年仅需 108 元！平均一天花费不到 3 毛！&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;391&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;425&quot; data-ratio=&quot;1.3478260869565217&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/t8lpVibticjQ6elqZKJKdKVMrGKUKjLwPpIFaDmrXyf1iaRtelGc6Fm6W4vp1uEAbb7Nz7QuBzxXNW96CiauDAL3Aw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;690&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2. 加入码农周刊VIP会员知识星球后，客服会联系您，请留意知识星球内的私信。&lt;br/&gt;3. 客服向您发送码农周刊VIP会员欢迎邮件，开启您的码农周刊VIP会员之旅。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;心动不如心动，赶快订阅吧！&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>043fd9bf9c81cfc91c120c1a3ef9958c</guid>
<title>贝壳找房一站式报警平台建设实践</title>
<link>https://toutiao.io/k/jobtx78</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.10546875&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/Rcon9f6LyEtnuNrHVVOILKpt8Fhmlfzg4sPusv1FyNPPUia4By47iaNGwPRYugWxgtkoliaJm2TQBXE3LA7OzAdVw/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;背景介绍&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;KeMonitor是贝壳找房服务端一站式监控报警平台。2018年～2020年是业务的快速发展阶段，在这期间陆陆续续研发了基于CAT、Prometheus、ELK、Skywalking、以及部分自研专有数据监控平台，大大小小攻击十余个监控系统，各系统均自行建设了各自的报警能力。报警发生之后，一线研发同学就会同时打开多个平台，去看基础设施监控、应用监控、日志等，五花八门的报警也给用户带来了最多的痛点。在此背景下具有一站式体验的KeMonitor平台就应运而生了。在2021年，由贝壳找房人店技术中心牵头，联合了多个部门，针对在报警环节进行了系统性的治理，治理报警的过程中也沉淀了一套完善的报警中心以及配套的报警响应SOP机制，下面会为大家详细介绍整体的建设经验。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;问题及挑战&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;在2020年年底进行了一次面向公司范围全体研发的用户调研，用户的诉求主要是希望项目组牵头对公司范围的研发侧同学日常收到的报警进行系统性治理。分析用户调研问卷的问题集合，一类是是报警太分散，缺少一站式平台化的能力来系统性的根治报警漏报、报警风暴、误报等问题；另外一大类问题就是在研发习惯层面对于如何补齐监控项以及报警如何治理的经验的缺失。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;平台治理能力问题&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;主要是涉及到报警的一系列“灵魂拷问”，该如何解决？&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;报警入口/触达太分散，报警不统一五花八门&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;报警太多，每一天，需要很大的精力来响应报警&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;关键的报警漏掉了，没发对人，也没有人及时跟进&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;发给我的的报警，本身就不合理，并不适合我的系统特点，我应该如何治理？&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;strong&gt;技术运营层面问题&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;如何快速推进大家补齐监控？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;如何形成一套标准的报警处理SOP机制？&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;解决思路&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;报警治理需要按照事前、事中、事后进行全生命周期的管理。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-2&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;li&gt;&lt;p&gt;事前，主要关注报警的完备度，要尽可能全的补齐监控，这一点我们在今年的健康分技术运营活动，重新梳理定义了监控的范式，建立了一套度量机制来度量报警的完备程度。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;事中，主要是指报警发生后，要第一时间进行处理——跟进/解决、止损恢复、信息同步通报，也就是对于关键的报警，要做到“件件有着落，事事有回音”，这样才能避免问题处理不及时，转化成故障。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;事后，主要是针对已经发生的报警，进行总结、复盘解决隐患，持续关注，形成长效机制。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;基于一线业务研发团队实践中的总结，监控/报警的成熟度，分为三个阶段：&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-2&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;li&gt;&lt;p&gt;初阶：&lt;/p&gt;&lt;p&gt;主要对应完善监控/报警，提升覆盖面&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;进阶：&lt;/p&gt;&lt;p&gt;主要对应报警规则补全之后，需要对于已经发生的报警，保持关注度，同时要及时识别出来报警的有效性，及时消灭无意义的报警，研发资源是宝贵的，要避免把过多的精力花在处理无意义/无关紧要的报警上。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;稳定：&lt;/p&gt;&lt;p&gt;监控/报警已经体系化，能够召回绝大多数问题，也是一个成熟技术团队良好技术习惯养成的标志之一。&lt;/p&gt;&lt;p&gt;对应前两个阶段已经做到位了，系统监控范围已经足够完备，团队内各成员已经养成了良好的技术习惯。&lt;/p&gt;&lt;p&gt;同时，组织结构以及系统是会不断迭代演进的，因此还需要持续治理。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;详细的报警分阶段治理以及报警成熟度模型，如图1所示：&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.562963&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26brGaJYQ1T8pmNXnpfvbSicyVpyte04PIKLDTGzwJACkdp9fliceUEQZiaw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图1 报警生命周期&amp;amp; 报警成熟度阶段&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;报警治理到成熟阶段的数据表现如图2所示，该案例节选自人店技术中心的某技术团队，从图中我们可以清楚的看出，随着一段时间的报警治理、Review、复盘，报警量整体上会呈一个下降的趋势。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5046296&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26b1v7qicwtWIbAalx6OsG4YTgrDOhN9BmTeibZNHOLOoz7vRyKZpIBOQFA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;图2 报警治理趋势图&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;实现上述效果，在工具层面，则需要针对报警全生命周期管控的线上化平台——KeMonitor报警中心。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;平台能力介绍&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;KeMonitor报警中心主要给大家提供完善的工具端的支持以及一套标准的报警SOP处理范式，以便大家能够更好的将报警治理进行落地。图3是报警中心的全景图，报警中心主要起到连接用户（研发——管理者&amp;amp;一线研发、DBA）以及监控能力提供方的衔接作用，核心解决在研发过程中，对于报警事件已经发生之后的最后一公里投递给到研发同学的痛点。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6157407&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bz64sziccTgGCOWMicJNL2NIibkzWq29KzEWwLOyXFjLgA1wpPv2RNzpibA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图3 报警中心能力全景图&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;一、统一配置（事前）&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;1）报警元信息标准化&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;在治理之前，大部分报警规则除了触发阈值之外，仅有触达方式一项可以进行配置，为了更好的治理报警，我们在报警规则元信息配置中增加了如下信息：&lt;/p&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-2&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;li&gt;&lt;p&gt;报警来源：&lt;/p&gt;&lt;p&gt;报警能力提供方&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;报警等级：&lt;/p&gt;&lt;p&gt;提供了0级、1级、2级、未分级四种，详细可以参见报警分级章节&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;报警场景：&lt;/p&gt;&lt;p&gt;依据报警健康分报警完备度的约束，可以标注该条报警，具体归属于那一类场景。&lt;/p&gt;&lt;p&gt;如：&lt;/p&gt;&lt;p&gt;慢查询、慢调用、业务指标报警&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;背景知识：&lt;/p&gt;&lt;p&gt;可以填写该条报警设置的背景&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;定位知识：&lt;/p&gt;&lt;p&gt;可以填写，该条报警定位问题对应的详细操作步骤&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;止损建议：&lt;/p&gt;&lt;p&gt;可以填写，该条报警对应的下一步的止损回恢复的操作步骤&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;如图4所示，用户以及通用报警能力提供方，均可针对报警规则添加的元信息，便于在事中阶段的问题止损&amp;amp;问题定位环节提效。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.4517375&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bChqwjKa5KJ2iaETC5u7P6hOjtrKsVDDpgFtMNlMicYqAehLRaBcv8DibQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;518&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图4 报警元信息标注&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;完成元信息标准化之后，报警内容中可以携带更多的定位、止损信息，减少用户上下文切换操作其他各平台的时间损耗，详细如图5所示：&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6010017&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26b4o2CvGO8VzuScaMsXy0rTPG9AbJ6oD6gviaSo8v2ehA6hAMYLQoDezA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;599&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图5 标准化报警文案&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2）报警分级&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;根据不同等级的服务，报警也需要设定为按照轻重缓急去有针对性的报警，不同的报警需要研发同学投入的关注度也是不同的，因此通过合理的分级机制。&lt;/p&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-2&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;li&gt;&lt;p&gt;0级报警：&lt;/p&gt;&lt;p&gt;大概率会导致线上产生故障，一般对应核心服务不可用，或者关键业务指标受损。&lt;/p&gt;&lt;p&gt;如：&lt;/p&gt;&lt;p&gt;服务大量报错，或者核心业务指标归零等。&lt;/p&gt;&lt;p&gt;同时针对0级报警中关键业务指标受损的情况，还需要进行进一步的细分，主要是去细分这个影响面，是公司级、业务级（如：&lt;/p&gt;&lt;p&gt;新房、房源、客源等核心系统的作业问题）、服务级这几类。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;1级报警：&lt;/p&gt;&lt;p&gt;如果处理不及时，积累到一定程度，会导致核心服务或者重要服务线上故障。&lt;/p&gt;&lt;p&gt;一般对应资源使用不合理，如：&lt;/p&gt;&lt;p&gt;MySQL慢查询、慢服务、慢请求，线程池满等场景。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;详细分级标准细则参考健康分的约束，0级报警共计2款，1级报警共计12款：健康分-监控/报警分规则&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6504425&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bAjibIwTj42icO1obuhYjbRg8MMXxzn7iaf9ou3g6TYiakA4jVZlBeQf0Pg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;452&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图6 报警等级&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;3）报警完备度度量机制&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;报警规则覆盖完备度，是应用建设完善的监控体系，需要首先关注的点，因为你只有覆盖的报警场景足够全面，才能够提前发现更多的隐患。在前文元信息标准化度量的功能，标注报警场景，即可具备度量能力。&lt;/p&gt;&lt;p&gt;通过Top健康分技术运营活动，我们也梳理出来了，能够符合绝大多数应用的监控范式：这也能够回答一系列的灵魂拷问，什么时候应该加监控？日志需要怎么记？应用监控应该注意什么？&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;报警场景如下：&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5203252&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26b4Dm32HYwpGGBD0k0QTD7xTvCv8ib1Z4GMVf35skvxNl5vTIDM9myw8A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;615&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图7 必选报警场景&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.603928&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26b81IC1iaricD6Vib5rd57jY1a3aV1SnPaR7znScTS0v6nczge5EemhTAaQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;611&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图8 可选报警场景&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;二、报警订阅（事中）&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;报警的触达，并不是只有我给用户发短信、发邮件、发企微、发机器人消息，关键在于怎么合理的使用上述触达方式，避免漏报问题。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;1）统一报警接收人&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;提供的资源监控统一串联编排逻辑，以根治漏报。由于公司的监控体系众多，公司范围内发给研发的报警有8个以上（日后还有可能继续增加）的监控报警能力提供方，如果有多套报警接收主体或者如果有人员的入离调转，或者组织结构调整。这些都会产生潜在的漏报问题，实际生产过程中2021年上半年也出现过此类问题导致的故障。这里通过服务视角的应用监控|日志监控(hawk、metric-dog-dog、fast、ketrace)、服务关联的基础设施（Redis、MySQL）监控|报警体系，建立：应用、人、组织、资源的监控|报警关联关系，来系统性的解决这样的问题。编排逻辑，如图4所示：&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.537963&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bUkuk4ezfkSDvjuUCKrhb0ZHOXqib1MH8I9AvGDibUoUuUlZ19uYNLxdw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图9 统一报警接收人编排机制&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;关于服务和实际的维护人员的组织关系的映射的长效治理机制，我们在健康分规则机制进行约束，考察一个服务的报警接收人，必须包含当&amp;gt;=2个当前部门的研发人员。这样即可保障，不会出现最低级报警人员的遗漏的问题。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;承接这一数据能力的系统，由私有云以及服务云来完成，如图8所示：&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4311718&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bSibkvndGUOKKHpJFqS9KDPnDEkgibA04gSytG530Sa4cvuw31l3JFGHg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;879&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图10 应用视角报警接收人&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2）统一报警触达方式&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;报警规则覆盖面不齐，同时设计的足够灵敏之后，带来的一个问题就是报警量过多，在触达通道中如果都混在一起，很难保证能够看完每一条报警，这往往会导致报警漏报；同时，报警平台多还会伴随而来的问题，就是报警触达应用号多（10个以上），这也会导致大家难以兼顾看每一个号，这就又产生了漏报。因此在触达方式层面，有分级应用号、报警机制人两种新机制来收口触达，避免漏报。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2.1）触达应用号分级&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;针对第一个问题，主要通过设定不同等级的报警，不同等级的报警发送到不同应用号，这样报警的组织是按照重要性来划分，不是按照报警类型来划分，这样即可减少用户的理解成本。大家日常仅需要把主要精力投入在最关键的报警应用号，对于非关键的报警应用号，可以采取定期筛查的方式来进行处理。图9、图10、图11是分级报警应用号的截图示意：&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.1829268&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bOy4jCIKEAl9cuibSKo9iaWbQ5gHRjb3ibOAT1FpIPwkOG6QNRL5JpSMZA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;328&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.1891892&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bKs1fL9JWYc0LTCGLJIgVgwAosKshruPia4TVzicQcUZslkhuGgPOZpvQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;333&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.1993865&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26b4icic6L6wOGsC8S5Sm50bZA9D9icUMmNK6EVwJBYXBoJOq99N1uIEMRAg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;326&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图11  分级报警应用号&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2.2）报警机器人提醒&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;机器人提醒的机制，最核心的价值是，机器人所在的群，在组织结构上对齐了生产过程中物理组织——研发小组（5～20人）、部门（20～50人）、业务线（50～100人）；同时形成了从总监、经理、一线员工的报警管理互相监督的管理动作，是一种精细化触达的机制，研发同学如图12所示配置完成开启哪些种类的报警之后，在报警触发之后即可出现如图13所示的机器人消息提醒。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5352324&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bT8AMV9MJk0GLzlYcmzx2JROxqib26BDyMhCzt6c5ksUm5ibUaSGJ2ZHA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;667&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图12 报警机器人提醒配置&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5913313&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26b7poY1L6BLKiaIIYKdE2ichK7QZcdDDhMXJBdib9SLBJvDMFJEvsuIhgmQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;646&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图13报警机器人提醒文案&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;机器人消息提醒机制，不仅只是简单的增加一种触达方式，而且还增加了@人跟进报警、处理误报、填写报警解决纪要、定位问题的快捷入口、解决问题的快捷入口等智能提醒机制，这些机制会在下文详细介绍。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;3）报警值班&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;报警联动值班机制，也是降低漏报问题的一种最佳实践，同时也能够提高跟进效率。&lt;/p&gt;&lt;p&gt;有了值班机制之后，每天都有专人来跟进稳定性保障。在报警响应方面，该同学会第一时间响应报警，确保报警第一时间有人相应。这样的机制，除了保证报警不会遗漏之外，还能够更高效利用研发资源，不至于研发同学都同时跟进报警，造成不必要的浪费。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2305732&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bEfvib36dq1tu6jfYsqlvY5INNLlATVzGkPkUw3aNdO6WUZOOcaqbodA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;785&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图14 关联keOnes值班表&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6860465&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bGuaoTZEgbyUw9HBlaw8pPIAFiboVHRjvXfY7nCt45lb1RvNiahj5wh9g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;430&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图15 报警联动值班&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;三、报警响应（事中）&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;事中阶段，最重要的是针对已经发生的报警，第一时间进行响应，并且将处理结论进行及时同步，对应如下几种情况：&lt;/p&gt;&lt;p&gt;1、如果是问题需要立即进行解决&lt;/p&gt;&lt;p&gt;2、如果是误报或者报警阈值设计不合理，则需要及时调整下线报警规则，或者调整阈值，或者进行消息免打扰操作&lt;/p&gt;&lt;p&gt;3、如果报警是合理的，但是影响十分轻微，只是一般性的提醒，则需要对报警级别进行调整修正，修正成2级报警&lt;/p&gt;&lt;p&gt;4、如果是正在处理中的报警，预计需要处理一段时间，期间会持续产生报警，则无需过多的占用大家的关注度，可以设置临时性的设置报警屏蔽，做消息免打扰操作。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;strong&gt;报警跟进&lt;/strong&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;这一系列机制，都通过绑定了精确的研发部门的报警机器人来承载此项能力，下面是报警跟进的流程详细操作步骤，供大家参考：&lt;/p&gt;&lt;p&gt;（1）报警发生时，会通过appId找到对应的企微机器人发送消息，发送如下消息，表明报警类型、内容、@人（值班人、服务负责人按优先顺序决定）&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.1647727&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bqkbRDub0ictwRz7C5nTY7GrjoWsiamm0ic4mC2PIalm4tMkFhCQa1JibnA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;352&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图16 机器人提醒【我来跟进】&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;（2）消息中可点击【我来跟进】按钮（请在当天内点击，过了当天点击无效），点下即进行了跟进（默认为当天以来到未来5分钟的当前标题都会自动跟进），在弹出的页面可以修改上述默认值（其他标题、未来时间段）。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3723176&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26b1lZGEqywCFqo3dOSvygM2eBuWP12Y0vKuibTaPpdK5LAfE1AZIoEWnA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;932&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图17 填写跟进明细&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;（3）同时机器人会立即发送如下消息，让群内周知跟进情况：&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5181058&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bn1JL7ZfmZoThCK60lHMPvjQ700icKZ59rbZXicYrgMd1mv6ZPrwqXDCA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;359&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图18 报警已跟进消息通知&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;（4）被跟进范围涵盖的新来的报警（follow步骤2中的跟进时效），会显示这样的样式，说明无需再跟进：&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4197183&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bJswHFL59XMQJ2xTsSAicUiblMTA0P9kX3sTicJMuO1LxZ44bHP6oGIaibA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;355&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图19 已经跟进报警再次触发&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;（5）如果在步骤（1）中点击的是【误报】，则会对该次报警标记成无效类型，同时可进行消息【免打扰】，临时或者永久屏蔽该报警。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.3925926&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bF8BW3iacsGk09cso83o9SxRuickicfCYURhotibx9FcnbvG4sXCDmHSONg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图20 标注无效报警&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;（6）报警解决&lt;/p&gt;&lt;p&gt;从上述报警跟进通知的企微消息（步骤3）“填写处理结论”可以进入报警历史页面。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;在该appId的报警历史中，按照报警类型+报警标题+是否已处理 聚合展示条目&lt;/p&gt;&lt;p&gt;可判断哪几类报警是同一件事情、同一个原因、同一种解决方案，可以勾选上，点击“批量处理”，从而创建了一个处理，关联上了多个报警&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4259259&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bXLibogRojE9QRPHvruS618G3dtpG78jTKTAH6cbnCticiaKric4QiaEk9aA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图21 批量处理报警&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;创建的当时可填写结论：&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6796117&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26b3ZwCrJGV8CfNo2krOs6Mo9od5umzBRq1qb1B2EAJKkkMt24Pt82Kpg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;515&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图22 填写处理结论&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;结论目前有这么几种可选，能够描述大家碰到的绝大部分情况：&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;待排查 &lt;/strong&gt;：还待排查定位原因&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;报警不合理 &lt;/strong&gt;：正常现象，报警阈值或口径不合理&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;外部故障&lt;/strong&gt; ：本部门范围外的已知原因的故障、事件引起的联动报警，外部恢复之后自动恢复。无需处理&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;计划内&lt;/strong&gt; ：计划内操作引起的（例如压测），无需处理&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;即将下线 &lt;/strong&gt;：即将下线，暂不处理。此时建议填写计划解决时间&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;无影响 &lt;/strong&gt;：已知原因，无影响，暂不处理&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;未排期&lt;/strong&gt; ：已知原因，应该生产变更，还未有排期或技术方案不明&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;已有排期&lt;/strong&gt; ：已知原因，应该生产变更，已有排期，还未开发完成或上线。此时建议填写计划解决时间&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;已处理 &lt;/strong&gt;：已通过生产变更解决&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;填写结论并且提交之后，企微机器人会发送通知：&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6657224&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bOujYK0EtwxNx8Pb6O7niajIMCtohJia7NE7talbaI3YRurCsicCU7WRJQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;353&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图23 报警已解决群提醒&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2）多级onCall机制&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;多级onCall机制主要针对最重要的报警，这类要保持足够的关注度，是保证最核心的报警不会发生漏报的“核武器”，如未能保证在规定的时效内跟进动作的完成，则开始通过精细化的按照组织结构层级进行逐级电话通知，第一级oncall通知【值班人】/【服务owner】，第二级通知经理，第三级通知总监，每一级默认3分钟。通过这样的机制，即可保证从一线研发再到以上的研发组长、研发经理、研发总监以及各稳定性保障角色，均能够第一时间知晓潜在，保持信息通畅。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;3）报警屏蔽&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;报警屏蔽，主要解决的问题是治理无效报警、减少误报，或者用于减小报警信息对于研发的不必要打扰。报警屏蔽，业务层面适用于临时的屏蔽掉由于某些原因，临时不收报警机器人群提醒或者报警消息（定点给某个人发送的，短信、邮件、企微应用消息、回调等），典型案例如下所示&lt;/p&gt;&lt;p&gt;1、某台机器下线，先临时屏蔽这个报警，避免轰炸&lt;/p&gt;&lt;p&gt;   如：企业微信和短信收到报警，只想屏蔽该服务这条类型的报警 5分钟&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.375&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bxN2ry0rdt4SeNcuiaQTTLqCEgIdRQutSsCeg9AwTu2TFXptrDb5zWlw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图24 临时屏蔽报警&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;2、由于某些原因，某些发送到群内的消息提醒，如：业务报警、或者提醒类型的报警，无需转发到大群&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;3、某些通用型的报警规则，由于业务特点，不适用该应用的所有的应用场景。比如：GC STW时长的报警、或者kafka消费积压超过2000报警&lt;/p&gt;&lt;p&gt;   如：服务操作的传统机器“停服”，之后越来越多项目上云后应该会有同样操作。这应该是预期内的正常停服下线，不用报警，所有相关的通用报警信息全部屏蔽&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5712963&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bf2Zx4mFBlu1MhIq5dmoO0ZSMDY6Qbw3bo76SZwlub6OECEK13AtC7Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图25 字段屏蔽报警&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;4、上线过程中，比如：KeMonitor上面有个checkServicePort的检测，默认是3分钟，我们有的服务起来要大于3分钟，导致就会在监控群里误报，可以进行字段粒度的屏蔽。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;4）报警自愈&lt;/p&gt;&lt;p&gt;如果报警期间，已经出现了故障，此时最重要的举措就是执行预案，做止损/恢复的动作。绝大多数情况，一个系统的常见的止损/恢复动作，都是固定的，有固定的操作步骤，如：重启、摘流、熔断、开关等；同时，一般情况也能够从一些报警能够反映出来，如系统依赖下游长时间响应慢，这种需要执行降级。在报警文案内叠加上止损恢复的快捷入口，能够大幅减少上下文切换（浏览器输入地址切换专有止损/恢复系统）的时间，从而达到提效的效果。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8108108&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26biaNwjX0RpZUhNQh64V29ficRNicFiajcuCJD3NWktKD064PxFpN54ZqTxA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;407&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图26 报警自愈快捷入口&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;四、报警复盘（事后）&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;事后阶段，主要是用来系统性的分析，一个长跨度时间范围的报警以及解决情况，分析系统瓶颈点，这里就需要在报警解决环节，填写完备的原因以及举措，详细如图26所示：&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4166667&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bvIwW4JOcUk5Wl1UTPvYDGHLdp97jUQZQQyrGFhFfxMetjicqM00XeGA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图27 报警解决纪要&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;五、自助化接入&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;报警中心面向监控/报警能力提供方（如：DBA、SRE等基础服务提供方等角色），还提供了报警规则等的一键导入、报警消息触达的一站式联调能力。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5722222&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Rcon9f6LyEtKSZWeTlrHGCicXhrxNQ26bwCyghqraIKk76LfSv3IicHKNT3gicjVMFrMsiaz5EmDttRgJdqGSevGUg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;图28 报警自助化接入&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;在接入平台化改造之前，需要一人周时间的报警规则列表、报警触达的对接集成，目前最快仅需要10分钟即可完成自助化接入。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;总结&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;通过对于报警的系统性治理，沉淀而来的报警中心，系统性解决的治理漏报、治理误报/报警风暴等问题，同时提升了报警响应、止损恢复、定位问题等环节的效率。下面三点，是最具贝壳特色的几点举措。&lt;/p&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-2&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;li&gt;&lt;p&gt;统一报警接收人，建立了以应用为中心的应用——资源——组织/人的关联报警，可以有效避免漏报&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;报警机器人，贯穿事中阶段全流程报警SOP机制，同时以管理的视角来对报警进行标准化处理。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;报警套餐环节，针对常见的基础设施、中间件、应用内SDK组件最容易出问题的场景，给出了默认的报警策略，能有有效减轻业务同学建设监控稳定性的复杂度。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;KeMonitor平台的下一步建设重点就在于进一步提升平台体验体验。在报警报警套餐的基础之上，进一步对监控指标进行模版化、”傻瓜化“的治理，会基于贝壳技术体系的基础设施以及技术栈进一步细化梳理指标口径定义、指标释义、报警阈值设定建议、定位问题、快速止损恢复专家建议，以及增加模版化配置能力，形成完备监控指标集市，便于用户更方便获取全面的监控能力。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.44533333333333336&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/Rcon9f6LyEtnuNrHVVOILKpt8FhmlfzgLrBGIvxlEYWR60LLyciayjG8DNIzcu5G9UxZzvFf6VAu8BxPicIdbcYg/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1875&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>8601a69f1005b9144d00a99dd7b5695c</guid>
<title>这 6 个开源项目很 Cool</title>
<link>https://toutiao.io/k/7kdj29e</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;section data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span&gt;推荐 6 个不错的开源项目，本文推荐的开源项目已经收录到 Awesome GitHub Repo。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Awesome GitHub Repo 是逛逛 GitHub 创建的开源项目，会收集整理 GitHub 上高质量、有趣的开源项目，并将他们进行归类。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;该开源项目集不是简单的按照编程语言来分类，而是按照更有趣的分类方式，比如：有趣项目、沙雕项目、实战项目、学习项目、实用工具等等。&lt;/span&gt;&lt;span&gt;同时欢迎各位读者 Star 该项目，并推荐优秀好玩的开源项目。&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;本期推荐的开源项目是：&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;1. 一个视频可视化搭建项目&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;2. 一个小巧玲珑的 Vue 组件切换动画库&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;3. 各种小巧而精致的 1kb javascript 小库&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;4. 快速高效搭建可视化拖拽平台&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;5. &lt;span&gt;腾讯开源的动画文件的渲染 SDK&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;6. 为开发者准备的瑞士军刀&lt;/span&gt;&lt;/section&gt;&lt;hr/&gt;&lt;h1&gt;01&lt;/h1&gt;&lt;p&gt;&lt;span&gt;一个视频可视化搭建项目&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;该开源项目是一个视频可视化搭建项目。通过简单的拖拽方式快速生产一个短视频，使用方式就像易企秀搭建工具一样的简单。&lt;/span&gt;&lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5870348139255702&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ePw3ZeGRruzxMOuB0ibe7LTwCuCtQC2ujTaD3LlkjMx5GHqntGepTicMfmb9yv6hWYcg6PLlQeM4pEgic6CibckNJg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1666&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;该开源项目后端视频合成部分是基于 FFCreato 开圆孔开发，FFCreator 是一个基于 node.js 的轻量、灵活的短视频加工库。你只需要添加几张图片或视频片段再加一段背景音乐，就可以快速生成一个很酷的视频短片。&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;前端部分 fork 自quark-h5 项目开发，quark-h5 是一个很棒的 h5 搭建开源工具，该项目未做太多扩展。&lt;/span&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-preserve=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;pre&gt;&lt;section&gt;&lt;span&gt;项目地址：https://github.com/tnfe/shida&lt;/span&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/section&gt;&lt;h1&gt;02&lt;/h1&gt;&lt;p&gt;&lt;span&gt;一个小巧玲珑的 Vue 组件切换动画库&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;一个小巧玲珑的 Vue 组件切换动画库, 支持 10 几种动画切换方式, 效果十分炫酷并且非常轻量哦。&lt;/span&gt;&lt;span/&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-preserve=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;pre&gt;&lt;section&gt;&lt;span&gt;项目地址：https://github.com/tnfe/transx&lt;/span&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/section&gt;&lt;h1&gt;03&lt;/h1&gt;&lt;p&gt;&lt;span&gt;各种小巧而精致的 1kb javascript小库&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;盘点各种小巧而精致的 1Kb Javascript 小库&lt;/span&gt;&lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.30777777777777776&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ePw3ZeGRruzxMOuB0ibe7LTwCuCtQC2ujJnJKGpRQoBGVMtJvfO5zBdtqCGv514Ptha5M7q8aTOWxYfWu73qFhA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2700&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-preserve=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;pre&gt;&lt;section&gt;&lt;span&gt;项目地址：https://github.com/xucz/awesome-1kb&lt;/span&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;h1&gt;04&lt;/h1&gt;&lt;p&gt;&lt;span&gt;快速高效搭建可视化拖拽平台&lt;/span&gt;&lt;/p&gt;&lt;h1/&gt;&lt;section&gt;&lt;span&gt;dooringx-lib 是 dooringx 的基座，是移除了 dooringx 插件的可视化拖拽框架。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;dooringx-lib 提供自己的一套数据流事件机制以及弹窗等解决方案，可以让你更快地自己定制开发可视化拖拽平台。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;dooringx-lib 在运行时维护一套数据流，主要分为json数据部分，左侧组件部分，右侧配置项部分，快捷键部分，弹窗部分，事件与函数部分，数据源部分。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;其除了提供基础的拖拽、移动、缩放、全选、旋转等功能外，还可以使用暴露的组件。如果觉得组件不够定制化，可以调整样式或者自己重新写。&lt;/span&gt;&lt;/section&gt;&lt;h2/&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5287037037037037&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ePw3ZeGRruzxMOuB0ibe7LTwCuCtQC2ujvZ0sJia8iayFeS5pDlCy8vtXv1oIabFUeEIKyUFUbXD6YgjVEBC6zHjA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5287037037037037&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ePw3ZeGRruzxMOuB0ibe7LTwCuCtQC2ujbYfjFCwyZRtibc0aN1j7QGAoZ59RDOeE1WHOF0A9WD7bR9CibjkcvCNg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-preserve=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;pre&gt;&lt;section&gt;&lt;span&gt;项目地址：https://github.com/H5-Dooring/dooringx&lt;/span&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;h1&gt;05&lt;br/&gt;&lt;/h1&gt;&lt;section&gt;&lt;span&gt;动画文件的渲染 SDK&lt;/span&gt;&lt;/section&gt;&lt;p dir=&quot;auto&quot;&gt;&lt;span&gt;腾讯开源的动画文件的渲染 SDK，已经接入了腾讯系 40 余款应用，包括微信，手机QQ，王者荣耀，腾讯视频，QQ音乐等头部产品，稳定性经过了海量用户的持续验证，可以广泛应用于 UI 动画、贴纸 动画、视频编辑、模板设计等场景。&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;auto&quot;&gt;&lt;span&gt;目前已覆盖几乎所有的主流平台，包括：iOS, Android, macOS, Windows, Linux, 以及 Web 端。具有以下特点：高效的文件格式、全 AE 特性支持、性能监测可视化、运行时可编辑。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-preserve=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;pre&gt;&lt;section&gt;&lt;span&gt;开源地址：https://github.com/Tencent/libpag&lt;/span&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.32950191570881227&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ePw3ZeGRruzxMOuB0ibe7LTwCuCtQC2ujzO2Cn5DmQVCd1kgYZhPPOp0QPYYZn8aJclVx21sQhPr8MHG3kDdO2Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1044&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;特别推荐&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;178&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.38642297650130547&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ePw3ZeGRruzxMOuB0ibe7LTwCuCtQC2ujZ0iaRRiaYJYkb8HyicnSvUULCJMfDdIsrhqJQKGJFsFmm7HmZosibeFr1A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1532&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;开发者的瑞士军刀：DevToys 可以帮助开发者完成日常任务，比如格式化JSON、文本比较、测试正则表达式：&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-preserve=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;pre&gt;&lt;section&gt;&lt;span&gt;项目地址：https://github.com/veler/DevToys&lt;/span&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;通过智能检测，DevToys 能够检测出处理您在 Windows 剪贴板中复制的数据的最佳工具。Compact overlay 让你可以将应用程序保持在较小的位置，并置于其他窗口之上。该应用程序的多个实例可以同时使用。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;有很多工具可用。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;逛逛 GitHub 每天推荐一个好玩有趣的开源项目。历史推荐的开源项目已经收录到 GitHub 项目，欢迎 Star：&lt;/span&gt;&lt;span/&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-preserve=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;pre&gt;&lt;section&gt;&lt;span&gt;开源地址：https://github.com/Wechat-ggGitHub/Awesome-GitHub-Repo&lt;/span&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;hr/&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section&gt;&lt;span&gt;推荐阅读&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;1. &lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzUxNjg4NDEzNA==&amp;amp;mid=2247498662&amp;amp;idx=1&amp;amp;sn=0087c4f3b79ba3420e917e9b42d45eda&amp;amp;chksm=f9a2286fced5a1794eb9a73d0be7c2e16eaceabf3a0420647c40cb4202bd116d9a15dd57c008&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;GitHub 上有什么好玩的项目？&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;em&gt;&lt;span&gt;2.&lt;/span&gt;&lt;/em&gt;&lt;span&gt; &lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzUxNjg4NDEzNA==&amp;amp;mid=2247507541&amp;amp;idx=1&amp;amp;sn=79edebda20ac94221aa641090fc9878e&amp;amp;chksm=f9a20d9cced5848a5ba699a819f52907f537e557c10c7bb24bf87b2e0212feecfb06419b2feb&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;推荐一款高颜值网易云播放器&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot; hasload=&quot;1&quot;&gt;推荐一款高颜值网易云播放器&lt;/a&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;3. &lt;/span&gt;&lt;/em&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzUxNjg4NDEzNA==&amp;amp;mid=2247500031&amp;amp;idx=1&amp;amp;sn=b4349fc85264c255bf9a22e1f25b035a&amp;amp;chksm=f9a21336ced59a20518444a3e2bddb584f6d02266e831546ee5c00935d01d5bd61ed86ab606f&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;基于 Spring Boot 的百度云高仿项目&lt;/a&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;4. &lt;/span&gt;&lt;/em&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzUxNjg4NDEzNA==&amp;amp;mid=2247498464&amp;amp;idx=1&amp;amp;sn=4f85123d6ca67578ca7bad8f7dc71453&amp;amp;chksm=f9a22929ced5a03ffded2c41fd257d3eb96be02195de3ca66a083177bf5f73e2f418728f7f06&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;盘点百度 4 个牛逼哄哄的开源项目&lt;/a&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;172&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;172&quot; data-ratio=&quot;1.005449591280654&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ePw3ZeGRruxW7LMX2Iz5DfjRIbFTS7UROhxibBmicicT0HpjIh1yniaJJibSnLFuicMHRx5NEdiaOh2OOACfr6MvR38ibQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;734&quot;/&gt;&lt;/section&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>a7e1338a7bf171b5e65a469b3a13716e</guid>
<title>系统重构数据同步利器之Canal实战篇</title>
<link>https://toutiao.io/k/kwfs5x7</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;一、背景&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;二话不说，先上图&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.5265625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/kulR6Bq67W81JicibHjCXy4ESzeuibZ0PYe2glzqEUCLBlArib8clqVLeAmoouicMl65g0Jvich6DicdLG5KYEQzjxuVg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;上图来自于官网(https://github.com/alibaba/canal)，基本上涵盖了目前生产环境使用场景了，众所周知，Canal做数据同步已经是行业内标杆了。我们生产环境也用Canal监听binlog数据变更，然后解析成对应数据发送到MQ(RocketMQ)。一些非主流程业务，异步场景消费MQ处理即可。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但是我这篇文章，主要想聊一聊在做系统重构时，新老系统数据双向同步时Canal的使用场景。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;注：关于系统重构的介绍我这里就不叙述了，大家可以看我之前写的系列文章:&lt;a href=&quot;https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzU5NTg1ODg2MQ==&amp;amp;action=getalbum&amp;amp;album_id=1338213964760694786&amp;amp;scene=173&amp;amp;from_msgid=2247483758&amp;amp;from_itemidx=1&amp;amp;count=3&amp;amp;nolastread=1#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;浅谈系统重构&lt;/a&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;二、关于双向同步&lt;/span&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;什么是双向同步？&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所谓双向同步，就是老系统数据库数据往新系统数据库同步，新系统数据库同时也往老系统数据库同步。从而保证新系统，老系统数据库数据完全一致。系统重构时如果上线出现问题，随时能切回原来老系统，这也为灰度方案提供了底层保障。&lt;/p&gt;&lt;ol start=&quot;2&quot; data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;一般同步如何做？各自优缺点是什么？&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;方案一: Dao层拦截方案&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;方案说明: 在Dao层打洞拦截所有写请求(insert,update,delete), 然后写入MQ队列，再通过消费MQ队列写入对应数据库。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;优点: 这种方案实现比较简单。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;缺点: 对于老系统数据库，可能有很多个服务在写入，如果从Dao层拦截，可能要修改很多地方，改动较大。&lt;/p&gt;&lt;h5 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;方案二: 利用Canal订阅解析Binlog&lt;/span&gt;&lt;/h5&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;方案说明: 利用Canal订阅Binlog，解析成数据，再写入到对应数据库(这里可以直接写入，也可以先写入MQ，再消费MQ写入，推荐后者)。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;优点：能够解决系统多处写入问题。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;缺点：引入新的组件Canal，复杂度增加。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;下面，我们就来实战操作一下方案二。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;三、环境准备(Centos系统为例)&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;1. 安装Mysql&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;wget https://dev.mysql.com/get/mysql80-community-release-el8-1.noarch.rpm&lt;br/&gt;yum install  mysql80-community-release-el8-1.noarch.rpm&lt;br/&gt;&lt;span&gt;&lt;br/&gt;#&lt;/span&gt;&lt;span&gt;禁用centos自带的mysql&lt;/span&gt;&lt;br/&gt;yum module disable mysql -y&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;安装&lt;/span&gt;&lt;br/&gt;yum install mysql-community-server -y&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;启动&lt;/span&gt;&lt;br/&gt;systemctl start mysqld&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;查看启动状态 提升 Active: active (running) 表示成功&lt;/span&gt;&lt;br/&gt;systemctl status mysqld&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;查看初始密码&lt;/span&gt;&lt;br/&gt;grep &#x27;temporary password&#x27; /var/log/mysqld.log&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;初始密码登录&lt;/span&gt;&lt;br/&gt;mysql -uroot -p&#x27;AXXXXX&#x27;  -hlocalhost -P3306&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;修改ROOT密码&lt;/span&gt;&lt;br/&gt;ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;BXXXXX&#x27;;&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;2、 环境部署&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;1)、查看当前mysql是否开启了binlog模式， 如果log_bin的值为OFF是未开启，为ON是已开启 。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;SHOW VARIABLES LIKE &#x27;%log_bin%&#x27;&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;2)、若未开启需要修改/ect/my.cnf 开启binlog模式&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;[mysqld]&lt;br/&gt;log-bin=mysql-bin&lt;br/&gt;binlog-format=ROW&lt;br/&gt;server_id=1&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;修改完之后重启mysql服务&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;3)、创建用户并且授权&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;create user canal@&#x27;%&#x27; IDENTIFIED by &#x27;XXXX&#x27;;&lt;br/&gt;GRANT SELECT, REPLICATION SLAVE, REPLICATION CLIENT,SUPER ON *.* TO &#x27;canal&#x27;@&#x27;%&#x27;;&lt;br/&gt;FLUSH PRIVILEGES;&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;3、 Canal服务端安装&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;1)、canal下载地址&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;wget https://github.com/alibaba/canal/releases/download/canal-1.1.4/canal.deployer-1.1.4.tar.gz&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;2)、解压到指定目录&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;mkdir  canal-server-1.1.4&lt;br/&gt;tar -zxf canal.deployer-1.1.4.tar.gz -C canal-server-1.1.4/&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;3)、修改配置文件
查看主库 binlog position&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;mysql&amp;gt;&lt;/span&gt;&lt;span&gt; show master status;&lt;/span&gt;&lt;br/&gt;+---------------+----------+--------------+------------------+-------------------+&lt;br/&gt;| File          | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |&lt;br/&gt;+---------------+----------+--------------+------------------+-------------------+&lt;br/&gt;| binlog.000002 |     4526 |              |                  |                   |&lt;br/&gt;+---------------+----------+--------------+------------------+-------------------+&lt;br/&gt;1 row in set (0.00 sec)&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;修改配置文件 conf/example/instance.properties&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; position info&lt;/span&gt;&lt;br/&gt;canal.instance.master.address={IP}:3306&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 这里对应上面的File&lt;/span&gt;&lt;br/&gt;canal.instance.master.journal.name=binlog.000002&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 这里对应上面的Position&lt;/span&gt;&lt;br/&gt;canal.instance.master.position=4526&lt;br/&gt;&lt;span&gt;&lt;br/&gt;#&lt;/span&gt;&lt;span&gt; username/password&lt;/span&gt;&lt;br/&gt;canal.instance.dbUsername=canal&lt;br/&gt;canal.instance.dbPassword=XXXX&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;4)、启动 canal-server&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;br/&gt;./bin/startup.sh&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt; 查看日志&lt;/span&gt;&lt;br/&gt;tail -f logs/example/example.log &lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;以上就完成了Canal-Server的单实例版本实现，生成环境集群环境一般是运维搭建，我们测试就用单实例版本。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;关于Canal的HA机制设计下面简单介绍下，生产环境推荐使用。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;canal的HA分为两部分，canal server和canal client分别有对应的HA实现&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.5464247598719317&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/kulR6Bq67W81JicibHjCXy4ESzeuibZ0PYe40ey67ofW9icJOSD6XZbP37iavOTaoDkSV9GPVTCavgYFNPo1yiaZGAlA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;937&quot;/&gt;&lt;/p&gt;&lt;figcaption&gt;&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;h5 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;canal server:&lt;span/&gt;&lt;/h5&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;为了减少对mysql dump的请求，不同server上的instance要求同一时间只能有一个处于running，其他的处于standby状态.&lt;/p&gt;&lt;h5 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;canal client:&lt;span/&gt;&lt;/h5&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;为了保证有序性，一份instance同一时间只能由一个canal client进行get/ack/rollback操作，否则客户端接收无法保证有序。整个HA机制的控制主要是依赖了zookeeper的几个特性，watcher和EPHEMERAL节点(和session生命周期绑定)，这里就不展开介绍了，有兴趣的同学可以看下官方wiki。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;四、演示环节&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;由于canal组件封装的代码太多，我花了几个晚上业余时间写的(请点个赞吧)，代码已经开源至gitee，有需要的同学可以clone下来看。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;gitee地址: https://gitee.com/bytearch/fast-cloud&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;目前已支持simple直连模式和zookeeper集群模式&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;下面演示canal-client-demo&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;新建库order_center ,并且创建表order_info&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;CREATE&lt;/span&gt; &lt;span&gt;TABLE&lt;/span&gt; &lt;span&gt;`order_info`&lt;/span&gt; (&lt;br/&gt;  &lt;span&gt;`order_id`&lt;/span&gt; &lt;span&gt;bigint&lt;/span&gt;(&lt;span&gt;20&lt;/span&gt;) &lt;span&gt;unsigned&lt;/span&gt; &lt;span&gt;NOT&lt;/span&gt; &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;  &lt;span&gt;`user_id`&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;(&lt;span&gt;11&lt;/span&gt;) &lt;span&gt;DEFAULT&lt;/span&gt; &lt;span&gt;&#x27;0&#x27;&lt;/span&gt; &lt;span&gt;COMMENT&lt;/span&gt; &lt;span&gt;&#x27;用户id&#x27;&lt;/span&gt;,&lt;br/&gt;  &lt;span&gt;`status`&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;(&lt;span&gt;11&lt;/span&gt;) &lt;span&gt;DEFAULT&lt;/span&gt; &lt;span&gt;&#x27;0&#x27;&lt;/span&gt; &lt;span&gt;COMMENT&lt;/span&gt; &lt;span&gt;&#x27;订单状态&#x27;&lt;/span&gt;,&lt;br/&gt;  &lt;span&gt;`booking_date`&lt;/span&gt; datetime &lt;span&gt;DEFAULT&lt;/span&gt; &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;  &lt;span&gt;`create_time`&lt;/span&gt; datetime &lt;span&gt;DEFAULT&lt;/span&gt; &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;  &lt;span&gt;`update_time`&lt;/span&gt; datetime &lt;span&gt;DEFAULT&lt;/span&gt; &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;  PRIMARY &lt;span&gt;KEY&lt;/span&gt; (&lt;span&gt;`order_id`&lt;/span&gt;),&lt;br/&gt;  &lt;span&gt;KEY&lt;/span&gt; &lt;span&gt;`idx_user_id`&lt;/span&gt; (&lt;span&gt;`user_id`&lt;/span&gt;),&lt;br/&gt;  &lt;span&gt;KEY&lt;/span&gt; &lt;span&gt;`idx_bdate`&lt;/span&gt; (&lt;span&gt;`booking_date`&lt;/span&gt;),&lt;br/&gt;  &lt;span&gt;KEY&lt;/span&gt; &lt;span&gt;`idx_ctime`&lt;/span&gt; (&lt;span&gt;`create_time`&lt;/span&gt;),&lt;br/&gt;  &lt;span&gt;KEY&lt;/span&gt; &lt;span&gt;`idx_utime`&lt;/span&gt; (&lt;span&gt;`update_time`&lt;/span&gt;)&lt;br/&gt;) &lt;span&gt;ENGINE&lt;/span&gt;=&lt;span&gt;InnoDB&lt;/span&gt; &lt;span&gt;DEFAULT&lt;/span&gt; &lt;span&gt;CHARSET&lt;/span&gt;=utf8;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;添加处理器handler&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;@CanalHandler&lt;/span&gt;(value = &lt;span&gt;&quot;orderInfoHandler&quot;&lt;/span&gt;, destination = &lt;span&gt;&quot;example&quot;&lt;/span&gt;, schema = {&lt;span&gt;&quot;order_center&quot;&lt;/span&gt;}, table = {&lt;span&gt;&quot;order_info&quot;&lt;/span&gt;}, eventType = {CanalEntry.EventType.UPDATE, CanalEntry.EventType.INSERT,CanalEntry.EventType.DELETE})&lt;br/&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;OrderHandler&lt;/span&gt; &lt;span&gt;implements&lt;/span&gt; &lt;span&gt;Handler&lt;/span&gt;&amp;lt;&lt;span&gt;CanalEntryBO&lt;/span&gt;&amp;gt; &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;boolean&lt;/span&gt; &lt;span&gt;beforeHandle&lt;/span&gt;&lt;span&gt;(CanalEntryBO canalEntryBO)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        &lt;span&gt;if&lt;/span&gt; (canalEntryBO == &lt;span&gt;null&lt;/span&gt;) {&lt;br/&gt;            &lt;span&gt;return&lt;/span&gt; &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;        }&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;    }&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;handle&lt;/span&gt;&lt;span&gt;(CanalEntryBO canalEntryBO)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        &lt;span&gt;//1. 更新后数据解析&lt;/span&gt;&lt;br/&gt;        OrderInfoDTO orderInfoDTO = CanalAnalysisUti.analysis(OrderInfoDTO&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;, &lt;span&gt;canalEntryBO&lt;/span&gt;.&lt;span&gt;getRowData&lt;/span&gt;().&lt;span&gt;getAfterColumnsList&lt;/span&gt;())&lt;/span&gt;;&lt;br/&gt;        System.out.println(&lt;span&gt;&quot;event:&quot;&lt;/span&gt; + canalEntryBO.getEventType());&lt;br/&gt;        System.out.println(orderInfoDTO);&lt;br/&gt;        &lt;span&gt;//2. 后续操作 TODO&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/li&gt;&lt;ol start=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;添加配置&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;canal:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;  clients:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;    simpleInstance:&lt;/span&gt;&lt;br/&gt;&lt;span&gt;      enable:&lt;/span&gt; &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;&lt;span&gt;      mode:&lt;/span&gt; simple&lt;br/&gt;&lt;span&gt;      servers:&lt;/span&gt; &lt;span&gt;XXXXX:&lt;/span&gt;&lt;span&gt;11111&lt;/span&gt;&lt;br/&gt;&lt;span&gt;      batchSize:&lt;/span&gt; &lt;span&gt;1000&lt;/span&gt;&lt;br/&gt;&lt;span&gt;      destination:&lt;/span&gt; example&lt;br/&gt;&lt;span&gt;      getMessageTimeOutMS:&lt;/span&gt; &lt;span&gt;500&lt;/span&gt;&lt;br/&gt;    #&lt;span&gt;zkInstance:&lt;/span&gt;&lt;br/&gt;    #   &lt;span&gt;enable:&lt;/span&gt; &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;    #   &lt;span&gt;mode:&lt;/span&gt; zookeeper&lt;br/&gt;    #   &lt;span&gt;servers:&lt;/span&gt; &lt;span&gt;172.30&lt;/span&gt;&lt;span&gt;.1&lt;/span&gt;&lt;span&gt;.6&lt;/span&gt;:&lt;span&gt;2181&lt;/span&gt;,&lt;span&gt;172.30&lt;/span&gt;&lt;span&gt;.1&lt;/span&gt;&lt;span&gt;.7&lt;/span&gt;:&lt;span&gt;2181&lt;/span&gt;,&lt;span&gt;172.30&lt;/span&gt;&lt;span&gt;.1&lt;/span&gt;&lt;span&gt;.8&lt;/span&gt;:&lt;span&gt;2181&lt;/span&gt;&lt;br/&gt;    #   &lt;span&gt;batchSize:&lt;/span&gt; &lt;span&gt;1000&lt;/span&gt;&lt;br/&gt;    #   #&lt;span&gt;filter:&lt;/span&gt; order_center.order_info&lt;br/&gt;    #   &lt;span&gt;destination:&lt;/span&gt; example&lt;br/&gt;    #   &lt;span&gt;getMessageTimeOutMS:&lt;/span&gt; &lt;span&gt;500&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;配置说明:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;CanalProperties&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;/**&lt;br/&gt;     * 是否开启 默认不开启&lt;br/&gt;     */&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;boolean&lt;/span&gt; enable = &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;    &lt;span&gt;/**&lt;br/&gt;     * 模式&lt;br/&gt;     * zookeeper: zk集群模式&lt;br/&gt;     * simple: 简单直连模式&lt;br/&gt;     */&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;private&lt;/span&gt; String mode = &lt;span&gt;&quot;simple&quot;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;/**&lt;br/&gt;     * canal-server地址 多个地址逗号隔开&lt;br/&gt;     */&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;private&lt;/span&gt; String servers;&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;/**&lt;br/&gt;     * canal-server 的destination&lt;br/&gt;     */&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;private&lt;/span&gt; String destination;&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;private&lt;/span&gt; String username = &lt;span&gt;&quot;&quot;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;private&lt;/span&gt; String password = &lt;span&gt;&quot;&quot;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; batchSize = &lt;span&gt;5&lt;/span&gt; * &lt;span&gt;1024&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;private&lt;/span&gt; String filter = StringUtils.EMPTY;&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;/**&lt;br/&gt;     * getMessage &amp;amp; handleMessage 的重试次数, 最后一次重试会ack, 之前的重试会rollback&lt;br/&gt;     */&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; retries = &lt;span&gt;3&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;/**&lt;br/&gt;     * getMessage &amp;amp; handleMessage 的重试间隔ms&lt;br/&gt;     * canal-client内部代码 的重试间隔ms&lt;br/&gt;     */&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; retryInterval = &lt;span&gt;3000&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;long&lt;/span&gt; getMessageTimeOutMS = &lt;span&gt;1000&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;ol start=&quot;3&quot; data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;测试insert和update操作&lt;/p&gt;&lt;pre&gt;&lt;code&gt;mysql&amp;gt; &lt;span&gt;insert&lt;/span&gt; &lt;span&gt;into&lt;/span&gt; order_info(order_id,user_id,&lt;span&gt;status&lt;/span&gt;,booking_date,create_time,update_time) &lt;span&gt;values&lt;/span&gt;(&lt;span&gt;6666666&lt;/span&gt;,&lt;span&gt;6&lt;/span&gt;,&lt;span&gt;10&lt;/span&gt;,&lt;span&gt;&quot;2022-02-19 00:00:00&quot;&lt;/span&gt;,&lt;span&gt;&quot;2022-02-19 00:00:00&quot;&lt;/span&gt;, &lt;span&gt;&quot;2022-02-19 00:00:00&quot;&lt;/span&gt;);&lt;br/&gt;Query OK, 1 row affected (0.00 sec)&lt;br/&gt;&lt;br/&gt;mysql&amp;gt; &lt;span&gt;update&lt;/span&gt; order_info &lt;span&gt;set&lt;/span&gt; &lt;span&gt;status&lt;/span&gt;=&lt;span&gt;20&lt;/span&gt; &lt;span&gt;where&lt;/span&gt; order_id=&lt;span&gt;66666&lt;/span&gt;;&lt;br/&gt;Query OK, 0 rows affected (0.00 sec)&lt;br/&gt;Rows matched: 0  Changed: 0  Warnings: 0&lt;br/&gt;&lt;br/&gt;mysql&amp;gt; &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;测试结果&lt;/p&gt;&lt;pre&gt;&lt;code&gt;2022-02-18 19:29:52.399  INFO 47706 --- [ lc-work-thread] c.b.s.canal.cycle.SimpleCanalLifeCycle   : &lt;br/&gt;****************************************************&lt;br/&gt;* Batch Id: [11] ,count : [3] , memsize : [189] , Time : 2022-02-18 19:29:52.399&lt;br/&gt;* Start : [binlog.000003:18893:1645183792000(2022-02-18 19:29:52.000)] &lt;br/&gt;* End : [binlog.000003:19123:1645183792000(2022-02-18 19:29:52.000)] &lt;br/&gt;****************************************************&lt;br/&gt;&lt;br/&gt;2022-02-18 19:29:52.405  INFO 47706 --- [ lc-work-thread] c.b.s.canal.cycle.SimpleCanalLifeCycle   : &lt;br/&gt;&lt;span&gt;----------------&amp;gt;&lt;/span&gt;&lt;span&gt; binlog[binlog.000003:19056] , name[order_center,order_info] , eventType : INSERT ,tableName : order_info, executeTime : 1645183792000 , delay : 400ms&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;event:INSERT&lt;br/&gt;OrderInfoDTO{orderId=6666666, userId=6, status=10, bookingDate=2022-02-19 00:00:00, createTime=2022-02-19 00:00:00, updateTime=2022-02-19 00:00:00}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;大功告成，到这一步就顺利完成了Canal订阅解析binlog步骤。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;五、数据同步注意事项&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;抛下两个问题大家可以思考下&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;数据双向同步时，如何解决数据回环问题？&lt;/p&gt;&lt;p&gt;例如新系统产生的数据，同步到老系统，不能又回流到新系统，如何解决？&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;数据顺序问题，如果写入到MQ，是否要保证顺序消费？如何实现？&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;当同步并发比较大，如何提高同步速度。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;温馨提示: 此专题未完，以上问题我将在下一篇文章《系统重构数据同步利器之Canal实战篇-续》实现，大家可以提前思考一下。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;六、 号外&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;欢迎大家关注”浅谈架构“ 公众号，不定期分享原创文章&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;有任何问题，欢迎私信我交流。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.36484375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/kulR6Bq67WicS8obXBjC9RqxibSJcgOsnicwSlKjFSxuEECwjZjYS8Y9zpmCdyv6z4yeSicSQSDNz2XUzRppBjuGXQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;figcaption&gt;&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>1692e0935152c2bb3aab490fbb17ed77</guid>
<title>B站基于Iceberg的湖仓一体架构实践</title>
<link>https://toutiao.io/k/cfss22w</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;p class=&quot;original_area_primary&quot;&gt;
                                                                                                &lt;/p&gt;

                    
                                            &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;section class=&quot;mp_profile_iframe_wrp&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzkwNzE5NDM5Nw==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/fp3oqPBibTAe2zagKvDricd3IMWC9fqQBKtDjjXJCHsgWQ8HuO7TUicEnveY3VsDYiajUiaACY0DPqfsia9RP8ypdWcQ/0?wx_fmt=png&quot; data-nickname=&quot;BAT大数据架构&quot; data-alias=&quot;&quot; data-signature=&quot;专注大数据、数据仓库、数据分析、数据科学，Hadoop、Spark、Flink、ClickHouse，BAT大厂技术与架构，还有我们的故事。&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;背景&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;在B站，每天都有PB级的数据注入到大数据平台，经过离线或实时的ETL建模后，提供给下游的分析、推荐及预测等场景使用。面对如此大规模的数据，如何高效低成本地满足下游数据的分析需求，一直是我们重点的工作方向。&lt;/section&gt;&lt;section&gt;我们之前的数据处理流程基本上是这样的：采集端将客户端埋点、服务端埋点、日志、业务数据库等数据收集到HDFS、Kafka等存储系统中，然后通过Hive、Spark、Flink等离线和实时引擎对数据进行ETL处理及数仓建模，数据存储使用ORC列式存储格式，用户可以通过Presto、Spark等引擎对数仓建模后的数据进行数据探索以及构建BI报表。对于大部分的数据服务和部分BI报表，Presto、Spark访问ORC格式数据可能无法满足用户对于查询响应时间的要求，这时需要将数据写入ClickHouse等这种专门的OLAP引擎或者进一步处理数据后写入HBase、Redis等KV存储系统中等方式解决。&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.3834355828220859&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Zp5qolPqxIzo4SUB1oJ0Q48rewBCia6AapdjBsU5iaicdgyBan6wHB52wml46yhvopGIOA0fGFWVVViapCfbypDq9g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1956&quot;/&gt;&lt;/p&gt;&lt;section&gt;当前的数据处理流程虽然在一定程度上可以满足目前的业务需求，但是整个流程的效率和成本都还有很大的提升空间，主要体现在：&lt;br/&gt;&lt;/section&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;为了提升查询效率，从Hive表出仓到ClickHouse、HBase、Redis、ElasticSearch、Mysql等外部系统中，需要额外的数据开发工作，额外的存储冗余，但同时拥有了更少的数据灵活性，复杂的组件支持增加了数据服务开发的成本，更长的数据处理流程也降低了稳定性和可靠性。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;对于未出仓的数据，用户无论是进行数据探索还是使用BI报表，都还受SQL on Hadoop本身性能所限，和用户期望的交互式响应有很大差距。&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;本文主要介绍为了应对以上挑战，我们在湖仓一体方向上的一些探索和实践。&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;为什么需要湖仓一体&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;在讨论这个问题前，我们可能首先要明确两个概念：什么是&lt;/span&gt;&lt;span&gt;&lt;strong&gt;数据湖&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;？什么是&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;数据仓库&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;？这两个概念在业界都有大量的讨论，每个人的说法也不尽相同，我们尝试总结如下，对于&lt;/span&gt;&lt;strong&gt;&lt;span&gt;数据湖&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;使用统一的分布式存储系统，可假设为无限容量。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;有统一的元数据管理系统。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;使用开放的数据存储格式。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;使用开放的数据处理引擎对数据进行加工和分析。&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;我们之前的大数据架构基本上是一个典型的数据湖架构，使用HDFS作为统一的存储系统，Hive metastore提供统一的Schema元数据管理，数据以CSV、JSON、&lt;span&gt;ORC等开放存储格式存储在HDFS上，用户可以使用SQL、DataSet、FileSystem等各个层次的API使用Hive、Spark、Presto、Python等框架或语言访问数据。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span/&gt;&lt;span&gt;数据湖架构的好处是有非常大的灵活性，结构化、半结构化、非结构化数据都可以放在数据湖中，用户可以使用任意合适的引擎对所有的数据进行灵活的数据探索，几乎没有任何限制，但是它也存在很大的缺陷，最主要的就是数据管理和查询效率的问题。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;对于&lt;strong&gt;&lt;span&gt;数据仓库&lt;/span&gt;&lt;/strong&gt;：&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;自定义的数据存储格式。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;自己管理数据的组织方式。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;强Schema数据，对外提供标准的SQL接口。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;具有高效的计算存储一体设计和丰富的查询加速特性。&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;数据仓库（OLAP引擎）对于数据的要求相对更加严格，以ClickHouse为例，必须是预先定义的强Schema数据通过JDBC写入ClickHouse中，ClickHouse使用自己的存储格式存储数据，并且会对数据文件进行排序或者文件合并之类的数据组织优化，对外提供SQL接口，不会暴露内部的数据文件，提供索引等高级的查询加速特性，内部的计算引擎和存储格式也会有很多的一体协同优化，一般认为专门的数据仓库查询效率会优于数据湖架构，在B站的实践上，大部分场景，像ClickHouse对比Spark、Presto也确实有量级上的性能提升。&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.35917901938426455&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Zp5qolPqxIzo4SUB1oJ0Q48rewBCia6AaQd9NBOwrFpFE0kcampWzrB9SM9gkvDf8Tchw5o0Okuk8bKuCSAvAiaQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1754&quot;/&gt;&lt;/p&gt;&lt;section&gt;在我们实际的数据处理场景中，除了AI和数据探索等场景，探索未知数据的未知问题，比较依赖数据湖架构的灵活性，其实大部分的场景是基于已知数据的，即我们的数据开发同学，实际上是基于Hive表的强Schema数据，进行从ODS，DWD，DWB到ADS等各个业务数仓的分层建设，本质上我们是主要是基于数据湖的架构进行业务数仓的建设，如何提升这部分场景的查询效率，使用成本和用户体验是我们在这方面工作的核心内容。&lt;br/&gt;&lt;/section&gt;&lt;section&gt;湖仓一体是近两年大数据一个非常热门的方向，如何在同一套技术架构上同时保持湖的灵活性和仓的高效性是其中的关键。常见的是两条技术路线：一条是从分布式数仓向湖仓一体演进，在分布式数仓中支持CSV、JSON、ORC、PARQUET等开放存储格式，将数据的处理流程从ETL转换为ELT，数据注入到分布式数仓后，在分布式数仓中进行业务数仓的建模工作，比如AWS RedShift及SnowFlake等；另外一条是从数据湖向湖仓一体演进，基于开放的查询引擎和新引入的开放表存储格式达到分布式数仓的处理效率，这方面闭源商业产品的代表是DataBricks SQL，他们基于兼容Spark API的闭源Photon内核和DeltaLake存储格式以及S3对象存储的湖仓一体架构，宣称在TPC-DS Benchmark上性能超过专门的云数据仓库SnowFlake。在开源社区领域，Iceberg、Hudi、DeltaLake等项目的出现也为在SQL on Hadoop的数据湖技术方案上实现湖仓一体提供了基础的技术储备。在B站，基于我们之前的技术栈和实际的业务场景，我们选择了第二个方向，从数据湖架构向湖仓一体演进。&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;B站的湖仓一体架构&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;对于B站的湖仓一体架构，我们想要解决的问题主要有两个：一是鉴于从Hive表出仓到外部系统（ClickHouse、HBase、ES等）带来的复杂性和存储开发等额外代价，尽量减少这种场景出仓的必要性。二是对于基于SQL on Hadoop的分析查询场景，提升查询效率，降低成本。我们基于Iceberg构建了我们的湖仓一体架构，在具体介绍B站的湖仓一体架构之前，我觉得有必要先讨论清楚两个问题，为什么Iceberg可以构建湖仓一体架构，以及我们为什么选择Iceberg？&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;1. 为什么基于Iceberg可以构建湖仓一体架构？&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;对比开放的SQL引擎、存储格式如：Presto、Spark、ORC、Parquet和分布式数仓如：ClickHouse、SnowFlake对应层的实现，其实差别不大，开源分布式引擎一直在逐渐补足SQL Runtime和存储层的一些影响性能的高级特性，比如Runtime CodeGen，向量化执行引擎，基于statistic的CBO，索引等等，当前两者最大的一个不同在于对于数据组织的管理能力。对于数据湖架构来说，数据文件在HDFS的分布组织是由写入任务决定的，而对于分布式数仓来说，数据一般是通过JDBC写入，数据的存储组织方式是由数仓本身决定的，所以数仓可以按照对于查询更加友好的方式组织数据的存储，比如对数据文件定期compact到合适的大小或者对数据进行合理排序和分组，对于大规模的数据来说，数据的优化组织可以大大提高查询的效率。Iceberg、Hudi、DeltaLake等新的表存储格式的出现，最主要的特性就是可以在HDFS上自组织管理表的metadata信息，从而提供了表数据的Snapshot及粗粒度的事务支持能力，基于此，我们可以在开放的查询引擎之外，异步地，透明地对Iceberg、Hudi、DeltaLake格式的数据进行重新的数据组织优化，从而达到了分布式数仓类似的效果。&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;2. 为什么选择Iceberg？&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;Iceberg、Hudi以及DeltaLake是基本同时期出现的开源表存储格式项目，整体的功能和定位也是基本相同，网上已经有很多相关对比介绍的文章，这里就不详细比较了，我们选择Iceberg的主要原因是：Iceberg在三个里面是表存储格式抽象的最好的，包括读写引擎、Table Schema、文件存储格式都是pluggable的，我们可以进行比较灵活的扩展，并保证和开源以及之前版本的兼容性，基于此我们也比较看好该项目的长远发展。&lt;/section&gt;&lt;section&gt;下图是我们整体的湖仓一体架构，支持开放的Spark、Flink等引擎从Kafka、HDFS接入数据，然后Magnus服务会异步地拉起Spark任务对Iceberg数据进行重新的存储组织优化，我们主要是用Trino作为查询引擎，并引入Alluxio做Iceberg的元数据和索引数据的缓存加速。&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.4533333333333333&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Zp5qolPqxIzo4SUB1oJ0Q48rewBCia6AaDzLHPtBzOMduVdHEI9DowC3pOEHkLyOrUdJ8ONJegJUJUdVPtBcsicw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2400&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;Magnus：Iceberg智能管理服务&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;Magnus是我们湖仓一体架构的核心组件，它负责管理优化所有的Iceberg表中的数据。Iceberg本身是一个表存储格式，虽然其项目本身提供了基于Spark、Flink等用于合并小文件，合并metadata文件或者清理过期Snapshot数据等Action Job，但是要依赖外部服务调度这些Action Job，而Magnus正是承担这个角色。我们对Iceberg进行了扩展，当Iceberg表发生更新的时候，会发送一个event信息到Magnus服务中，Magnus服务维护一个队列用于保存这些commit event信息，同时Magnus内部的Scheduler调度器会持续消费event队列，并根据对应Iceberg表的元数据信息及相关的策略决定是否及如何拉起Spark任务优化Iceberg表的数据组织。&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.4813519813519814&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Zp5qolPqxIzo4SUB1oJ0Q48rewBCia6Aae1joMxLarxXyZ4807ljVicbwLOukUqU9jjsxjIMpicPdbybdhQciakIZQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1716&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;strong&gt;Iceberg内核增强&lt;/strong&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;对于丰富的多维分析场景，我们也有针对性的在Iceberg内核和其他方面进行了定制化增强，这里简要介绍两个方面：Z-Order排序和索引。&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;Z-Order排序&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;Iceberg在表的metadata中记录了文件级别每个列的MinMax信息，并且支持小文件合并以及全局Linear排序(即Order By)，这两者配合起来，我们可以在很多查询场景实现非常好的DataSkiping效果，比如我们对于某个Iceberg表的数据文件按照字段a进行全局排序后，如果后续查询带有a的过滤条件，查询引擎会通过PredictePushDown把过滤条件下推到文件访问层，我们就可以根据MinMax索引把所有不需要的文件直接跳过，只访问数据所在的文件即可。&lt;/section&gt;&lt;section&gt;在多维分析的实际场景中，一般都会有多个常用的过滤字段，Linear Order只对靠前字段有较好的Data Skip效果，通常会采用将低基数字段作为靠前的排序字段，从而才能保证对于后面的排序字段在过滤时也有一定的Data Skipping效果，但这无法从根本上解决问题，需要引入一种新的排序机制，使得多个常用的过滤字段均能够获得比较好的Data Skipping效果。&lt;/section&gt;&lt;section&gt;Interleaved Order(即Z-Order)是在图像处理以及数仓中使用的一种排序方式，Z-ORDER曲线可以以一条无限长的一维曲线，穿过任意维度的所有空间，对于一条数据的多个排序字段，可以看作是数据的多个维度，多维数据本身是没有天然的顺序的，但是Z-Order通过一定规则将多维数据映射到一维数据上，构建z-value，从而可以基于一维数据进行排序，此外Z-Order的映射规则保证了按照一维数据排序后的数据同时根据多个排序字段聚集。&lt;/section&gt;&lt;section&gt;参考wikipedia中的Z-Order介绍，可以通过对两个数据比特位的交错填充来构建z-value，如下图所示，对于(x, y)两维数据，数据值 0 ≤ x ≤ 7, 0 ≤ y ≤ 7，构建的z-values以及z-order顺序如下：&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.985&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Zp5qolPqxIzo4SUB1oJ0Q48rewBCia6AaFGeKgUodnOQkiaFrUt1cfGknEEIBXw4OlBz7nu2nWC8q2stiaxVZbbsg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;400&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;可以看到，如果根据z-values的顺序对数据进行排序，并平均分为4个文件，无论我们在查询中使用x还是y字段过滤进行点查询，都可以skip一半的不相干文件，如果数据量更大，效果会更好，也就是说，基于Z-Order分区存储的文件，可以在多个字段上拥有比较好的Data Skipping效果。我们对Spark进行了增强，支持Z-Order Range Partitioner用于对Iceberg数据进行文件间的排序组织，扩展了Iceberg表的元信息，用户可以自定义期望的Iceberg表的Distribution信息，支持按照Hash、Range、Z-Order等方式进行文件间数据排序，以及对应的OptimizeAction用于拉起Spark任务，按照用户定义的Distribution信息对Iceberg表进行重组织。具体详情可查询参考文献[1]（&lt;span&gt;通过数据组织加速大规模数据分析&lt;/span&gt;）。&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;索引&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;Iceberg默认存储文件级别每列的Min、Max信息，并用于TableScan阶段的文件过滤，基本等价于分布式数仓中的MinMax索引，MinMax索引对于排序后的字段DataSkipping效果很好，但是对于非排序字段，数据随机散布于各个文件，使用该字段过滤时，MinMax索引基本很难有文件Skip的效果，BloomFilter索引在这种场景下可以更好地发挥作用，尤其是当字段基数较大的时候。布隆过滤器实际上是一个很长的二进制向量和多个Hash函数，数据通过多个函数映射到二进制向量的比特位上，布隆过滤器的空间效率和查询时间都非常高效，非常适合用于检索一个元素是否存在于一个集合中。&lt;/section&gt;&lt;section&gt;布隆过滤器的空间效率和查询时间都非常高效，但是在使用上也有局限之处，主要是它能够支持的过滤条件是有限的，只适用于：=、IN、NotNull等等值表达式，对于常见的Range过滤，比如&amp;gt;、&amp;gt;=、&amp;lt;、&amp;lt;=等是不支持的。为了支持更丰富的过滤表达式，我们引入了BitMap索引。BitMap也是一个非常常见的数据结构，将一组正整形数据映射到比特位，相比于BloomFilter，不存在Hash冲突的情况，所以不会出现False-Positive，但是一般需要更多的存储空间。对于高基数字段的BitMap索引，落地实现主要的问题在于：&lt;/section&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;需要存储字段基数对应个BitMap，存储代价太大。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;在Range过滤时，使用BitMap判断是否可以Skip文件时，需要访问大量BitMap，读取代价太大。&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;为了解决以上问题，我们引入了Bit-sliced Encoded Bitmap实现。具体详情可查询参考文献[2]（&lt;span&gt;通过索引加速湖仓一体分析&lt;/span&gt;）。&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;在B站的落地&lt;/strong&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;基于Iceberg的湖仓一体方案在B站的数据分析场景正逐渐落地，我们目前已经支撑PB级的数据量，每天响应几万个查询，其中P90的查询可以在1s内响应，满足了多个运营分析数据服务交互式分析的需求。接下来，我们希望能够将湖仓一体架构作为我们OLAP数仓建模的基础，统一大部分的业务数仓分析层数据的存储和查询，简化技术架构，提升查询效率，节省资源成本。&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;总结和展望&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;相比于传统的SQL on Hadoop技术栈，基于Iceberg的湖仓一体架构，在保证了和已有Hadoop技术栈的兼容性情况下，提供了接近分布式数仓的分析效率，兼顾了湖的灵活性和仓的高效性，从我们落地实践的经验看，对于用户基本透明，只是一种新的Hive表存储格式，没有更多使用和认知的门槛，和已有的大数据平台工具和服务也能非常小代价地集成。为了进一步提高在不同场景的查询效率和使用体验，我们还在以下方向对Iceberg进行进一步的增强：&lt;/section&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;星型模型的数据分布组织，支持按照维度表字段对事实表数据进行排序组织和索引。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;预计算，通过预计算对固定查询模式进行加速。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;智能化，自动采集用户查询历史，分析查询模式，自适应调整数据的排序组织和索引等。&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;后续的进展我们会持续更新，欢迎感兴趣的小伙伴来和我们一起交流沟通。&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;了解更多湖仓一体的内容，欢迎点击阅读：&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzkwNzE5NDM5Nw==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/fp3oqPBibTAe2zagKvDricd3IMWC9fqQBKtDjjXJCHsgWQ8HuO7TUicEnveY3VsDYiajUiaACY0DPqfsia9RP8ypdWcQ/0?wx_fmt=png&quot; data-nickname=&quot;BAT大数据架构&quot; data-alias=&quot;&quot; data-signature=&quot;专注大数据、数据仓库、数据分析、数据科学，Hadoop、Spark、Flink、ClickHouse，BAT大厂技术与架构，还有我们的故事。&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&amp;lt;END&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;大家都在看：&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-recommend-type=&quot;list-title&quot; data-recommend-tid=&quot;6&quot; data-mpa-template=&quot;t&quot; data-mid=&quot;&quot; data-from=&quot;yb-recommend&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;往期推荐&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247487317_1&quot; data-recommend-article-time=&quot;1644190620&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/fp3oqPBibTAcHCPKaJx9ARt0ngx214AwVesmpmfZLtvLqneXqYtnNJk0gv4xtyt64f7mLKicYuQYria9vhUibw79ng/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;详解数据仓库分层架构&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487317&amp;amp;idx=1&amp;amp;sn=6250f312bb68fb7357d8b38553787927&amp;amp;chksm=c0ddb627f7aa3f318605b9532665de31ea3a59867505120b13cb37da3839f12d49e2883bc6d7#rd&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487317&amp;amp;idx=1&amp;amp;sn=6250f312bb68fb7357d8b38553787927&amp;amp;chksm=c0ddb627f7aa3f318605b9532665de31ea3a59867505120b13cb37da3839f12d49e2883bc6d7&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;详解数据仓库分层架构&lt;/p&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247487278_1&quot; data-recommend-article-time=&quot;1643240220&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/fp3oqPBibTAdrGFzpq4Bxuh9uia2ay7Jziaicj3Y71gAibwvyNUlwicu3NicG6YibYOGbJVLPZoIfCvxlhxx6h6MkC1RVg/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;电商行业业务指标体系&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487278&amp;amp;idx=1&amp;amp;sn=47aeb2d1e650d870ef9014c9c21f23d0&amp;amp;chksm=c0ddb65cf7aa3f4ad525807dae0ef59d6591de073570bb0e6c7746af47b623d0866fc281eca6#rd&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487278&amp;amp;idx=1&amp;amp;sn=47aeb2d1e650d870ef9014c9c21f23d0&amp;amp;chksm=c0ddb65cf7aa3f4ad525807dae0ef59d6591de073570bb0e6c7746af47b623d0866fc281eca6&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;电商行业业务指标体系&lt;/p&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247487246_1&quot; data-recommend-article-time=&quot;1643067420&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/fp3oqPBibTAdrGFzpq4Bxuh9uia2ay7Jzia1uqXnrmtLZjuAuHTwCU6KjWO7WHtIAVxTpLnskOtEB6EP5kv8smmkw/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;数据分析知识图谱&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487246&amp;amp;idx=1&amp;amp;sn=32572625f8d11855d884af209ae4d92f&amp;amp;chksm=c0ddb67cf7aa3f6a624ef81c2d627ac72e1213a15be7de1af0392ca14bf5aa4b8369386faa6e#rd&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487246&amp;amp;idx=1&amp;amp;sn=32572625f8d11855d884af209ae4d92f&amp;amp;chksm=c0ddb67cf7aa3f6a624ef81c2d627ac72e1213a15be7de1af0392ca14bf5aa4b8369386faa6e&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;数据分析知识图谱&lt;/a&gt;导图&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247487385_1&quot; data-recommend-article-time=&quot;1645054620&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/fp3oqPBibTAcs54tPNEgtBSYv5r5wnmAs9kx5Jk3hIwicfYYPYIGg2kvtrvw49YTPACkMIM6FjlnqqibOOp0UZptg/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;元数据管理&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487385&amp;amp;idx=1&amp;amp;sn=6f9d088ef0be7b930761c01a0466afeb&amp;amp;chksm=c0ddb6ebf7aa3ffd66d0cb467323205932b48498d071bab85e213ff20a071fbf6569670df5b1#rd&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487385&amp;amp;idx=1&amp;amp;sn=6f9d088ef0be7b930761c01a0466afeb&amp;amp;chksm=c0ddb6ebf7aa3ffd66d0cb467323205932b48498d071bab85e213ff20a071fbf6569670df5b1&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;数据服务之元数据管理&lt;/p&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247487375_1&quot; data-recommend-article-time=&quot;1644881820&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/fp3oqPBibTAdV3WcUENfmXOSms2gEBt4xwFXDWKt06WTTy9ia69lIKn3WZNxAqcWicXOtg98fVw191xmHldibHk31A/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;指标管理与元数据管理平台&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487375&amp;amp;idx=1&amp;amp;sn=5dcd4ee7f208f1a40a5751a164ba7e36&amp;amp;chksm=c0ddb6fdf7aa3feb82f966d48c589b79dedf400e084dcf01cfa025daae9f3c8e21e5e9fd2e74#rd&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487375&amp;amp;idx=1&amp;amp;sn=5dcd4ee7f208f1a40a5751a164ba7e36&amp;amp;chksm=c0ddb6fdf7aa3feb82f966d48c589b79dedf400e084dcf01cfa025daae9f3c8e21e5e9fd2e74&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;指标与元数据管理平台&lt;/p&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247487112_1&quot; data-recommend-article-time=&quot;1641944220&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/fp3oqPBibTAfwIrlZgvaJeBmDiaa3icEib3zmoh2RyMyWsyaKianSbu6UYzh8wtkv7vz2WmpmRP2cfjribEgBY56SfEg/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;实时数仓项目架构分层&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487112&amp;amp;idx=1&amp;amp;sn=d57ffbe52e59ce585a154215d209e0ee&amp;amp;chksm=c0ddb7faf7aa3eec9a76cb43e7557331a1539cd9540f7212c6006bca71b70f4d4a2c4689b176#rd&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487112&amp;amp;idx=1&amp;amp;sn=d57ffbe52e59ce585a154215d209e0ee&amp;amp;chksm=c0ddb7faf7aa3eec9a76cb43e7557331a1539cd9540f7212c6006bca71b70f4d4a2c4689b176&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;实时数仓项目架构分层&lt;/p&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247487111_1&quot; data-recommend-article-time=&quot;1641857820&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/fp3oqPBibTAfwIrlZgvaJeBmDiaa3icEib3zLBYTcbc1HzmTabiafGiay0t3Tdibiat6MXFQAwmI06GTShbQdgZricf7SEw/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;贝壳数据治理中台实践&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487111&amp;amp;idx=1&amp;amp;sn=ed6dc95085559bc702cbf496feef38e1&amp;amp;chksm=c0ddb7f5f7aa3ee33b7b3251dc39eb22a5ea660626367b268ce11ff3acf945766506268ce453#rd&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487111&amp;amp;idx=1&amp;amp;sn=ed6dc95085559bc702cbf496feef38e1&amp;amp;chksm=c0ddb7f5f7aa3ee33b7b3251dc39eb22a5ea660626367b268ce11ff3acf945766506268ce453&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;贝壳数据治理中台实践&lt;/p&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247486776_1&quot; data-recommend-article-time=&quot;1640648220&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/nhlGsolibOWGPX7xbvJ7vXAB6kZfaKBjHfhB51VbKBIE7GIPzs9exoSPksSrBUDjtHel4X9dSRbmFicopMJYcmCQ/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;我在美团的八年&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247486776&amp;amp;idx=1&amp;amp;sn=28f577dff778c2e1504ee7e081d469b3&amp;amp;chksm=c0ddb44af7aa3d5caa4ea7464afa882203091bd5dfe07709d19f09bce42c326219f8643626d0#rd&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247486776&amp;amp;idx=1&amp;amp;sn=28f577dff778c2e1504ee7e081d469b3&amp;amp;chksm=c0ddb44af7aa3d5caa4ea7464afa882203091bd5dfe07709d19f09bce42c326219f8643626d0&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;我在美团的8年&lt;/p&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247487373_1&quot; data-recommend-article-time=&quot;1644449820&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/WXn1rTCjkJxlPYKcZyQVZy2j5s5icF3Gr791RiaxwrFOBSric1JUoib7nJoGjc87PSEDp6nTaMicTMPSG9WxQkFcE0w/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;在腾讯待了 9 年，还是离了职！&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487373&amp;amp;idx=1&amp;amp;sn=a9178ae2e0dad90eb3e6da2e9b456d6c&amp;amp;chksm=c0ddb6fff7aa3fe913366c78ec110f5a08bcb693aa52b5798274733403df8f0d65a03f4761e4#rd&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487373&amp;amp;idx=1&amp;amp;sn=a9178ae2e0dad90eb3e6da2e9b456d6c&amp;amp;chksm=c0ddb6fff7aa3fe913366c78ec110f5a08bcb693aa52b5798274733403df8f0d65a03f4761e4&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;在腾讯待的9年&lt;/p&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247486770_1&quot; data-recommend-article-time=&quot;1640302620&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/fp3oqPBibTAeDXFPqxtboKEWibfUvHbRZ8U8vqycrjwHI7ibX59oPh2nLbtl7oYd5vzI6WQhO80tuu5FWgV5XnBtw/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;聊一聊我眼中的阿里P8、P9及以上人的水平&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247486770&amp;amp;idx=1&amp;amp;sn=8dae336bd6f9d45cfd8934aba384226f&amp;amp;chksm=c0ddb440f7aa3d561bfd5024203f0c42d70b80de75fa309abc67b25e76ab1798a0fd9c87935e#rd&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247486770&amp;amp;idx=1&amp;amp;sn=8dae336bd6f9d45cfd8934aba384226f&amp;amp;chksm=c0ddb440f7aa3d561bfd5024203f0c42d70b80de75fa309abc67b25e76ab1798a0fd9c87935e&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;聊聊阿里P8、P9&lt;/p&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247487331_1&quot; data-recommend-article-time=&quot;1644277020&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/fp3oqPBibTAcHCPKaJx9ARt0ngx214AwVyCYLr2uBHVSSZiaPoPhIko0wFAsE0feUCmBRZGiaq8arxgn6YxO63bMQ/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;湖仓一体架构构建与平台应用实践（PPT）&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487331&amp;amp;idx=1&amp;amp;sn=46d6d60d3d9f4406e617d55e5c4ab344&amp;amp;chksm=c0ddb611f7aa3f07519fa7f27753273b9f1faec582bb3bf756f936ce3960b4cbbf0ef2776e64#rd&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487331&amp;amp;idx=1&amp;amp;sn=46d6d60d3d9f4406e617d55e5c4ab344&amp;amp;chksm=c0ddb611f7aa3f07519fa7f27753273b9f1faec582bb3bf756f936ce3960b4cbbf0ef2776e64&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;湖仓一体与平台应用实践（PPT）&lt;/p&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247487235_1&quot; data-recommend-article-time=&quot;1642981020&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/fp3oqPBibTAdrGFzpq4Bxuh9uia2ay7JziaEibWlUlAWkyJiaACvplYcv9MuxQluaViaRSdo8L6BDicoZLFuyeNgmAINA/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;数据仓库实施步骤与建模体系（PPT）&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487235&amp;amp;idx=1&amp;amp;sn=ea135ae7c55abdf79b1882c4b4ca45ae&amp;amp;chksm=c0ddb671f7aa3f67c45e52c90c0da5b07c60ca564e93cbde30b7e24eb3668b96dcdd7ddfe6eb#rd&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487235&amp;amp;idx=1&amp;amp;sn=ea135ae7c55abdf79b1882c4b4ca45ae&amp;amp;chksm=c0ddb671f7aa3f67c45e52c90c0da5b07c60ca564e93cbde30b7e24eb3668b96dcdd7ddfe6eb&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;数据仓库实施与建模体系（PPT）&lt;/p&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247487224_1&quot; data-recommend-article-time=&quot;1642721820&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/fp3oqPBibTAe1h904ceGcXVmVR0FjTMZ18RNiaAPibsdpcNjDTTmlzvdHn9TkItJ9MH7l9mm7Tj7ApwJr54xa74BQ/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;主数据管理方法论与实践（PPT）&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487224&amp;amp;idx=1&amp;amp;sn=d3f1aac37815d02ed5770d3c3dabb264&amp;amp;chksm=c0ddb78af7aa3e9c483c2372d9dac19b64cc4dcdc30075e8968392b59c95323d7f22c7ac2e05#rd&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487224&amp;amp;idx=1&amp;amp;sn=d3f1aac37815d02ed5770d3c3dabb264&amp;amp;chksm=c0ddb78af7aa3e9c483c2372d9dac19b64cc4dcdc30075e8968392b59c95323d7f22c7ac2e05&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;主数据管理方法论与实践（PPT）&lt;/p&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247487208_1&quot; data-recommend-article-time=&quot;1642635420&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/fp3oqPBibTAe1h904ceGcXVmVR0FjTMZ19cogK2ZibUEUiaRFBgw6CMsVAl2eicOxFic5dE6Uic3MUKEdz7CBPian79wQ/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;阿里大数据OneData体系架构（PPT）&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487208&amp;amp;idx=1&amp;amp;sn=133ba448d0fd9d62a1c2d8cef41f15fe&amp;amp;chksm=c0ddb79af7aa3e8cf633040a1de015247084c46522f7b4a2e0b031e5b5e6bf267b29570296d9#rd&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247487208&amp;amp;idx=1&amp;amp;sn=133ba448d0fd9d62a1c2d8cef41f15fe&amp;amp;chksm=c0ddb79af7aa3e8cf633040a1de015247084c46522f7b4a2e0b031e5b5e6bf267b29570296d9&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;大数据OneData体系架构（PPT）&lt;/p&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-title&quot; data-recomment-template-id=&quot;6&quot; data-recommend-article-id=&quot;2247486862_1&quot; data-recommend-article-time=&quot;1641339420&quot; data-recommend-article-cover=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/fp3oqPBibTAdLeU2ycRCskoqiasH9n7NlNATC3s0pWC2PUVG64Z5NM8RyPzDyibOpI2icGJZNGee3miaPOv9djzZDkw/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;主数据管理解决方案（PPT完整版）&quot; data-recommend-article-content-url=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247486862&amp;amp;idx=1&amp;amp;sn=761fce44946233b9d258f1aa3399f067&amp;amp;chksm=c0ddb4fcf7aa3deae32f9c21e310138a79a4b3a75f04ca799bae529ea3141a5afc5df4adc568#rd&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNzE5NDM5Nw==&amp;amp;mid=2247486862&amp;amp;idx=1&amp;amp;sn=761fce44946233b9d258f1aa3399f067&amp;amp;chksm=c0ddb4fcf7aa3deae32f9c21e310138a79a4b3a75f04ca799bae529ea3141a5afc5df4adc568&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;&lt;section data-recommend-title=&quot;t&quot; data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;主数据管理解决方案完整（PPT）&lt;/p&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.4255555555555556&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fp3oqPBibTAfwibwr4KTfAGVcicxIyZQFOTibOFaQpvHtNpxXD5IMytsGNvVU71ZmLz0UGsib9Tv1fE9IeiaxkBdtulQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;900&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>