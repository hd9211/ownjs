<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>8302f1e8d1647f7c03ec1197b16505e9</guid>
<title>Java 书单：比较全的一篇</title>
<link>https://toutiao.io/k/pp94s1f</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;前言&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;之前写过一篇，&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=Mzk0NTIyMTAzNw==&amp;amp;mid=2247483682&amp;amp;idx=1&amp;amp;sn=325fd45ab629755260e3110eeed8c700&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;Java核心书单&lt;/a&gt;，里面涵盖了几本主要的Java书籍；&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;后来有朋友反馈说，这几本太少了，没得选；&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以最近趁着有空，整理了一份稍微多点的，同时质量也比较高的书单；&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当然这肯定也是不全的，但是比之前的那一版会多那么一丢丢；&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;朋友们有其他想看的书，可以在【汤圆学Java】后台联系我们，有空的话会整理出来；还有IDEA激活码等资源等着你，欢迎来撩哈&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;下面所有的书籍都有对应的电子版，需要的可自取（解压密码后台回复【密码】即可获得）；&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.3436123348017621&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/v77AUzf8Eluy95MoPb2RgATGKZkjzx6fiaw4qOvNBYxaAJG4n9E8G8cfBGlVMGhiaWdRBXSoouPZCsT0hheBLPwA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1816&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;重要的是这个版本会持续更新&lt;/strong&gt;；&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;重要的是这个版本会持续更新&lt;/strong&gt;；&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;重要的是这个版本会持续更新&lt;/strong&gt;；&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;其实这些书大家去网上搜的话，也是能搜到的；&lt;/p&gt;&lt;p&gt;只是我这里做了一个整理，方便自己，也方便他人，不用去各个地方找来找去；&lt;/p&gt;&lt;p&gt;虽然不是很全，但是核心的都已经包含了，后续也会慢慢往上加，加油吧。&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;健康&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;《程序员健康指南》- 链接：https://pan.baidu.com/s/1hb8xQCE3TrEjazF5ZCe6-w ，提取码：h6fh&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;本书是为程序员量身制作的健康指南，针对头痛、眼部疲劳、背部疼痛和手腕疼痛等常见的问题，简要介绍了其成因、测试方法，并列出了每天的行动计划，从运动、饮食等方面给出详细指导，帮助程序员在不改变工作方式的情况下轻松拥有健康。&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;之所以把这个放到第一位，是因为许多健康问题都是知道的越早越好，这样才能更好地预防&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;Java 基础&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;注：图像界面部分可跳过&lt;/p&gt;&lt;/blockquote&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;《Head First Java（第二版）》- 链接：https://pan.baidu.com/s/17LNLb-1s_k9wR1kK__s1eQ ，提取码：v3ae&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《Java核心技术卷一（第十版）》- 链接：https://pan.baidu.com/s/1l-pDMOkR832ceA5q2CVZ7g ，提取码：v88g&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《Java编程思想（第四版）》 - 链接：https://pan.baidu.com/s/1NwOrkSadZuL64DH43_5rKA ，提取码：jgor&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;Java 进阶&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;偏实战，需要打好上面的基础&lt;/p&gt;&lt;/blockquote&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;《Java8实战》- 链接：https://pan.baidu.com/s/1P6RBXi5PzRm4zuKgUr14sg ，提取码：q3lo&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《Java 并发编程实战》- 链接：https://pan.baidu.com/s/1m6ts-HSu2SgFVRgJKKPl6Q ，提取码：i7nz&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《实战Java高并发程序设计（第2版） 》- 链接：https://pan.baidu.com/s/1tSPNtR1CNGea6gKfXnBklA ，提取码：dad3&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《Java性能权威指南》- 链接：https://pan.baidu.com/s/1OlHlJ4qyPHQe5QMB6qkLmw ，提取码：vwca&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《深入理解Java虚拟机：JVM高级特性与最佳实践（第3版）》- 链接：https://pan.baidu.com/s/1ZQi72jiqQzHlFhdkMqJtXg ，提取码：h7n7&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;Java 优化&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;下面主要讲解了Java开发常见的一些规范，使代码更加整洁高效&lt;/p&gt;&lt;/blockquote&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;《码出高效：Java开发手册》- 链接：https://pan.baidu.com/s/19sttAcC01G0wg1nqkfmprA ，提取码：zemp&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《Effective Java（第三版）》- 链接：https://pan.baidu.com/s/1RDaiVNViHvTVVunMkpFecg ，提取码：m9qe&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《嵩山版 Java 开发手册》- 链接：https://pan.baidu.com/s/1Rgh5tA_yPE-nV9MjPE572w ，提取码：62iw&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《代码整洁之道》&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《程序员修炼之道 从小工到专家》- 链接：https://pan.baidu.com/s/1lVoRCEr9NJR2I5rPneXK0g ，提取码：fxwe&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;计算机&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;《TCP-IP详解(卷一、二、三)》- 链接：https://pan.baidu.com/s/1D7luuYvEfTjaC7bh8Tm1Hg ，提取码：pmcj&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《深入理解计算机系统（原书第3版）》- 链接：https://pan.baidu.com/s/15F6MOyryXUI_l7DLoNbgiA ，提取码：7x0u&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;算法&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;《算法图解》- 链接：https://pan.baidu.com/s/1qbJAJbLInXo-rlPBGLOFUA ，提取码：k9nj&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《算法珠玑(Java版)》- 链接：https://pan.baidu.com/s/1EQj2sQk1Ys-EU8mwHho_MA ，提取码：7fxt&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《Leetcode 前 300 题算法题解析（Java）》- 链接：https://pan.baidu.com/s/1BGuMZW2ec4P_cyiv6sicww ，提取码：2jty&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;设计模式&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;《Head First 设计模式》- 链接：https://pan.baidu.com/s/1rxH5Ll38VpHl_j6ts6Q-oQ ，提取码：z6xg&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《Design-Pattern包教不包会(设计模式包教不包会)》- 链接：https://pan.baidu.com/s/1SDIsamZCv7JKY1zTuNLKtg ，提取码：81ci&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《设计模式 Java版本》- 链接：https://pan.baidu.com/s/1ikneBCgvAoIk5A-M6snIPg ，提取码：7b98&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《设计模式：可复用面向对象软件的基础》- 链接：https://pan.baidu.com/s/1CPJUAJp_oryQnKxWCbn8tA ，提取码：7qti&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;Spring 全家桶&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;《Spring实战（第4版）》- 链接：https://pan.baidu.com/s/1CC1mAD4kZ57SmQRA8NEDXg ，提取码：ei6v&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《Spring Boot实战 》- 链接：https://pan.baidu.com/s/1QPfW43uN1uTJnsdKzUBDog ，提取码：aukv&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《Spring Boot 2企业应用实战》- 链接：https://pan.baidu.com/s/1s31xMCJ3WIjN2Koc-hSlyg ，提取码：3apd&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《JavaEE开发的颠覆者 Spring Boot实战》- 链接：https://pan.baidu.com/s/1TOmImwqszUDYmXc9uALaWg ，提取码：blpp&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《SpringBoot实战系列》- 链接：https://pan.baidu.com/s/1PPvY5goAI8L3SChfYSaAiw ，提取码：j26w&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;Maven 依赖管理&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;《Maven实战 高清》- 链接：https://pan.baidu.com/s/1MUZOKKjv5F7XY32aUIDaog ，提取码：xj6w&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;MySQL 数据库&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;《MySQL技术内幕（第5版）》- 链接：https://pan.baidu.com/s/1Dv6HXvhmyiGA2Gsn7NBo3w ，提取码：d7pj&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《MySQL技术内幕：InnoDB存储引擎（第2版）》- 链接：https://pan.baidu.com/s/1-dRbRaERiEJGIg3tgg00_A ，提取码：t4rh&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《高性能MySQL（第3版）》- 链接：https://pan.baidu.com/s/1yjHTlNcJLTaXjUAv2al0HA ，提取码：v037&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《Effective MySQL之SQL语句最优化》- 链接：https://pan.baidu.com/s/1IVWZw_JfL8y0KQ290gHT6w ，提取码：cbiy&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《SQL反模式》- 链接：https://pan.baidu.com/s/1C_jnScaSBw72ET_Qkh5phQ ，提取码：qspw&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《深入MySQL实战》- 链接：https://pan.baidu.com/s/14IP44JpJruedpOilLTiUog ，提取码：ejia&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《mybatis-plus 实践及架构原理》- 链接：https://pan.baidu.com/s/1bBVCVy6_YRM0aMeNOAveww ，提取码：joex&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;Redis 数据库&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;《redis设计与实现(第二版)》- 链接：https://pan.baidu.com/s/19mtOtYKLFWoY9fpP4v7MsA ，提取码：7cmx&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《Redis深度历险：核心原理和应用实践》- 链接：https://pan.baidu.com/s/1tVTucPsmwY2M5HJSNvhpCg ，提取码：oyiy&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;RabbitMQ 消息队列&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;《RabbitMQ实战 高效部署分布式消息队列》- 链接：https://pan.baidu.com/s/11btAl5txQLPd6DcT3hX0FA ，提取码：lmz5&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《深入RabbitMQ》- 链接：https://pan.baidu.com/s/1F4iCPSJGhBBQzaebC_E_BA ，提取码：nhp0&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;架构&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;《架构探险：从零开始写分布式服务框架》- 链接：https://pan.baidu.com/s/1_Eo4pqAekHVyBlJ7EIayZA ，提取码：lc2t&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;《大型网站技术架构 核心原理与案例分析》- 链接：https://pan.baidu.com/s/1zt4Ee4sUnO4H654ZeuRxTg ，提取码：w1rb&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;声明&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;上面的所有书籍-电子版，都是从网络上整理来的，并非原创，如果有侵权，可以联系我们马上删除&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;联系方式：公众号【汤圆学Java】&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>224beff758a1b0002a8cfaf8c7b806fa</guid>
<title>性能测试基础知识体系</title>
<link>https://toutiao.io/k/f3btssh</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;h2&gt;&lt;strong&gt;前言&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;谈起性能测试，大家经常聊的是高并发、高可用、性能优化、全链路压测等Topic，听起来都挺高大上，但这些概念追本溯源，还是要落到性能测试基础的东西上。比如需求分析、场景建模、测试方案、性能分层、指标监控、结果评估和优化本身上面。在上家公司离职前一天，我给测试同学做了一场性能测试基础知识分享和全链路压测演进的分享，这篇文章，整理了基础部分的一些知识和我自己的思考，供大家参考。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;&lt;strong&gt;思维导图&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;img data-ratio=&quot;0.930323846908734&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ftksfIbzTWgeIY89VXIxEl43yPvdzXUwYJXsKre64SAhl94kNLW7zFEUWsb1vSSjsVe3TbL7Qp6Tq8myKAo9TA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1019&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;&lt;strong&gt;知识体系&lt;/strong&gt;&lt;/h2&gt;&lt;h4&gt;&lt;strong&gt;基础指标&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;简单来说，性能测试实际上主要关注如下三点：&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;速度&lt;/strong&gt;：TPS、RT ；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;容量&lt;/strong&gt;：吞吐量、PV、Hit；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;资源&lt;/strong&gt;：CPU、Memory、DiskIO、Network、文件句柄数；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;h4&gt;&lt;strong&gt;性能分层&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;性能测试领域，要在评估调研阶段就考虑性能分层的影响。在性能分析和优化阶段，也要考虑不同层级对整体性能的影响。我将它们分为如下六层：&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;网络层&lt;/strong&gt;：主要指带宽、网段、防火墙等设施，当然，CND之类的资源，也可以划分在这一领域；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;网关层&lt;/strong&gt;：网关是请求入口和业务接入层，一般登录验签调用、加解密鉴权、限流等操作，都是在网关进行；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;应用层&lt;/strong&gt;：无论是前端的渲染展示还是后端的逻辑处理，都可以理解为应用层；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;中间件&lt;/strong&gt;：中间件包含缓存、MQ、JOB、DTS/DRC/DAL、配置中心等一系列组件；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;5&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;存储层&lt;/strong&gt;：一般指数据存储和文件存储层级，典型的组件有MySQL、HDFS；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;物理层&lt;/strong&gt;：无论是云服务还是自建机房，物理硬件层面都可以归纳到这一层；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;h4&gt;&lt;strong&gt;需求调研&lt;/strong&gt; &lt;/h4&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;项目背景&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;版本迭代&amp;amp;独立项目&amp;amp;新建服务&amp;amp;系统重构&amp;amp;性能优化；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;测试目的&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;超卖&amp;amp;高并发&amp;amp;扩容性&amp;amp;配置验证&amp;amp;资源耗用；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;系统架构&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;技术架构：服务间的依赖关系，包含缓存，MQ等信息；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;网络拓扑：请求-域名-SLB/HA/Nginx-web-app-DB以及外部依赖&lt;/span&gt;；&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;4&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;场景模型&lt;/strong&gt; &lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;业务场景：业务场景的多样性和特殊性以及对脚本开发联调&amp;amp;数据预埋的影响；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;业务模型：只读、读写、批处理、定时Job；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;业务配比：被测场景占总体场景的业务量占比（公式：被测场景/总业务量*100%）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;选取业务峰值的数据，单独统计；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;如果各业务占比类似，则按照比例转化；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;如果比例差距大，则按照区间单独统计分析；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;5&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;环境配置&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;PRE&amp;amp;PERF、app&amp;amp;Redis&amp;amp;MQ&amp;amp;DB&amp;amp;网络&amp;amp;网段&amp;amp;&amp;amp;带宽&amp;amp;防火墙，是否独享资源隔离等；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;6&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;性能指标&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;业务指标：DAU、GMV、注册用户数、在线用户数、活跃用户数、增长趋势等；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;系统指标：协议类型、长短链接、同步策略、加解密、JVM内存分配、容器线程数&amp;amp;连接数&amp;amp;Timeout、MQ-Cousumer数量；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;压测指标：QPS、TPS、ART、99%RT、Success%；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;7&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;数据类型&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;数据铺底量；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;是否有敏感数据需脱敏；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;限制条件(时间&amp;amp;次数&amp;amp;权限)；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;自增、唯一、UUID、加解密、幂等；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;8&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;关键时间&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;提测时间、验收时间、上线时间；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;h4&gt;&lt;strong&gt;模型场景&lt;/strong&gt;&lt;/h4&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;业务模型&lt;/strong&gt;：业务场景、流量转化漏斗；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;测试模型&lt;/strong&gt;：关注核心场景，过滤无关及非核心业务；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;场景模型&lt;/strong&gt;：从系统架构设计层面出发，关注不同层面，提升性能！&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;基准：单机单服务单接口；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;并发：设定阈值，观察水位；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;容量：阶梯式加压、性能拐点、资源瓶颈；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;异常：容错处理、监控告警、容灾恢复演练；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;稳定性：长期稳定正确提供服务的能力，可用性SLA；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;h4&gt;&lt;strong&gt;测试方案&lt;/strong&gt;&lt;/h4&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;项目背景&lt;/strong&gt;：说明项目开展的背景及目的；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;测试方案&lt;/strong&gt;：针对项目涉及的场景，测试实施的大体方案；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;实施准则&lt;/strong&gt;：任何项目，都要有准入准出和暂停中止准则；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;性能模型&lt;/strong&gt;：针对具体的场景，设计的性能模型最好经过评估验证；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;5&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;测试策略&lt;/strong&gt;：针对测试模型所采用的不同的测试策略，同步的测试策略要达成什么样的目的；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;性能指标&lt;/strong&gt;：业务指标是多少？转化的技术指标是多少？冗余范围有多大？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;7&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;准备工作&lt;/strong&gt;：其中包含环境、数据、脚本、监控等准备事项；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;组织结构&lt;/strong&gt;：整个项目中涉及哪些事项？不同事项的负责人是谁？交付时间是什么时候？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;h4&gt;&lt;strong&gt;结果评估&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;在性能测试实施过程中，准确定义和描述性能测试结果，及针对不同结果进行模型分析，是很重要的一项能力。&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;性能实施方法论&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;基于指标构建；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;建模是分析的过程和结果；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;基于真实环境的系统模拟；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;压测实施过程是整体的核心；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;需要设定统一的目标、流程、分析方法、组织结构；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;正确描述性能结果和过程的术语&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;瓶颈描述：什么&lt;strong&gt;场景&lt;/strong&gt;执行了什么&lt;strong&gt;策略/操作&lt;/strong&gt;，因为什么原因导致了什么&lt;strong&gt;结果&lt;/strong&gt;；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;解决方案：优化了哪里？验证的方式及结果？是否满足预期&amp;amp;是否解决了发现的问题？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;性能分析层级&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;业务分级：业务-场景-数据-架构-参数；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;技术分级：引擎-网络-应用-中间件-数据库；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;工具：关注指标，从结果反推过程；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;配置：线程、连接数、Timeout、长短链接、同步异步、路由转发；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;应用：日志、硬件配置、资源使用率；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;中间件：Job、缓存命中、消息堆积、Consumer配置；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;数据库：资源耗用、库表结构、表锁行锁、活跃连接数、最大连接数；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;4&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;性能拐点&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;TPS增长放缓，RT快速上升；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;5&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;性能交叉点&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;模型上的TPS和RT交叉节点；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;6&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;性能平衡点&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;重点关注业务可接受的最大RT；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;7&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;性能衰减点&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;timeout参数&amp;amp;TPS急剧恶化抖降&amp;amp;RT快速飙升；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;h4&gt;&lt;strong&gt;脚本设计&lt;/strong&gt; &lt;/h4&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;什么时候需要做脚本关联？&lt;/strong&gt; &lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;服务端结果动态返回，非幂等；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;response body的参数需要向下透传；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;如何理解并发和事务的区别？&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;并发指的是同一时刻服务端接收到的请求数，而非压测引擎的并发线程/RPS；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;thinktime怎么用？&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;它有什么效果？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;是否存在真实的业务场景？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;是否影响整体的压测场景和服务资源？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;4&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;主要关注哪些指标？&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;并发数、TPS、ART、99%RT、CPU%、Memory%、systemLoad%；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p/&gt;&lt;h4&gt;&lt;strong&gt;典型特例&lt;/strong&gt;&lt;/h4&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;文件存储优化&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;原理：文件/图片存储在源节点，利用CDN缓存各种变更和路径。CDN未命中，回源节点处理并返回，同时同步最新的变更和路径到CDN。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;优点：节省存储成本，提高查询展示渲染性能，灵活满足业务。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;注意事项：大文件分块存储，避免局部过热导致单机磁盘IO过载，分块有助于整体系统资源调度。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;秒杀超卖场景&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;适用场景：秒杀、限时抢购、限量抢购等。&lt;/span&gt;&lt;/p&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;单用户单端多次抢购；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;单用户单端限量抢购；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;单用户多端抢购→低并发；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;单用户多端抢购→高并发；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>9681d5113892e2bc7e5badfcf6a9d9be</guid>
<title>关于分布式事务的理解</title>
<link>https://toutiao.io/k/rej9y2m</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;文章目录：&lt;/strong&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;业务场景&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;什么是事务？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;什么是分布式事务？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;分布式理论&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;解决方案&lt;/p&gt;&lt;/li&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;2PC(两阶段提交协议)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;3PC(三阶段提交协议)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;TCC&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;本地消息表&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;RocketMQ 事务消息&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;小结&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;业务场景&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;电商业务&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;415&quot; data-backw=&quot;558&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7435897435897436&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/go9jpG3BuhSicnpicn59dDtibyCkEYjl8kFGibfrKlju6bASkjocu56fhYqiaHDib2jTH99b1NyeQia0XT8mthaib3lEMA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;936&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;上图是一个电商系统，当一个订单支付完成后的业务场景：&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;更改订单的状态为 “已支付”&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;扣减商品库存&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;给会员增加积分&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;创建出库单通知仓库发货&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;想象一下，当订单支付完成后，个人积分延迟几分钟变更，&lt;span&gt;这可以接受吗？&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;火车票购票&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;想想生活中火车票购票场景。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;想象一下，当最后一张火车票同时被两个人购买，去检票口检票时被告知车票无效，&lt;span&gt;这可以接受吗？&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;银行转账&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;想想生活中银行转账场景。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;想象一下，当银行转账时，转账成功后，自己账户金额减少了，对方账户却一直未进账，&lt;span&gt;这可以接受吗？&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;关于上述的三种业务需求场景，你是怎么理解和处理的？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在处理上述问题之前，咱们先来理解以下几个概念。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;什么是事务？&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;事务是指作为单个逻辑工作单元执行的一系列操作，要么完全地执行，要么完全地不执行。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;数据库事务大家肯定都很熟悉，在开发过程中会经常使用到。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;事务的特性&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Atomicity(原子性)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Consistency(一致性)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Isolation(隔离性)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Durability(持久性)&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;原子性&lt;/strong&gt; 是指事务中的操作要么都不做，要么就全做。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;一致性&lt;/strong&gt; 是指事务必须是使数据库从一个一致性状态变到另一个一致性状态。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;隔离性&lt;/strong&gt; 是指一个事务的执行不能被其他事务干扰。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;持久性&lt;/strong&gt; 是指一个事务一旦提交，它对数据库中数据的改变就应该是永久性的。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;什么是分布式事务？&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;分布式事务是指一次大的操作由不同的小操作组成的，而这些小的操作分布在不同的服务器上，分布式事务需要保证这些小操作要么完全地执行，要么完成地不执行。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;产生分布式事务的原因&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;业务的微服务化，例如：文章开头所描述的电商业务场景。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;数据库分库分表，例如：当发生数据库分库分表后，有一个需求既要操作 01 库，又要操作 02 库。&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;分布式理论&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;CAP 理论&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Consistency(一致性)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Availability(可用性)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Partition tolerance(分区容错性)&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;一致性&lt;/strong&gt; 是指数据的强一致性，如果在某个节点更新了数据，那么在其他节点需要同时看到更新后的数据。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;可用性&lt;/strong&gt; 是指每个请求都能在合理的时间内获得符合预期的响应结果。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;分区容错性&lt;/strong&gt; 是指遇到任何网络分区故障的时候，系统仍然能够正常提供服务，除非是整个网络环境都发生了故障。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;525&quot; data-backw=&quot;558&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.9415807560137457&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/go9jpG3BuhSicnpicn59dDtibyCkEYjl8kFFkcia30zHYakLIWguMM1fMA7gqicfz6TDOP1EOZQxGCt0DKTINnS71hQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;582&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;CAP&lt;/code&gt; 理论认为一个分布式系统最多只能同时满足其中的两项。由于分区容错性是必然存在的，所以大部分分布式软件系统都在 CP 和 AP 中做取舍。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;例如：&lt;code&gt;Zookeeper&lt;/code&gt; 采用 CP 一致性，强调一致性，弱化可用性，&lt;code&gt;Eureka&lt;/code&gt; 采用 AP 可用性，强调可用性，弱化一致性。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;BASE 理论&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Basically Available(基本可用)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Soft state(软状态)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Eventually consistent(最终一致性)&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;基本可用&lt;/strong&gt; 是指不追求强可用性，而且强调系统基本能够一直运行对外提供服务。当分布式系统遇到不可预估的故障时，允许一定程度上的不可用，比如：对请求进行限流排队，对非核心服务进行降级。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;软状态&lt;/strong&gt; 是指允许系统中的数据存在中间状态，而不是事务的原子性：要么全部成功，要不全部不成功。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;最终一致性&lt;/strong&gt; 是指数据不可能一直都是软状态，必须在一个时间期限之后达到各个节点的一致性，在此之后，所有的节点的数据都是一致的，系统达到最终一致性。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;BASE&lt;/code&gt; 理论的核心思想是：&lt;span&gt;即使无法做到强一致性，但每个应用都可以根据自身业务特点，采用适当的方式来使系统达到最终一致性。&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;解决方案&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;2PC(两阶段提交协议)&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;3PC(三阶段提交协议)&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;TCC&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;本地消息表&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;RocketMQ 事务消息&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;小结&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;本文纯属抛砖引玉，有问题，欢迎批评指正。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;关于分布式事务的可落地方案，我会在后续文章中进行介绍。&lt;/p&gt;&lt;/section&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MjM5NDM4MDIwNw==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/go9jpG3BuhQHrM0sshKxdaibyDNjXooZvnwwy0yRjdhlXrtVUkJSvQib4Ppwib1v5HucaRc8WPtgvhPBicMeiadAv9Q/0?wx_fmt=png&quot; data-nickname=&quot;新亮笔记&quot; data-alias=&quot;XinLiangTalk&quot; data-signature=&quot;程序猿的打怪升级之路。&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;318&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5493333333333333&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/go9jpG3BuhSP7wibS4BHtlu4hduFYq8VbSAgRic8ib6hdd6qTRGxYSic7UFF9yPyGd4pGUw1XicibFRlGHBe9RJ09Smw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;750&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_reward_qrcode&quot;&gt;
                                &lt;p class=&quot;tips_global&quot;&gt;Long-press QR code to transfer me a reward&lt;/p&gt;
                                                                &lt;p class=&quot;reward_tips&quot;/&gt;
                                &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; id=&quot;js_reward_qrcode_img&quot;/&gt;&lt;/span&gt;
                                &lt;p class=&quot;tips_global&quot;&gt;As required by Apple&#x27;s new policy, the Reward feature has been disabled on Weixin for iOS. You can still reward an Official Account by transferring money via QR code.&lt;/p&gt;
                            &lt;/div&gt;
                                                                            
                              
            &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>10c87345e68d8f062bf076a7d9bc8bb9</guid>
<title>工作多年，分享 16 条职场经验给新人朋友</title>
<link>https://toutiao.io/k/qps3yh2</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.33184855233853006&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Z2bVaFK6CgRgzIV2YTLYP1C9K6m6ZesXIGMic8cBk5es1ZicMDfULrExGEw49a51icWhlYkA1pXmib62xNNUDrMgXA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;898&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;67&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;&lt;span&gt;我是张张，大厂架构师，CSDN博客专家，点击上方“关注”，坚持每天为你分享技术干货，私信我回复“01”，送你一份程序员成长进阶大礼包。&lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;hello，大家好，我是张张，「架构精进之路」公号作者。&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;时间过得好快，转眼间已经在互联网行业，走过了十年研发风雨路，工作多年后，有一些道理迫不及待的需要告诉初入职场的新人朋友们，在此跟大家一起聊聊！&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.6679946879150066&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Z2bVaFK6CgSln2LlsgNDCic05qHo6Xcs7Zoy0T9WxVvp1LLdoKEicvVkO1Kl2iaPxq5p5WlgoY30KiaWR6lsn8icGicg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;753&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1、工作多年才明白，读书，真的是普通孩子的最快出路&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;我相信很多人如果能回到过去，一定会下定决心好好努力，拼命读，往死里读。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2、工作中取得的成绩，最好让领导都知道&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;主动汇报实时任务和成绩，不是为了邀功，而是为了让领导明白，你一直在付出，让他有掌控感。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;3、养成整理备份的习惯&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;可能很多同学会觉得多此一举，但实际上很多文件资料的丢失就是源于我们对整理备份的忽视。黛西以前就试过，会议开始前，ppt有个数据资料不见了，也没有备份，一时间也无法找到，愣是对着空白的ppt讲完了，结果我就不多说了，伤心~&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4、评价别人是最蠢的行为&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;不要试图改变身边的人，就算你操碎了心人也是不可能被改变的。评价别人前先看看自己有没有资格，评价同事之前要先看看自己的段位&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;5、在同事面前，学会藏好抱怨和吐槽&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;心里再有委屈，再讨厌某个人，都不要说出来。如果真的无法忍受，说明这份工作的环境不适合你，趁早离开才是最好的选择。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;6、职场里没有人可以单打独斗&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;想要获得领导的认可，你需要融入或带领一个团队，而不是单纯成为团队的个体。努力一点，你也可以，加油~&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;7、善于用工具提升效率&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;例如批量文件改名，批量制作文档。总之能批量就批量，能模板就模板，解放人类的生产力，工具是你提升效率的帮手，但不是你偷懒的手段。做事前追求完美是拖延的表现，做事后不追求完美是懒惰的表现，工作加班是你拖延的表现，不加班是你懒惰的表现。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;8、坚持每日的复盘，可以让你获得快速成长&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;每天在睡前，都会在手机上记录当天遇到的问题，第二天就把它解决，长久下来，产生的问题变得越来越少。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;9、学会接受职场的不公&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;聪明的人不会抱怨公平问题，他会厚积薄发，找出无法上升的原因，等到合适机会，一举打破困局。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;10、事情没完成之前，别着急把预想的结果公布出来&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;万一结果与预想有偏差，不仅领导会给你贴上不靠谱的标签，还会降低对你完成任务的期待。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;最好的方式就是，事情完成，出了结果再公布，这样会给人惊讶，还会让人相信你能干大事，获得认可。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;11、凡事提前5分钟，给自己留点准备时间&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;开会提前5分钟准备，上班提前5分钟到岗，凡事提前做，这样自己最后就不必慌慌张张了&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;12、工作不是全部&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;除了工作你还需要有自己的生活，不要让工作占用了生活，生活是生活。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;13、人总是要经历几次痛彻心扉才能成长&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;一个⼈真正长大，⼀定会经历几个撕心裂肺的瞬间，和三观的⼀次次颠覆。只有亲身经历过，才真正知道，每一件事情背后的不容易。不要看轻任何事，只有当你经历后才知道其中的不容易&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;14、不要把兴趣当职业&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;再喜欢的爱好，只要不能挣钱，就不能把它当做职业。一次次逼自己完成不可能，你会成为最大的可能，只有尝试一次次的不可能，凡事才能成为可能&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;15、如何真正看清一个人&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;真正能让你看清一个人的，是时间，行为，和他动怒时的表现，他的谈吐、作风都不能让你了解他，只有时间能让你看清他。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;16、事情做得好不好，有时无关能力和经验&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;因为你现在的权力和职务，基本决定了你目前所能做好事情的最大程度。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;以上，共勉！&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;原创不易，欢迎大家评论、转发、分享支持，谢谢！&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;🎉&lt;/span&gt; 福利&lt;/span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;关注公众号回复关键字：&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;01&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;，即可免费获取&lt;strong&gt;《程序员进阶大礼包》一份&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;·················· &lt;/span&gt;&lt;span&gt;END&lt;/span&gt;&lt;span&gt; ··················&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;关注公众号，免费领学习资料&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzA3MDg5MDkzOA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/Z2bVaFK6CgQmUQ0Aca9qSYNFn0tQEXQc5EibBkqQLYtibYBj1hXuagwXkNc3kVwplHxIl7KQfBIiagysgn9GDUUibw/0?wx_fmt=png&quot; data-nickname=&quot;架构精进之路&quot; data-alias=&quot;jiagou_jingjin&quot; data-signature=&quot;十年研发风雨路，大厂架构师，CSDN博客专家。专注软件架构研究，技术学习与职业成长，坚持分享接地气儿的架构技术干货文章！&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;span&gt;十年研发路，大厂架构师，&lt;/span&gt;&lt;span&gt;CSDN博客专家&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;专注架构技术学习及分享，职业与认知升级&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;坚持分享接地气儿的干货，&lt;span&gt;期待与你一起成长&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135编辑器&quot; data-id=&quot;98311&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.5555555555555556&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Z2bVaFK6CgTqLjdQBs7fV8zqHRaQhA2ibia13fFn6ibS5qr5PpmZoxd8nlhAyJu7d1CjLicAruicOEb7uxibEGM476xg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;900&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-tools=&quot;135编辑器&quot; data-id=&quot;87502&quot;&gt;&lt;p&gt;&lt;span&gt;「架构精进之路」专注架构研究，技术分享&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tools=&quot;135编辑器&quot; data-id=&quot;97708&quot;&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;点“赞”和“在看”哦&lt;/span&gt;&lt;img class=&quot;__bg_gif&quot; data-ratio=&quot;1.5925925925925926&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/noz2jw2hPlWiaCrGuJxBicU5mcib3QapDLyo6eKnNVm9dPTV4Z1SicHLtrCCwOG9gblMBFlKf7p9cvwL6wIkZJvamg/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;135&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>15db6ff47c1864aba36409291b787371</guid>
<title>Elasticsearch 滞后 8 个小时等时区问题，一网打尽</title>
<link>https://toutiao.io/k/xxffxp2</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;1、实战问题&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;如下都是实战环节遇到的问题：&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;logstash谁解决过时区问题，mysql是东八区shanghai 但是这玩意读完存到es就少了8小时？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;目前索引会比真正时间晚8小时，导致8点前的日志写到昨天索引里，大佬们有招吗？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;问一下 logstash输出日志到本地文件中，按照小时生成索引，但是他这边的时区是utc，生成的时间和北京时间少8小时，这一块大佬们是咋操作的？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;......从浏览器kibana那里看timestamp时间戳变成了utc的时区？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;上面的问题都涉及到时区问题，涉及到数据的同步（logstash）、写入、检索（elasticsearch）、可视化（kibana）的几个环节。&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2、时区问题拆解&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;我们通过如下几个问题展开拆解。&lt;/span&gt;&lt;/section&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;span&gt;2.1 Elasticserch 默认时区是？能改吗？&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;官方文档强调：在 Elasticsearch 内部，日期被转换为 UTC时区并存储为一个表示自1970-01-01 00:00:00  以来经过的毫秒数的值。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Internally, dates are converted to UTC (if the time-zone is specified) and stored as a long number representing milliseconds-since-the-epoch.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;https://www.elastic.co/guide/en/elasticsearch/reference/current/date.html&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Elasticsearch date 类型默认时区：UTC。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;正如官方工程师强调（如下截图所示）：Elasticsearch 默认时区不可以修改。&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.12396694214876033&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mjl8GCpsL9aKeJPt6L0k62HZsLDAuFf8QicklQIwm3GEoNwHom9MgIT6Tb883SWTxpKiaOyA4R02afQ2o3g14o9g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;968&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;https://discuss.elastic.co/t/index-creates-in-different-timezone-other-than-utc/148941&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;但，我们可以“曲线救国”，通过：&lt;/span&gt;&lt;/section&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;ingest pipeline 预处理方式写入的时候修改时区；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;logstash filter 环节做时区转换；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;查询时指定时区；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;聚合时指定时区。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;span&gt;2.2 Kibana 默认时区是？能改吗？&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;kibana 默认时区是浏览器时区。可以修改，修改方式如下：&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Stack Management -&amp;gt; Advanced Settings -&amp;gt;Timezone for data formatting.&lt;/span&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;289&quot; data-backw=&quot;558&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5182427401340283&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mjl8GCpsL9aKeJPt6L0k62HZsLDAuFf8DXsSULK8R4kia9XYFsoLtyz0YEHyutp0AI1allsNTHN2EOwblicxX5yQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1343&quot;/&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;span&gt;2.3 Logstash 默认时区是？能改吗？&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;默认：UTC。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;可以通过中间：filter 环节进行日期数据处理，包括：转时区操作。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;小结一下：&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.46160558464223383&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mjl8GCpsL9aKeJPt6L0k62HZsLDAuFf8WuSj5zIclRa9libGBB0EyQSHuwSAFreujUOibaBd5Ricjqsib76U9dzVBg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2292&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;logstash 默认 UTC 时区。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;Elasticsearch 默认 UTC 时区。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;Kibana 默认浏览器时区，基本我们用就是：东八区。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;如果基于Mysql 同步数据，Mysql 数据是：东八区。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;我们看一下东8区百度百科定义：东八区（UTC/GMT+08:00）是比世界协调时间（UTC）/格林尼治时间（GMT）快8小时的时区，理论上的位置是位于东经112.5度至127.5度之间，是东盟标准的其中一个候选时区。当格林尼治标准时间为0:00时，东八区的标准时间为08:00。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;通过上面的定义，能加深对 logstash 同步数据后，数据滞后8小时的理解。&lt;/span&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;3、时区问题解决方案&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;基于上面的分析，如何解决时区问题呢？&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;由于 kibana 支持手动修改时区，不在下文讨论 的范围之内。实战项目中，自己根据业务需求修改即可。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;那么问题就转嫁为：写入的时候转换成给定时区（如：东8区）就可以了。&lt;/span&gt;&lt;/section&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;span&gt;3.1 方案一：ingest 预处理为东8区时区&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;步骤 1：定义预处理管道：chage_utc_to_asiash（名称自己定义即可）。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;在该管道中实现了时区转换。&lt;/span&gt;&lt;/section&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;步骤 2：创建索引同时指定缺省管道：chage_utc_to_asiash。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;步骤 3：写入数据（单条或 bulk 批量均可）&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;PUT _ingest/pipeline/chage_utc_to_asiash&lt;br/&gt;{&lt;br/&gt;  &lt;span&gt;&quot;processors&quot;&lt;/span&gt;: [&lt;br/&gt;    {&lt;br/&gt;      &lt;span&gt;&quot;date&quot;&lt;/span&gt; : {&lt;br/&gt;        &lt;span&gt;&quot;field&quot;&lt;/span&gt; : &lt;span&gt;&quot;my_time&quot;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;&quot;target_field&quot;&lt;/span&gt;: &lt;span&gt;&quot;my_time&quot;&lt;/span&gt;, &lt;br/&gt;        &lt;span&gt;&quot;formats&quot;&lt;/span&gt; : [&lt;span&gt;&quot;yyyy-MM-dd HH:mm:ss&quot;&lt;/span&gt;],&lt;br/&gt;        &lt;span&gt;&quot;timezone&quot;&lt;/span&gt; : &lt;span&gt;&quot;Asia/Shanghai&quot;&lt;/span&gt;&lt;br/&gt;      }&lt;br/&gt;    }&lt;br/&gt;  ]&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;PUT my-index-000001&lt;br/&gt;{&lt;br/&gt;  &lt;span&gt;&quot;settings&quot;&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;&quot;default_pipeline&quot;&lt;/span&gt;: &lt;span&gt;&quot;chage_utc_to_asiash&quot;&lt;/span&gt;&lt;br/&gt;  },&lt;br/&gt;  &lt;span&gt;&quot;mappings&quot;&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;&quot;properties&quot;&lt;/span&gt;: {&lt;br/&gt;      &lt;span&gt;&quot;my_time&quot;&lt;/span&gt;: {&lt;br/&gt;        &lt;span&gt;&quot;type&quot;&lt;/span&gt;: &lt;span&gt;&quot;date&quot;&lt;/span&gt;&lt;br/&gt;      }&lt;br/&gt;    }&lt;br/&gt;  }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;PUT my-index-000001/_doc/1&lt;br/&gt;{&lt;br/&gt;  &lt;span&gt;&quot;my_time&quot;&lt;/span&gt;: &lt;span&gt;&quot;2021-08-09 08:07:16&quot;&lt;/span&gt;&lt;br/&gt;} &lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;当写入数据后，执行检索时，kibana dev tool 返回结果如下：&lt;/span&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt; &lt;span&gt;&quot;hits&quot;&lt;/span&gt; : [&lt;br/&gt;      {&lt;br/&gt;        &lt;span&gt;&quot;_index&quot;&lt;/span&gt; : &lt;span&gt;&quot;my-index-000001&quot;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;&quot;_type&quot;&lt;/span&gt; : &lt;span&gt;&quot;_doc&quot;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;&quot;_id&quot;&lt;/span&gt; : &lt;span&gt;&quot;1&quot;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;&quot;_score&quot;&lt;/span&gt; : 1.0,&lt;br/&gt;        &lt;span&gt;&quot;_source&quot;&lt;/span&gt; : {&lt;br/&gt;          &lt;span&gt;&quot;my_time&quot;&lt;/span&gt; : &lt;span&gt;&quot;2021-08-09T08:07:16.000+08:00&quot;&lt;/span&gt;&lt;br/&gt;        }&lt;br/&gt;      }&lt;br/&gt;    ]&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;最明显的特征是：多了&lt;/span&gt;&lt;span&gt;+08:00 &lt;/span&gt;&lt;span&gt;时区（东8区）标志。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;然后，我们用：kibana discover可视化展示一下：&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.3241525423728814&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mjl8GCpsL9aKeJPt6L0k62HZsLDAuFf8u3SshmPWia761nNKA4EQdtvic3p433jYraevVe2CegoDN4QHf1niaoE3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1416&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;上图中，kibana 采用默认浏览器时区。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;如果不做上面的 ingest 预处理实现，会怎么样呢？大家如果实现过，肯定会感触很深。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;需要我们在kibana中切换时间范围，才能找到之前写入的数据。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ingest 预处理时区的好处：方便、灵活的实现了写入数据的时区转换。&lt;/span&gt;&lt;/section&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;span&gt;3.2 方案二：logstash 中间 filter 环节处理&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;拿真实同步案例讲解一下时区处理：&lt;/span&gt;&lt;/section&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;数据源端：Mysql；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;数据目的端：Elasticsearch；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;同步方式：logstash，本质借助：logstash_input_jdbc 插件同步；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;时区处理：logstash filter 环节 ruby 脚本处理。 &lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;如下只给出了中间 filter 环节的脚本：&lt;/span&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;filter {&lt;br/&gt; ruby { &lt;br/&gt;   code =&amp;gt; &lt;span&gt;&quot;event.set(&#x27;timestamp&#x27;, event.get(&#x27;publish_time&#x27;).time.localtime + 8*60*60)&quot;&lt;/span&gt; &lt;br/&gt; }&lt;br/&gt; ruby {&lt;br/&gt;   code =&amp;gt; &lt;span&gt;&quot;event.set(&#x27;publish_time&#x27;,event.get(&#x27;timestamp&#x27;))&quot;&lt;/span&gt;&lt;br/&gt; }&lt;br/&gt; mutate {&lt;br/&gt;   remove_field =&amp;gt; [&lt;span&gt;&quot;timestamp&quot;&lt;/span&gt;]&lt;br/&gt; }&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;三行脚本含义，解释如下：&lt;/span&gt;&lt;/section&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;第一行：将 publish_time 时间加 &lt;/span&gt;&lt;span&gt;8&lt;/span&gt;&lt;span&gt; 小时处理，赋值给 timestamp。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;publish_time  到了 logstash 已转成了 UTC 时区了。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;timestamp 类似似 C 语言中的交换两个数函数中的 temp 临时变量。&lt;/span&gt;&lt;/section&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;第二行：将 timestamp 时间赋值给 publish_time。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;第三行：删除中转字段：timestamp。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;源数据Mysql 效果：&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.20829493087557605&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mjl8GCpsL9aKeJPt6L0k62HZsLDAuFf84eby4ue8Ncmdes5W403tCE6JMGwo4MnQ5Yk5rcUfia9fxMdAE9yspkw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1085&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;同步后 效果：&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7256461232604374&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mjl8GCpsL9aKeJPt6L0k62HZsLDAuFf83DpR0OPdanU5uTWLFE7MxnoGia8UGn4ueic6suRkSKicDeatf3RdY6N2w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;503&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;如上两个截图，对比一下区别：&lt;/span&gt;&lt;/section&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;publish_time 做了时区处理，两者时间已一致，都是东 8 区。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;update_time 未做时间处理，写入Elasticsearch 后由东8区时间 10:57:31 转为UTC时区时间 02:57:31，&lt;/span&gt;&lt;span&gt;少&lt;/span&gt;&lt;span&gt;了8小时。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;4、检索和聚合的时候指定时区&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;假定我们写入ES前未做时区处理（实战环节常有的场景），但是检索或者聚合的时候想做时区处理可以吗？&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;可以的，具体实现方式如下：&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;POST testindex/_search?pretty&lt;br/&gt;{&lt;br/&gt;  &lt;span&gt;&quot;query&quot;&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;&quot;range&quot;&lt;/span&gt;: {&lt;br/&gt;      &lt;span&gt;&quot;date&quot;&lt;/span&gt;: {&lt;br/&gt;        &lt;span&gt;&quot;gte&quot;&lt;/span&gt;: &lt;span&gt;&quot;2020-01-01 00:00:00&quot;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;&quot;lte&quot;&lt;/span&gt;: &lt;span&gt;&quot;2020-01-03 23:59:59&quot;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;&quot;format&quot;&lt;/span&gt;: &lt;span&gt;&quot;yyyy-MM-dd HH:mm:ss&quot;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;&quot;time_zone&quot;&lt;/span&gt;: &lt;span&gt;&quot;+08:00&quot;&lt;/span&gt;&lt;br/&gt;      }&lt;br/&gt;    }&lt;br/&gt;},&lt;br/&gt;  &lt;span&gt;&quot;size&quot;&lt;/span&gt;: 0,&lt;br/&gt;  &lt;span&gt;&quot;aggs&quot;&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;&quot;per_day&quot;&lt;/span&gt;: {&lt;br/&gt;      &lt;span&gt;&quot;date_histogram&quot;&lt;/span&gt;: {&lt;br/&gt;        &lt;span&gt;&quot;calendar_interval&quot;&lt;/span&gt;: &lt;span&gt;&quot;day&quot;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;&quot;field&quot;&lt;/span&gt;: &lt;span&gt;&quot;date&quot;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;&quot;time_zone&quot;&lt;/span&gt;: &lt;span&gt;&quot;+08:00&quot;&lt;/span&gt;&lt;br/&gt;      }&lt;br/&gt;    }&lt;br/&gt;  }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;如上示例中，整合了检索和聚合，有两个要点：&lt;/span&gt;&lt;/section&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;要点1：range query 中指定时区检索。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;要点2：data_histogram 聚合中指定时区聚合。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;5、小结&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;数据写入时间不一致、数据滞后8小时等时区问题的&lt;/span&gt;&lt;span&gt;&lt;strong&gt;本质&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;是：各个处理端时区不一致，写入源的时区、Kibana默认是本地时区（如中国为：东8区时区），而 logstash、Elasticsearch 是UTC时区。&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5083114610673666&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mjl8GCpsL9aKeJPt6L0k62HZsLDAuFf8hTZLWOPkbt8SzZNABPA5uKVic7c6OKsjoCUmFatnD1CdZL3VZSMCiboQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1143&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;本文给出了两种写入前预处理的解决方案，方案一：基于管道预处理；方案二：基于logstash filter 中间环节过滤。两种方案各有利弊，预处理管道相对更轻量级，实战选型建议根据业务需求。本文最后指出在检索和聚合环节使用时区处理方式。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;大家在实战中有没有遇到时区问题，是怎么解决的呢？欢迎大家留言交流。&lt;/span&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;参考&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;https://t.zsxq.com/2nYnq76&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>