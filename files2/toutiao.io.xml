<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>18caae1ce855a46c1a09efdc9657e18d</guid>
<title>软件质量保障体系建设</title>
<link>https://toutiao.io/k/i5z2q03</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;h2&gt;&lt;span&gt;&lt;strong&gt;前言&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;从事软件测试相关工作七年，做过功能测试、自动化测试、测试开发、性能测试、专项测试，也干过一段时间技术管理，近几年随着行业成熟度的发展，对软件测试也有了更高的要求，很多测试团队开始转变为质量保障团队。如何从质量保障的维度去更好的为业务提供支持，是我一直在思考的事情。整理了自己的很多笔记，结合我在工作中遇到的种种场景，我梳理出了下面这张质量保障体系思维导图，供大家参考。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;&lt;strong&gt;思维导图&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;img data-ratio=&quot;0.6463314097279472&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ftksfIbzTWgW5o6S5poA9n0WktoeLe0tKwgNoSav87rVERapu0HZOiaTGnvfqrwtAZibZEokvHrNHsk7tgUF057g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1213&quot;/&gt;&lt;/p&gt;&lt;h2&gt;&lt;strong&gt;&lt;span&gt;三大体系&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;h3&gt;&lt;strong&gt;&lt;span&gt;组织&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;h4&gt;&lt;strong&gt;&lt;span&gt;愿景&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;所谓的愿景，就是长期规划，我们要到哪里去的问题。一个组织或者团队，是一定要有愿景的。在软件质量保障领域，所谓的愿景概括来说就四个字：保质提效。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;保质，就是在日常交付中保障软件质量，并且在长期发展过程中，不断提高软件的质量。如何评估质量是否是稳定且不断提升的，就需要&lt;span&gt;引入评估体系，用事实、结果、背后的分析逻辑和数据来证明&lt;/span&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;提效，很好理解，提高效率。怎么提高效率呢？引入ROI体系，从&lt;span&gt;交付时间、耗用资源、团队成长&lt;/span&gt;方面着手。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;目标&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;有了愿景，还要将其拆分为不同的目标。&lt;span&gt;行业在变，组织架构在变，因此目标也要跟随整体的变化而调整&lt;/span&gt;。不同的企业在不同阶段有不同的侧重点和诉求。你不能要求一个初创企业要啥啥都有，也不能要求BAT啥都凑合。这是一个平衡和抉择的过程，可以参考CMMI模型来思考这一点。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;strong&gt;&lt;span&gt;规则&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;这里的规则不是强制要求大家一定要做什么，而是为了避免某些方式对团队和企业带来不好的影响。常见的规则比如：周报、信息同步机制、反馈机制&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;文化&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;谈到文化这一块，一直是很务虚的东西，很多同学对之嗤之以鼻，2020年之前我也是这么想的。20年读了一本书：《重新定义公司：Google是如何运营的》。里面对企业文化这一部分做了很经典的解释：&lt;span&gt;企业文化就是指导员工面临艰难选择时，做正确的选择&lt;/span&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;&lt;strong&gt;管理&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;团队管理方面，我将其分为了下面四个体系，每个体系都包含不同的内容。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;相关内容，可参考我之前的文章：&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=Mzg2NDAwMjM1NQ==&amp;amp;mid=2247484174&amp;amp;idx=1&amp;amp;sn=6cdf3e3a4f9931e021bb779b4b6e17d5&amp;amp;chksm=ce714b52f906c2442f722676f81473d27508e970a897c2082f71c6a6b71a5ee962d7eb17c3bf&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;从技术专家到技术管理，我对管理的思考&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;从技术专家到技术管理，我对管理的思考&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;业务体系&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;如果团队规模较小，业务也不复杂，可以暂时不用拆分。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;但是当人数超过10人&amp;amp;业务开始划分不同团队时候，就要考虑做业务拆分了。这里的业务拆分指的是根据组织架构将测试同学分为不同的组，每个组有一个小组长或team leader，提高管理效率，做好&lt;span&gt;信息同步和反馈机制&lt;/span&gt;。&lt;span&gt;避免自己成为团队的瓶颈，从繁杂的管理中抽身出来，去思考并解决更高维度的问题&lt;/span&gt;。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;资源体系&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;在团队管理中，无论是人力、设备还是时间，都可以纳入资源管理体系中。我将其分为了如下三个部分：&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;人力模型&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;新人目标&lt;/strong&gt;：新人入职如何落地？如何快速适应业务迭代节奏？如何设定合理的目标来达成预期结果？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;转正述职&lt;/strong&gt;：招聘、新人培养都需要成本投入，设定合理明确的转正评估机制，结合上述的新人目标，可以帮助新人更好的落地。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;能力模型&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;成长模型&lt;/strong&gt;：工作一方面为了金钱物质回报，另一方面也是希望能够借助平台获得自我成长。设定成长目标和模型，可以帮助员工在不同的阶段知道自己该向什么方向努力，达成不同阶段的不同目标，这是&lt;/span&gt;每一个管理者都需要考虑的事情。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;胜任力模型&lt;/strong&gt;：一个团队的组织结构，从初级的倒T型，经过金字塔模型，最终演变成纺锥型。在不同阶段，随着组织结构的演变，处在不同阶段和层级的员工，需要设定不同的级别和胜任评估体系，助力团队跟随公司不断发展，适应组织结构的变化。一般来说，可以从工作经验、技术、业务熟悉度、项目推动能力、沟通协同方面来设定评估指标。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;资产管理&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;云端资产&lt;/strong&gt;：现在大多数互联网公司，都采用了云服务。对于质量保障团队来说，测试环境及内部自建技术平台涉及的云端资产，都需要通过一定的手段管理起来。当然一般这种事在运维团队，有CMDB体系来进行管理，可进行参考。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;硬件资产&lt;/strong&gt;：这里的硬件资产包括移动端测试机&amp;amp;pad等设备，当然可能也包括用来做兼容测试而采购的相关服务等设施。还有一点，员工办公所使用的包含电脑显示器等设备，一般会有IT部门来专门登记管理。如果没有，建议做好统计，便于员工入离职交接等。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;知识体系&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;这里的知识体系，主要指的是团队内部的能力建设和沉淀，主要包含如下几个方面：&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;技术博客：&lt;/strong&gt;无论是工作职场中还是和同行交流中，我一向是比较鼓励大家写技术博客的。这样无论是对个人知识的梳理总结，还是团队的技术能力沉淀都是有很大帮助的。长期以往坚持下来，还能形成品牌向外宣传，这也是吸引优秀候选人的一个方式。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;业务串讲&lt;/strong&gt;：前面提到随着企业的发展，业务规模越来越大也越来越复杂，业务串讲就显得很有必要。优点如下：&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;帮助不同team的同学了解不同的业务，便于日常工作理解；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;遇到不同团队协同工作时，更明确交接的业务边界，提供沟通效率；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;沉淀成业务知识库，可以让其他团队的同学&amp;amp;新入职的同学快速了解，离入职交接也更方便；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;内部分享&lt;/strong&gt;：这里的内部分享，指的是技术部门内部，上述的技术博客和业务串讲&amp;amp;知识库，都可以作为分享的素材来宣讲。一方面可以让更多的同学了解到不同的知识，另一方面加深团队的影响力，这样有助于日常工作的开展。也能在一定程度上培养团队同学的沟通和表达能力。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;外部培训&lt;/strong&gt;：这个主要指下面几方面：&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;联合开源社区，合作举办技术沙龙、座谈会等类似的活动；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;重量级的技术大会上做主题分享，主要目的是价值宣导和品牌影响力建设；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;评估体系&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;如何理解这里的评估体系？围绕上文提到的保质提效相关的点，来分类进行评估。&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;问题管理&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;测试过程中遇到的BUG，分门别类，阶段性的总结梳理，输出质量保障参考手册/SOP；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;版本管理&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;版本管理主要涵盖每个版本的服务发版次数、冒烟通过率、bug的reopen率、上线质量等因素。每个版本结束，除了向上做汇报，内部的复盘总结优化，也是很重要的。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;项目管理&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;这里的项目管理，可以理解为PMO这个岗位做的一些事情，包括进度、风险、资源、deadline等因素。实际上无论是版本发布、和版本迭代同步进行的跨版本需求以及内部的一些独立项目，都可以采用这种方式来管理，总体上还是为了提高资源利用率以及风险前置。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;4&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;效率管理&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;效率管理，我们之前的做法，一方面是通过调查问卷的方式，在部门内部开展调查，获取日常工作中影响工作效率的点，归纳汇总进行专项优化。另一方面，随着团队规模的不断扩大，整体的效率问题也会变成团队成长的一大问题，需要时刻重视。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;&lt;strong&gt;专项&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;自动化体系&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;自动化体系的建设，目前来说在绝大多数稍有规模的互联网公司，都有不同的应用。有UI自动化、APP自动化、接口自动化、单测自动化、埋点自动化以及自动化打包发布校验等方式。最初的目标都是提高效率，降低手工的成本，让工作的个体突出发挥自己的思考能力，而不是手工的体力劳动。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;在自动化体系建设中，主要需要考虑如下几点：&lt;/span&gt;&lt;/p&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;场景&amp;amp;用例&amp;amp;执行：这里需要注意的是场景的覆盖、用例的筛选以及执行效率；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;框架&amp;amp;数据&amp;amp;CICD：人多了，需要注意避免团队内部造轮子，撸很多自动化框架。我个人对这点的理解是有成熟开源框架的，别自己造轮子。内部已有的，评估是否需要优化，而不是推到重构。自动化体系中，CICD是至关重要的一环，别忘记自动化的初衷。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;提效&amp;amp;反馈&amp;amp;参与：自动化最终还是要解决的是效率问题，如上文提到的效率管理，需要持续不断的获得反馈，然后改进优化。说到参与，很多公司是自动化和功能测试工程师做了区分，实际上如果为了团队的整体成长，需要全员参与进来，有参与感，员工才能有收获和满足感。否则大部分人只靠工作本身的内容，是很难做到主动提升自己的。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h4&gt;&lt;strong&gt;&lt;span&gt;防资损体系&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;什么叫资损？造成公司&amp;amp;客户资产损失的都算。比如公司发优惠券，多发且被用户使用了，造成公司成本支出。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;比如用户的优惠券满足场景但无法在支付中使用，用户有了资损，实际上还是公司买单。还有部分舆情方面的东西，比如某个外部消息导致公司上了热搜，外部对公司的评价变差，对企业品牌造成不良影响。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;我们之前的做法是线上监控及时告警，专人专群处理。还有线上涉及资损的场景进行针对性校验，尽可能降低资损的成本以及造成的影响。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;质量大盘体系&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;这里的质量大盘，大家理解为一个可视化的监控即可。即把上面我们提到的各项规则和措施，通过数据量化的方式管控起来，便于做决策。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;strong&gt;&lt;span&gt;性能测试体系&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;性能测试体系，由于之前的文章已经详细介绍过，这里不过多赘述，大家可以参考之前的文章。&lt;/span&gt;&lt;span&gt;文章链接：&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=Mzg2NDAwMjM1NQ==&amp;amp;mid=2247483922&amp;amp;idx=1&amp;amp;sn=b4eae6e7d3a37db02b6afe5c7fec099f&amp;amp;chksm=ce714a4ef906c3587c1d79ef9dfe2dcee6e15d2c6aa9b506f7ff79183cd0e5ad2c8140e5d3ee&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;性能测试体系建设演进之路&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;性能测试体系建设演进之路&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=Mzg2NDAwMjM1NQ==&amp;amp;mid=2247483922&amp;amp;idx=1&amp;amp;sn=b4eae6e7d3a37db02b6afe5c7fec099f&amp;amp;chksm=ce714a4ef906c3587c1d79ef9dfe2dcee6e15d2c6aa9b506f7ff79183cd0e5ad2c8140e5d3ee&amp;amp;token=282506608&amp;amp;lang=zh_CN&amp;amp;scene=21#wechat_redirect&quot; data-href=&quot;http://mp.weixin.qq.com/s?__biz=Mzg2NDAwMjM1NQ==&amp;amp;mid=2247483922&amp;amp;idx=1&amp;amp;sn=b4eae6e7d3a37db02b6afe5c7fec099f&amp;amp;chksm=ce714a4ef906c3587c1d79ef9dfe2dcee6e15d2c6aa9b506f7ff79183cd0e5ad2c8140e5d3ee&amp;amp;token=282506608&amp;amp;lang=zh_CN&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; data-linktype=&quot;2&quot;&gt;&lt;span/&gt;&lt;/a&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;稳定性治理体系&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;稳定性是一个很大的范畴，在质量保障体系中稳定性的建设主要集中在如下几点：&lt;/span&gt;&lt;/p&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;测试过程监控（如自动化通过率&amp;amp;冒烟通过率&amp;amp;性能容量变化趋势等）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;测试环境稳定性治理（特别是有多套环境多个项目版本交叉使用以及频繁发布）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;线上服务可用性监控（质量保障不仅关注测试环境，线上的稳定性也至关重要）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;&lt;strong&gt;写在最后&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;总感觉自己写了很多，又好像有很多内容无法一一表达。关于本篇文章中提到的部分内容，如稳定性治理，会在后续的文章中进行详细介绍。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;本文仅供参考，请知悉。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>f47477f2b1331bfadf7edf15c5691ae6</guid>
<title>和谁在一起，的确很重要</title>
<link>https://toutiao.io/k/tketjuf</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;码农周刊是什么？&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;码农周刊是一份专为广大程序员、编程爱好者们打造的 IT 技术周刊。每周发送。&lt;br/&gt;2013 年 9 月 12 日创刊至今，已发送 300 多期，订阅用户超 20 万。&lt;br/&gt;&lt;/span&gt;&lt;span&gt;专业、简单、有用&lt;/span&gt;&lt;span&gt;，是我们一直坚持的办刊宗旨。一路走来，我们见证了不少订阅用户从编程新手进阶成了高级程序员、架构师、CTO……&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;2020 年 4 月，为了给用户提供更优质的服务，我们推出了「&lt;/span&gt;&lt;span&gt;码农周刊VIP会员&lt;/span&gt;&lt;span&gt;」服务。&lt;br/&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;你与 BAT 技术大牛，只差一份「码农周刊VIP会员」的距离！&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;VIP会员特权&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1. 52 期码农周刊VIP会员&lt;span&gt;专属邮件周报&lt;/span&gt;，让你及时掌握技术动向；&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2. 只限VIP会员加入的&lt;span&gt;交流圈子&lt;/span&gt;，让你与技术大牛切磋学习；&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3. VIP会员独享的&lt;span&gt;工作机会&lt;/span&gt;，为你介绍好公司的好机会；&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4. 更多会员特权，持续更新……&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;如何加入「码农周刊VIP会员」？&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;1. 微信扫描下方二维码，加入码农周刊VIP会员知识星球。&lt;/span&gt;&lt;strong&gt;&lt;span&gt;促销期间，一年仅需 108 元！平均一天花费不到 3 毛！&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-cropselx1=&quot;34&quot; data-cropselx2=&quot;356&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;425&quot; data-ratio=&quot;1.0857487922705313&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/t8lpVibticjQ6h6x4EnYInRLic6PibFNWw4zSv28rAxcJu9dumVJF03PwHGOWxOzeJKIsydVa7UJuTo4jOjrct9NZw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;828&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2. 加入码农周刊VIP会员知识星球后，客服会联系您，请留意知识星球内的私信。&lt;br/&gt;3. 客服向您发送码农周刊VIP会员欢迎邮件，开启您的码农周刊VIP会员之旅。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;心动不如心动，赶快订阅吧！&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>900c6afb016e944c3492ae3d954f59b8</guid>
<title>Verilog 预编译</title>
<link>https://toutiao.io/k/jt04mil</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;RichText ztext Post-RichText&quot; articlelinkcardprops=&quot;[object Object]&quot; usegifprops=&quot;[object Object]&quot;&gt;&lt;h2&gt;&lt;b&gt;Verilog 预编译&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;Verilog 语言支持&lt;b&gt;宏定义（`define）&lt;/b&gt;，&lt;b&gt;参数 parameter&lt;/b&gt;，&lt;b&gt;局域参数（localparam)&lt;/b&gt;以及&lt;b&gt;`include&lt;/b&gt;等内容。这些数据常量的支持极大方便数字系统设计、仿真与验证。这些参数是预编译的。&lt;/p&gt;&lt;h2&gt;预编译&lt;/h2&gt;&lt;p&gt;所谓预编译就是在系统编译之前，将定义的宏常量，参数等先对系统文件扫描一边，将文件中引用的宏和参数以实际值替代，对`include 文件的引用，将实际文件复制到对应位置，然后才对系统进行编译，这一点和具有编译运行的软件编译处理是一致的，如C语言，C++语言等。&lt;/p&gt;&lt;h2&gt;宏定义&lt;/h2&gt;&lt;h3&gt;&lt;b&gt;`define&lt;/b&gt; 关键字&lt;/h3&gt;&lt;p&gt;宏定义的关键字是`define, 在预编译阶段，&lt;b&gt;`define&lt;/b&gt; 用于文本替换，类似于 C 语言中的 &lt;b&gt;#define&lt;/b&gt;。一旦 &lt;b&gt;`define&lt;/b&gt; 指令被定义，其在整个翻译过程中都会有效。例如，在一个文件中定义：&lt;/p&gt;&lt;p&gt;`define DATA_DW 32   //含义是 DATA_DW=32, 在编写文件时使用`DATA_DW,在系统编译时，首先将所有`DATA_DW 出现的地方都替换成32，然后再编译。&lt;/p&gt;&lt;p&gt;则在另一个文件中也可以直接使用 `DATA_DW。当然这和编译工具的设定有关，建议一个文件中定义的宏只在该文件中使用。&lt;/p&gt;&lt;p&gt;使用宏的好处是，在全局中使用宏定义的常量，将来如果该常量有变化，直接改动宏定义就可以改动所有使用宏的地方。&lt;/p&gt;&lt;p&gt;宏定义也可以是一个表达式方式, 例如：&lt;/p&gt;&lt;p&gt;`define low_pos(w,b) ((w)*64 + (b)*8)&lt;/p&gt;&lt;p&gt;例：&lt;/p&gt;&lt;p&gt;设计文件 mul8.v&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;`define PW 8

module mul8
(
    input  [`PW-1:0] a,
    input  [`PW-1:0] b,
    output [`PW*2-1:0] p
);

assign   p = a * b;

endmodule&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;仿真文件 t&lt;b&gt;b.v&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;`timescale 1 ns/1 ps&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;`define PW 8&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;module tb&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;(&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;);&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;parameter PERIOD = 10 ;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;reg CLK;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;initial &lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;begin&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;CLK = 1&#x27;b0;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;#(PERIOD/2);&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;forever&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;#(PERIOD/2) CLK = ~CLK;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;end&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;reg [`PW-1:0] a, b;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;wire [`PW*2-1:0] p;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;initial &lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;begin&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;a = `PW&#x27;b0;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;b = `PW&#x27;b0;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;end&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;always @(posedge CLK)&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;begin&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;a = a + 1;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;if(a == 2**(`PW)-1 )  //对于求幂运算符**，只能是2的幂，指数部                       //分必须是常量&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;b = b + 1;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;end&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;mul8 mul8_dut&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;(&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;.a  (a),&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;.b  (b),&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;.p  (p)&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;);&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;endmodule &lt;/code&gt;&lt;/p&gt;&lt;h3&gt;&lt;b&gt;`undef&lt;/b&gt; 关键字&lt;/h3&gt;&lt;p&gt;&lt;b&gt;利用`undef&lt;/b&gt; 关键字可以中止当前宏常量的定义。&lt;/p&gt;&lt;p&gt;如&lt;b&gt;： `undef PW&lt;/b&gt;&lt;/p&gt;&lt;p&gt;文件在这条语句之后 就不能再以`PW 替代8 使用。&lt;/p&gt;&lt;h3&gt;`ifdef, `ifndef, `elsif, `else, `endif&lt;/h3&gt;&lt;p&gt;&lt;b&gt;`elsif, `else&lt;/b&gt; 编译指令对于 &lt;b&gt;`ifdef&lt;/b&gt; 指令是可选的，即可以只使用 &lt;b&gt;`ifdef&lt;/b&gt; 和 &lt;b&gt;`endif&lt;/b&gt; 组成一次条件编译指令块。&lt;/p&gt;&lt;p&gt;例：缺省对32位数据处理，如果定义宏，则按宏定义处理&lt;/p&gt;&lt;p&gt;&lt;code&gt;`ifdef   DATA_DW&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;reg   [`DATA_DW-1:0]  data_a;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;reg   [`DATA_DW-1:0]  data_b;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;reg   [`DATA_DW-1:0]  data_c;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;`else&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;reg   [31:0]  data_a;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;reg   [31:0]  data_b;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;reg   [31:0]  data_c;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;`endif&lt;/code&gt;&lt;/p&gt;&lt;p&gt;注： 宏一般在定义时大小写字符都可以使用，而且大小写是区分的，也就是大写字符定义的宏与小写字符定义宏虽然只有大小写之分，却代表了不同的宏&lt;/p&gt;&lt;p&gt;如：&lt;/p&gt;&lt;p&gt;`define   data_w  8 与`define    DATA_W  32 定义的宏，可以分别使用，互不冲突。一般习惯宏都是用大写字母。&lt;/p&gt;&lt;h3&gt;参数 parameter与局部参数localparam&lt;/h3&gt;&lt;p&gt;parameter 与localparam都可以定义参数常量，但使用范围不同：&lt;/p&gt;&lt;p&gt;localparam定义的参数仅限于本module内部使用，模块例化不可调用，相当于局部常量。状态机状态常量定义，而且只能在定义的位置之后使用。&lt;/p&gt;&lt;p&gt;parameter定义的参数不仅能在本文件中使用，还能利用module 例化后起到参数传递的作用。parameter经常在module接口，以及在设计文件中多处使用特定常数的地方使用。&lt;/p&gt;&lt;p&gt;举例：&lt;/p&gt;&lt;p&gt;设计文件  para_fadder.v&lt;/p&gt;&lt;p&gt;&lt;code&gt;module para_fadder&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;#(&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;parameter WDTH = 4&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;)&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;(&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;input             ci,&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;input  [WDTH-1:0] a,&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;input  [WDTH-1:0] b,&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;output [WDTH-1:0] sum,&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;output            co&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;);&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;assign {co, sum} = a + b + ci;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;endmodule&lt;/code&gt; &lt;/p&gt;&lt;p&gt;Testbench 文件 tb.v&lt;/p&gt;&lt;p&gt;&lt;code&gt;`timescale 1ns/1ps&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;module tb&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;(&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;);&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;parameter WDTH = 16;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;reg ci;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;reg [WDTH-1:0] a, b;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;wire [WDTH-1:0] sum;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;wire co;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;initial &lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;begin&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;a =&#x27;b0;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;b =&#x27;b0;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;ci = 0;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;#10&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;a =&#x27;d100;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;b =&#x27;d33;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;ci = 0;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;#10&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;a =&#x27;d101;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;b =&#x27;d37;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;ci = 1;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;end&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;para_fadder&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;#(&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;.WDTH(WDTH)&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;)&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;para_fadder_dut&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;(&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;.ci  (ci),&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;.a   (a),&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;.b   (b),&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;.sum (sum),&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;.co  (co)&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;);&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;endmodule&lt;/code&gt;&lt;/p&gt;&lt;p&gt; Modelsim仿真波形&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-98e1d6c5a8ddd6a356ea87b0d39e0df6_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;599&quot; data-rawheight=&quot;153&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic3.zhimg.com/v2-98e1d6c5a8ddd6a356ea87b0d39e0df6_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;599&quot; data-rawheight=&quot;153&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic3.zhimg.com/v2-98e1d6c5a8ddd6a356ea87b0d39e0df6_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-98e1d6c5a8ddd6a356ea87b0d39e0df6_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;/p&gt;&lt;p&gt;说明： 在设计文件中定义了 参数 WDTH=4，而在例化中传递的参数为16，那么最终在设计文件中的参数的具体数值由传递值决定，本例中WDTH的最终为16，最终例化了16位全加器。如果在例化中没有给参数传递值，则WDTH=4变成缺省值，即例化4位全加器。如例化如下：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;para_fadder    para_fadder_dut
(
    .ci   (ci),
    .a    (a),
    .b    (b),

    .sum  (sum),
    .co   (co)
);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;将例化成4位全加器。&lt;/p&gt;&lt;p&gt;module中 parameter 的格式如下：&lt;/p&gt;&lt;p&gt;设计文件&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;module para_fadder
#(
    parameter WDTH  = 4，
    parameter WDTH1 = 4    //最后一个参数没有分隔符
)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;多个参数采用逗号 “,”隔开，最后一个参数没有分隔符  。&lt;/p&gt;&lt;p&gt;例化端类似的格式：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;para_fadder
#(
    .WDTH   (WDTH),
    .WDTH1  (WDTH1)
)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果只有一个参数，则为&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;para_fadder
#(
    .WDTH(WDTH)
)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p/&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>4edb4f871c80352974e8509a841da31f</guid>
<title>vivo 全球商城：优惠券系统架构设计与实践</title>
<link>https://toutiao.io/k/yyiq1f3</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;24&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;作者：vivo互联网开发团队-Yan Chao&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;一、业务背景&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;优惠券是电商常见的营销手段，具有灵活的特点，既可以作为促销活动的载体，也是重要的引流入口。优惠券系统是vivo商城营销模块中一个重要组成部分，早在15年vivo商城还是单体应用时，优惠券就是其中核心模块之一。随着商城的发展及用户量的提升，优惠券做了服务拆分，成立了独立的优惠券系统，提供通用的优惠券服务。目前，优惠券系统覆盖了优惠券的4个核心要点：创、发、用、计。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;“创”&lt;/strong&gt;指优惠券的创建，包含各种券规则和使用门槛的配置。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;“发”&lt;/strong&gt;指优惠券的发放，优惠券系统提供了多种发放优惠券的方式，满足针对不同人群的主动发放和被动发放。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;“用”&lt;/strong&gt;指优惠券的使用，包括正向购买商品及反向退款后的优惠券回退。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;“计”&lt;/strong&gt;指优惠券的统计，包括优惠券的发放数量、使用数量、使用商品等数据汇总。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;vivo商城优惠券系统除了提供常见的优惠券促销玩法外，还以优惠券的形式作为其他一些活动或资产的载体，比如手机类商品的保值换新、内购福利、与外部广告商合作发放优惠券等。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;以下为vivo商城优惠券部分场景的展示：&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;1.03828125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt6NTK2KoQqMmNOPalPdthCwCbXROn2MOJh0C88eZwj3pt9vII8q6IFNP46eEyxpvwcgldISUWB4CA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;二、系统架构及变迁&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;优惠券最早和商城耦合在一个系统中。随着vivo商城的不断发展，营销活动力度加大，优惠券使用场景增多，优惠券系统逐渐开始“力不从心”，暴露了很多问题：&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;为了解决以上问题，19年优惠券系统进行了系统独立，提供通用的优惠券服务，独立后的系统架构如下：&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.91953125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt6NTK2KoQqMmNOPalPdthCwKZvt05yFAHJoibzla0Oib7tyMd4RWNCzvGIa6IeWjXfL4s6rNWRuEbrw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;优惠券系统独立迁移方案&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;如何将优惠券从商城系统迁移出来，并兼容已对接的业务方和历史数据，也是一大技术挑战。系统迁移有两种方案：停机迁移和不停机迁移。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;我们采用的是不停机迁移方案：&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;58&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;&lt;p&gt;静态数据：优惠券后台生成的数据，与用户无关。&lt;/p&gt;&lt;p&gt;动态数据：与用户有关的优惠券数据，含用户领取的券、券和订单的关系数据等。&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;配置当前数据库开关为单写，即优惠券数据写入商城库（旧库）。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;优惠券系统上线，通过脚本迁移静态数据。迁完后，验证静态数据迁移准确性。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;配置当前数据库开关为双写，即线上数据同时写入商城库和优惠券新库。此时服务提供的数据源依旧是商城库。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;迁移动态数据。迁完后，验证动态数据迁移准确性。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;切换数据源，服务提供的数据源切换到新库。验证服务是否正确，出现问题时，切换回商城数据源。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;关闭双写，优惠券系统迁移完成。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;迁移后优惠券系统请求拓扑图如下：&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.5453125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt6NTK2KoQqMmNOPalPdthCwJb9uvPAk35Z0p3icicFjpDUOibjtMcV9p3S5HZR2WQEXCsibS1a3zOoI3Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;三、系统设计&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;3.1 优惠券分库分表&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;随着优惠券发放量越来越大，单表已经达到瓶颈。为了支撑业务的发展，综合考虑，对用户优惠券数据进行分库分表。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;关键字：技术选型、分库分表因子&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;分库分表有成熟的开源方案，这里不做过多介绍。参考之前项目经验，采用了公司中间件团队提供的自研框架。原理是引入自研的MyBatis的插件，根据自定义的路由策略计算不同的库表后缀，定位至相应的库表。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;用户优惠券与用户id关联，并且用户id是贯穿整个系统的重要字段，因此使用用户id作为分库分表的路由因子。这样可以保证同一个用户路由至相同的库表，既有利于数据的聚合，也方便用户数据的查询。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;假设共分N个库M个表，分库分表的路由策略为：&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;72&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;&lt;p&gt;库后缀databaseSuffix = hash(userId) / M %N&lt;/p&gt;&lt;p&gt;表后缀tableSuffix = hash(userId) % M&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.76171875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt6NTK2KoQqMmNOPalPdthCwn8kTU7upWnE5HT0qQGt9JML4yGM2FO10oxDO2QicmUpY5pwnrbdgvkg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;3.2 优惠券发放方式设计&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;为满足各种不同场景的发券需求，优惠券系统提供三种发券方式：&lt;strong&gt;统一领券接口&lt;/strong&gt;、&lt;strong&gt;后台定向发券&lt;/strong&gt;、&lt;strong&gt;券码兑换发放&lt;/strong&gt;。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;3.2.1 统一领券接口&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;保证领券校验的准确性&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;领券时，需要严格校验优惠券的各种属性是否满足：比如领取对象、各种限制条件等。其中，比较关键的是库存和领取数量的校验。因为在高并发的情况下，需保证数量校验的准确性，不然很容易造成用户超领。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;存在这样的场景：A用户连续发起两次领取券C的请求，券C限制每个用户领取一张。第一次请求通过了领券数量的校验，在用户优惠券未落库的情况下，如果不做限制，第二次请求也会通过领券数量的校验。这样A用户会成功领取两张券C，造成超领。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;为了解决这个问题，优惠券采用的是分布式锁方案，分布式锁的实现依赖于Redis。在校验用户领券数量前先尝试获取分布式锁，优惠券发放成功后释放锁，保证用户领取同一张券时不会出现超领。上面这种场景，用户第一次请求成功获取分布式锁后，直至第一次请求成功释放已获取的分布式锁或超时释放，不然用户第二次请求会获取分布式锁失败，这样保证A用户只会成功领取一张。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;库存扣减&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;领券要进行库存扣减，常见库存扣减方案有两种：&lt;/p&gt;&lt;p&gt;&lt;strong/&gt;&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;197&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;&lt;strong&gt;方案一：&lt;/strong&gt;数据库扣减。&lt;/section&gt;&lt;section&gt;扣减库存时，直接更新数据库中库存字段。&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;该方案的&lt;strong&gt;优点&lt;/strong&gt;是简单便捷，查验库存时直接查库即可获取到实时库存。且有数据库事务保证，不用考虑数据丢失和不一致的问题。&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;缺点&lt;/strong&gt;也很明显，主要有两点：&lt;/section&gt;&lt;section&gt;1）库存是数据库中的单个字段，在更新库存时，所有的请求需要等待行锁。一旦并发量大了，就会有很多请求阻塞在这里，导致请求超时，进而系统雪崩。&lt;/section&gt;&lt;section&gt;2）频繁请求数据库，比较耗时，且会大量占用数据库连接资源。&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;strong/&gt;&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;121&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;&lt;strong&gt;方案二：&lt;/strong&gt;基于redis实现库存扣减操作。&lt;/section&gt;&lt;section&gt;将库存放到缓存中，利用redis的incrby特性来扣减库存。&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;该方案的&lt;strong&gt;优点&lt;/strong&gt;是突破数据库的瓶颈，速度快，性能高。&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;缺点&lt;/strong&gt;是系统流程会比较复杂，而且需要考虑缓存丢失或宕机数据恢复的问题，容易造成库存数据不一致。&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;从优惠券系统当前及可预见未来的流量峰值、系统维护性、实用性上综合考虑，优惠券系统采用了方案一的改进方案。改进方案是将单库存字段分散成多库存字段，分散数据库的行锁，减少并发量大的情况数据库的行锁瓶颈。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.64609375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt6NTK2KoQqMmNOPalPdthCwZITOHPTeUaIibEGYKsjHGaO8fGzkNsLicwowDyX3lY2qO0mWFIMXyicUg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;库存数更新后，会将库存平均分配成M份，初始化更新到库存记录表中。用户领券，随机选取库存记录表中已分配的某一库存字段（共M个）进行更新，更新成功即为库存扣减成功。同时，定时任务会定期同步已领取的库存数。相比方案一，该方案突破了数据库单行锁的瓶颈限制，且实现简单，不用考虑数据丢失和不一致的问题。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;一键领取多张券&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;在对接的业务方的领券场景中，存在用户一键领取多张券的情形。因此统一领券接口需要支持用户一键领券，除了领取同一券模板的多张，也支持领取不同券模板的多张。一般来说，一键领取多张券指领取不同券模板的多张。在实现过程中，需要注意以下几点：&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;1）如何保证性能&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;领取多张券，如果每张券分别进行校验、库存扣减、入库，那么接口性能的瓶颈卡在券的数量上，数量越多，性能直线下降。那么在券数量多的情况下，怎么保证高性能呢？主要采取两个措施：&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;175&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;a. &lt;strong&gt;批量操作&lt;/strong&gt;。&lt;/section&gt;&lt;section&gt;从发券流程来看，瓶颈在于券的入库。领券是实时的（异步的话，不能实时将券发到用户账户下，影响到用户的体验还有券的转化率），券越多，入库时与数据库的IO次数越多，性能越差。批量入库可以保证与数据库的IO的次数只有一次，不受券的数量影响。如上所述，用户优惠券数据做了分库分表，同一用户的优惠券资产保存在同一库表中，因此同一用户可实现批量入库。&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;38&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;b. &lt;strong&gt;限制单次领券数量&lt;/strong&gt;。&lt;/section&gt;&lt;section&gt;设置阀值，超出数量后，直接返回，保证系统在安全范围内。&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2）保证高并发情况下，用户不会超领&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;假如用户在商城发起请求，一键领取A/B/C/D四张券，同时活动系统给用户发放券A，这两个领券请求是同时的。其中，券A限制了每个用户只能领取一张。按照前述采用分布式锁保证校验的准确性，两次请求的分布式锁的key分别为：&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;33&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;&lt;p&gt;用户id+A_id+B_id+C_id+D_id&lt;/p&gt;&lt;p&gt;用户id+A_id&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;这种情况下，两次请求的分布式锁并没有发挥作用，因为锁key是不同，数量校验依旧存在错误的可能性。为避免批量领券过程中用户超领现象的发生，在批量领券过程中，对分布锁的获取进行了改造。上例一键领取A/B/C/D四张券，需要批量获取4个分布式锁，锁key为：&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;36&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;&lt;p&gt;用户id+A_id&lt;/p&gt;&lt;p&gt;用户id+B_id&lt;/p&gt;&lt;p&gt;用户id+C_id&lt;/p&gt;&lt;p&gt;用户id+D_id&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;获取其中任何一个锁失败，即表明此时该用户正在领取其中某一张券，需要自旋等待（在超时时间内）。获取所有的分布式锁成功，才可以进行下一步。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;接口幂等性&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;统一领券接口需保证幂等性（幂等性：用户对于同一操作发起的一次请求或者多次请求的结果是一致的）。在网络超时、异常情况下，领券结果没有及时返回，业务方会进行领券重试。如果接口不保证幂等性，会造成超发。幂等性的实现有多种方案，优惠券系统利用数据库的唯一索引来保证幂等。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;领券最早是不支持幂等性的，表设计没有考虑幂等性。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;那么&lt;strong&gt;第一个需要考虑的问题：在哪个表来添加唯一索引呢？&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;无非两种方案：现有的表或者新建表。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;第二个考虑的问题：怎么兼容历史数据和业务方？&lt;/strong&gt;历史数据增加了唯一字段，需要填入唯一值，不然无法添加唯一索引。我们采用脚本刷数据的方式，构造唯一值并刷新到每一行历史数据中。优惠券已对接的业务方没有传入唯一编码，针对这种情况，优惠券侧生成唯一编码作为替代，保证兼容性。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;3.2.2 定向发券&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;定向发券用于运营在后台针对特定人群进行发券。定向发券可以弥补用户主动领券，人群覆盖不精准、覆盖面不广的问题。通过定向发券，可以精准覆盖特定人群，提高下单转化率。在大促期间，大范围人群的定向发券还可以承载活动push和降价促销双重任务。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;定向发券主要在于人群的圈选和发券流程的设计，整体流程如下：&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.81875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt6NTK2KoQqMmNOPalPdthCwNLJgCfVjmdibfNwcMCHYH8OEvsqUu8Db19zpnCTVCfV002asLiclHybw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;定向发券不同于用户主动领券，定向发券的量通常会很大（亿级）。为了支撑大批量的定向发券，定向发券做了一些优化：&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;1）去除事务&lt;/strong&gt;。事务逻辑过重，对于定向发券来说没必要。发券失败，记录失败的券，保证失败可以重试。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2）轻量化校验&lt;/strong&gt;。定向发券限制了券类型，通过限制配置的方式规避需严格校验属性的配置。不同于用户主动领券校验逻辑的冗长，定向发券的校验非常轻量，大大提升发券性能。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;3）批量插入&lt;/strong&gt;。批量券插入减少数据库IO次数，消除数据库瓶颈，提升发券速度。定向发券是针对不同的用户，用户优惠券做了分库分表，为了实现批量插入，需要在内存中先计算出不同用户对应的库表后缀，数据归集后再批量插入，最多插入M次，M为库表总个数。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;4）核心参数可动态配置&lt;/strong&gt;。比如单次发券数量，单次读库数量，发给消息中心的消息体包含的用户数量等，可以控制定向发券的峰值速度和平均速度。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;3.2.3 券码兑换&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;站外营销券的发放方式与其他券不同，通过券码进行兑换。券码由后台导出，通过短信或者活动的方式发放到用户，用户根据券码兑换后获取相应的券。券码的组成有一定的规则，在规则的基础上要保证安全性，这种安全性主要是券码校验的准确性，防止已兑换券码的再次兑换和无效券码的恶意兑换。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;3.3 精细化营销能力设计&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;通过标签组合配置的方式，优惠券提供精细化营销的能力，以实现优惠券的千人千面。标签可分为准实时和实时，值得注意的是，一些实时的标签的处理需要前提条件，比如地区属性需要用户授权。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;优惠券的精准触达：&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.6686746987951807&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt6NTK2KoQqMmNOPalPdthCwB6lRo0XACE1vr3xics8dA6QLpneDIUFxuP1fGj3iaYfgYXa84MR2SYIQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;996&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;3.4 券和商品之间的关系&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;优惠券的使用需要和商品关联，可关联所有商品，也可以关联部分商品。为了灵活性地满足运营对于券关联商品的配置，优惠券系统有两种关联方式：&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;119&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;&lt;p&gt;a. 黑名单。&lt;/p&gt;&lt;p&gt;可用商品 = 全部商品 - 黑名单商品。&lt;/p&gt;&lt;p&gt;黑名单适用于券的可使用商品范围比较广这种情况，全部商品排除掉黑名单商品就是券的可使用范围。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;b. 白名单。&lt;/p&gt;&lt;p&gt;可用商品 = 白名单商品。&lt;/p&gt;&lt;p&gt;白名单适用于券的可使用商品范围比较小这种情况，直接配置券的可使用商品。&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;除此以外，还有超级黑名单的配置，黑名单和白名单只对单个券有效，超级黑名单对所有券有效。当前优惠券系统提供商品级的关联，后续优惠券会支持商品分类维度的关联，分类维度 + 商品维度可以更灵活地关联优惠券和商品。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;3.5 高性能保证&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;优惠券对接系统多，存在高流量场景，优惠券对外提供接口需保证高性能和高稳定性。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;多级缓存&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;为了提升查询速度，减轻数据库的压力，同时为了应对瞬时高流量带来热点key的场景（比如发布会直播结束切换流量至特定商品商详页、热点活动商品商详页都会给优惠券系统带来瞬时高流量），优惠券采用了多级缓存的方式。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.628125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt6NTK2KoQqMmNOPalPdthCwnu8K8v2LhBtySIYKMD4FzEaecfhPs9tQfFCZFOA5FkiaxCFz5I4fUibA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;数据库读写分离&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;优惠券除了上述所说的分库分表外，在此基础上还做了读写分离操作。主库负责执行数据更新请求，然后将数据变更实时同步到所有从库，用从库来分担查询请求，解决数据库写入影响查询的问题。主从同步存在延迟，正常情况下延迟不超过1ms，优惠券的领取或状态变更存在一个耗时的过程，主从延迟对于用户来说无感知。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.9698630136986301&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt6NTK2KoQqMmNOPalPdthCwiabPvOLmgm9WzmMoCwQicKNp1JXiaia4lG3X8ibG8Nw64H8SeOSsBX5r9jw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1095&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;依赖外部接口隔离熔断&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;优惠券内部依赖了第三方的系统，为了防止因为依赖方服务不可用，产生连锁效应，最终导致优惠券服务雪崩的事情发生，优惠券对依赖外部接口做了隔离和熔断。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;用户维度优惠券字段冗余&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;查询用户相关的优惠券数据是优惠券最频繁的查询操作之一，用户优惠券数据做了分库分表，在查询时无法关联券规则表进行查询，为了减少IO次数，用户优惠券表中冗余了部分券规则的字段。优惠券规则表字段较多，冗余的字段不能很多，要在性能和字段数之间做好平衡。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;四、总结及展望&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;最后对优惠券系统进行一个总结：&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;展望：目前优惠券系统主要服务于vivo商城，未来我们希望将优惠券能力开放，为内部其他业务方提供通用一体化的优惠券平台。&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;END&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;span title=&quot;&quot; opera-tn-ra-cell=&quot;_$.pages:0.layers:0.comps:55.title1&quot;&gt;&lt;p&gt;猜你喜欢&lt;/p&gt;&lt;/span&gt; &lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>035a6ce1cd081b3ef72f490950561c33</guid>
<title>漫画｜我见过的那些奇葩面试官......</title>
<link>https://toutiao.io/k/gk3jvwl</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.14140625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/DjFlqkxAXu7dnTIX2vndsWLzsS6OFt51PFa27picyMIKGfDISZxqI8qTpMzuIHzmIpPlVPDJjJF5icqSwjd6kZqg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;面试这个事，有些时候真的和我们想象的不太一样……&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;不一样到什么程度么？不能说一模一样吧，简直是毫不相干！&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;不面不知道，一面吓一跳！！！&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;2.318840579710145&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/DjFlqkxAXu7FReXQLlGac5icSib5ZbXkOgU9pTp60zHOT4QNcHmhlrIoHnLzGPOibggWupWlNZSQtvzrUL0kIQU0A/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1242&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;2.318840579710145&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/DjFlqkxAXu7FReXQLlGac5icSib5ZbXkOgVBb2NEGpdZKZRXVOVCfdghrQ7w3qarcl3Bnw98wWTfic88Mr3P3choA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1242&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;2.318840579710145&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/DjFlqkxAXu7FReXQLlGac5icSib5ZbXkOgcPiakrplncoRxSaDadopNMT6NibmCrfzfvaGHspDHwhuZQ8BSndibQocg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1242&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;2.318840579710145&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/DjFlqkxAXu7FReXQLlGac5icSib5ZbXkOgosh6Oqic5PKtn2ShIiauWcYVeKNKib1cLicSmNT8XiaM2DHhxSE5QMicBExA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1242&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;2.318840579710145&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/DjFlqkxAXu7FReXQLlGac5icSib5ZbXkOgI1xcSqggicYYH7e7RRMicYcOhfBkf7jKcUKiaNpiavviaU7mOFDIJoDys0A/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1242&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;-&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;你面试的时候做过心理测试题么？100道起的那种，还问些但凡是个人都不至于答错的那种……&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;说真的，我能理解公司/企业为了确保员工的整体心理健康程度，在面试环节对应聘者做出多维度的筛选…但是心理测试题要不要搞100道？！其中还有很多题根本就是匪夷所思无理取闹！我们都正常一点儿不好么？&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;-&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;你面试的岗位也要求你十项全能身兼数职么？上天入地无所不能的那种……&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;很多创业公司都特别想招聘到那种能力强、业务范围广的员工，也许是初创公司成本有限、也许是高质量员工能更带来更高效的工作效率……但无论公司是出于什么原因，作为员工，我们也应该是按劳收费的吧，至少我们“卖艺不卖身”……&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;-&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;你面试时也做过八杆子打不着的笔试题么？&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;对于那些设置笔试题的人来说，“术业有专攻”这类的话大概都是不存在的，对于专业性很强的技术岗位，我们就出点儿人家那个技术岗位的题不好么？笔试难道是为了让员工长篇大论歌功颂德畅谈理想的么？&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;-&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;你面试的时候，面试官也提过不着调的过分要求么？&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;“梦想家”们提出的要求有时候就很奇葩或者很离谱，比如让你完成一些毫无意义的测试、比如让你完成一些根本不可能完成的任务……我们真的只是凭一己之力讨口饭吃，拯救不了全人类……&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;如果你还没遇到过这样的面试经历，那么我要恭喜你。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;如果你遇到过类似的面试场景，那么请你务必慎重考虑&lt;span&gt;……&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;————&lt;em&gt; END &lt;/em&gt;————&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;转载声明&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;本文属公众号：了不起的程序员原创作品&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;授权转载请联系客服微信（great0445）&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;承蒙厚爱，请多关照&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;创      意 ｜ 小    小&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;编      辑 ｜ 小    小&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;插画设计｜&lt;/span&gt;&lt;span&gt; 王    琳&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;256&quot; data-ratio=&quot;0.4421875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/DjFlqkxAXu4vJHnl2qFx2gLsRLceT0mNt92o0dpzhIt0bagXJwCQG1MXRW1fwZqR2nBPKtcLsjiapkf66pk3oog/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;记得点「&lt;strong&gt;赞&lt;/strong&gt;」和「&lt;strong&gt;在看&lt;/strong&gt;」↓&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;爱你们&lt;/span&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>