<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>755c2751d3ca7af73d0039370b46365c</guid>
<title>面试阿里，看这一篇就够了</title>
<link>https://toutiao.io/k/zdlcy5r</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;背景&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;大家好，我是石头哥。&lt;/p&gt;&lt;figcaption&gt;&lt;span&gt;今天给大家分享下阿里面试攻略，声明一下：本文内容仅代表石头哥&lt;/span&gt;&lt;span&gt;个人观点，仅供参考&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/figcaption&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;对于想加入阿里的同学，或者想了解阿里面试流程（其实，很多公司，特别是 BAT 等大厂，有很多问题是相通的），一定&lt;strong&gt;不要错过&lt;/strong&gt;本文。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;作为候选人，从毕业到现在，参与的面试没有上百场也有大几十场了，也算是个面霸，不管失败和成功，积累的经验也都还不小。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;作为面试官，不管是社招还是校招，也都面试过很多人，也算久经沙场。在我参与的所有面试中，我都尽量期望能让候选人有所收获。（当然也期望自己在面试中也有所收获）&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;本文主要分为以下几个部分：&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.8631732168850073&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ZMXDhhGnYibu0eXyqAP5FvS55AiabLqH6w7IZ1fdQoFnoCVEBowysYibZ5dnezLTDRMqiad67siawqLEnuv36uGtctw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;687&quot;/&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;面试流程&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;简历投递及&lt;span&gt;注意事项&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;投递渠道&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;注意事项&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;没有主动投递简历，也会接到面试邀请？&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;在线笔试&lt;/span&gt;怎么进行？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;面试过程注意事项&lt;/p&gt;&lt;/li&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;技术面会涉及哪些方面？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;遇到不会的题目&lt;span&gt;怎么办&lt;/span&gt;？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;某些问题能拒绝回答吗？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;HR 面要注意什么？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;一个部门面挂了还能继续面其他部门吗？&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;背调注意事项&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;面试流程&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;阿里巴巴的面试流程，一般而言，会遵循如下如下图所示的流程进行：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;1.5763888888888888&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ZMXDhhGnYibu0eXyqAP5FvS55AiabLqH6wnSH4ALaYmIraOOenic957YuZmmic504B6GsuYBAqAmGh0FPbwRX02ukw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;432&quot;/&gt;&lt;figcaption&gt;阿里面试流程&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;具体而言，不同业务线、不同部门、不同人可能有或多或少的差异（差异不大）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但对于整个阿里集团来讲，图中红色部分是必选的，在面试官考核流程里面有讲到。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;即面试官的构成必须遵循 &lt;code&gt;&lt;span&gt;1 OVER 1 + HR&lt;/span&gt;&lt;/code&gt; 原则：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;1：用人方直接主管&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;OVER 1：二级主管（主管的主管）&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;HR：一般是部门的 HRG；&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;且终面的面试官的层级需要高于招聘岗位层级至少2级。举个例子招聘P7，终面面试官职级必须&amp;gt;=P9，可能 P10 也会面。&lt;/p&gt;&lt;p&gt;比如我当初加入阿里时候的面试流程中，最后终面就是P10+HRG一起进行的面试。&lt;/p&gt;&lt;p&gt;一般而言，P7及以上的岗位都会要求进行交叉面（虽然公司招聘手册中并未强制要求）。交叉面一般是其他跨二级主管业务线的面试官。&lt;span/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;另外，技术同学面试过程中，必须要有&lt;span&gt;至少一轮&lt;/span&gt;的&lt;span&gt;代码测评&lt;/span&gt;（笔试），具体测评工具和流程见后文详述。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;下面我将分别按照上文流程分别阐述其中的注意事项。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;简历投递及注意事项&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;投递渠道&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;投递简历无外乎就以下几个渠道：内推，猎头，官网投递，招聘平台（某聘、某 Boss 之类）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果能找到内推渠道，当然内推更好，且尽量找自己目标岗位对应部门的人内推，同部门的人肯定比其他人了解得更全。没有的话，就可以找我哈。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;为什么内推更好以及其他内推注意事项，建议你应该看看我之前写的这篇文章 —— &lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI3OTUzMzcwNw==&amp;amp;mid=2247489516&amp;amp;idx=1&amp;amp;sn=2caba785992af70305ff15f4a740af4a&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;互联网大厂内推求职的正确姿势？&lt;/a&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;注意事项&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;说说简历投递的注意事项。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;请确保简历中有如下基本信息：姓名、出生年月、邮箱、手机号、学校。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;投递相关岗位前，请一定确保自己了解目标岗位职级和要求。各个公司的岗位职级可以直接在网上搜索清楚，市场的职级和薪资水平大体上是对齐的。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.5564814814814815&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ZMXDhhGnYibu0eXyqAP5FvS55AiabLqH6wj3yqbh83bxLxy0SdHjJVhqxtD0ZKNFGfTMSo2PukiaKDk4nMAczCCUA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;figcaption&gt;大厂职级薪资对应关系，图源见水印&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;上图可以简单参考，确保自己打有准备之仗，不要再闹这样的笑话：比如曾经就有刚毕业 2 年的 Java 开发投递简历应聘“资深技术专家”（P9）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;其实阿里的职级从岗位名称上一般都能看出来，详见&lt;/span&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI3OTUzMzcwNw==&amp;amp;mid=2247489516&amp;amp;idx=1&amp;amp;sn=2caba785992af70305ff15f4a740af4a&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;这里&lt;/a&gt;&lt;span&gt;。实在不行，对照这个薪资水平也能看嘛，比如现在我年薪 20W，却试图找 P7，按照上图 P7 最低不得60W+呀，跳 2 级，薪资翻 3 倍？一般来说不太可能吧？&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;另外，简历信息，请对自己负责一点，比如曾经收到这样一份简历：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;1.1417721518987343&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ZMXDhhGnYibu0eXyqAP5FvS55AiabLqH6wFlEiaUJgCtG4mUPicULWZRdxtjTtV1z03j4XEhLeepG6beq83CJVfUeQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;395&quot;/&gt;&lt;figcaption&gt;“反例”简历&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;一个工作4年经验的同学，写着 “社会实践经验”？&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZMXDhhGnYibu0eXyqAP5FvS55AiabLqH6wMAxcJMZJgVN616HwqgZguNbnXbJYJ7nIoZZex3RdmWK3l5Bthiabm8Q/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;240&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当然，结合学校信息能&lt;strong&gt;猜测&lt;/strong&gt;出：这位同学17年毕业，前两份经验，应该算实习，后面才是正式工作。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但为何我们自己不在简历中写明呢，不然还以为有两份正式工作经验不足2个月？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;说到这，如果你换工作太频繁，这绝对是大大地减分项（不管你是主动还是被动）。&lt;span&gt;友情提醒一下，年轻人不要稍微有点不顺心，就想着换个环境，没有哪家公司、哪个工作环境是完美，事事如意的&lt;/span&gt;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;上图流程中有写“&lt;span&gt;5年3跳&lt;/span&gt;”（5年内换了3份工作），公司可能会考虑到你的稳定性。此时，如果你简历很一般，加上频繁地换工作，大概率简历筛选这一关就过不了。（如果熟悉的人内推，有人帮忙“背书”，可能会&lt;span&gt;稍微&lt;/span&gt;好一丢丢）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果简历一般，学校一般，工作经验也一般，可能简历被拒的可能性比较大。因为大厂能收到的简历实在是太多了，如果没有自己的特色，很大众化的一份简历，确实不太容易通过。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;“简历造假”&lt;/strong&gt;（学历，工作经验等） 肯定是不能容忍的，哪怕你面试通过，后面背调也会揪出来的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;另外，不管做啥，期望我们能够站在对方的角度思考和做事。正所谓 &lt;span&gt;&lt;strong&gt;与人方便，与己方便&lt;/strong&gt;&lt;/span&gt;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比如曾经收到一份邮件，希望我帮忙内推：邮件标题 “内推”，正文无内容，附件“简历.pdf”。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;此时，我又只能如下表情了：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;1.048780487804878&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ZMXDhhGnYibu0eXyqAP5FvS55AiabLqH6wqGZDI6pvJficKIiamkHCMIjfKXlebdDnuT3SHAqbwCWMrUJy5niccBf5Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;533&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这种情况下，我一般简历都懒得打开看。有时候我还会收到微信，询问，“我给你发了邮件，怎么没反应啊？” 。关键微信他也没改名，也没说ta是谁。我咋知道你是谁发了啥邮件？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这也难怪，很多时候，候选人发了求职简历后，石沉大海。这样的方式，不石沉大海才怪！&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们发送邮件最起码的“礼貌”还是要有的吧？简历命名格式建议“姓名-学校-岗位.pdf” 或 ”姓名-目前公司-岗位.pdf”，真的没必要太花哨，请用标准的PDF格式（或者Word），确保导入系统能正确被识别（一般花哨的pdf系统都不认识）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在陈述自己的技能栈、工作经验时要做到逻辑清晰，描述工作成果的时候，最好是要有数据支撑，比如，经过系统优化，性能提高了20%等等。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;另外，我们还是要注意一些“老生常谈”的细节，比如最好简历没错别字呀。也有遇到，一个人发个简历就发了两三遍的，要么忘了附件，要么简历发错了，岗位发错了等等。不是常说“&lt;span&gt;细节决定成败&lt;/span&gt;”么？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我现在帮人内推，会直接给你一个标准（具体标准，公众号后台回复“阿里内推”），本来也是无偿帮忙提供一个内推渠道，但即便这样，也还是有很多人都不按照要求，不尊重别人的劳动成果。如果没按照要求的，一律拒绝。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;没有主动投递简历，也会接到面试邀请？&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;不知道你有没有经历过这种场景，明明我没有投递简历，可为啥还是会经常收到电话说是否看机会。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我经常收到这样的电话，最多的肯定是猎头了；然后就是各大公司的 HR；在阿里的话，就是对应部门的技术同学（这一点可能和其他公司不一样）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;猎头不用说了，有自己的渠道来源，能拿到你的联系方式。&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;提醒大家，千万不要泄露同事信息，被揪出来，后果很严重。&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;大公司 HR，可能是你之前投递过他们公司，他们可能从公司内部系统里面捞到你，于是就问问。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;阿里也一样，内部有简历库，只要你的简历曾经到过阿里（不管校招、猎头、内推等），系统都会有记录，每次面试记录都有。然后各个用人部门（一般不是HR），就会定期去简历库捞捞自己感兴趣的简历，碰碰运气。&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;因此，不要太频繁去投递简历，每次面试过程中实事求是，不要投机取巧，耍小花样。（点到为止，不能再多说了）&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;经常收到同一个公司不同部门的电话，肯定也很烦人。这一点，公司内部也在逐渐优化整个招聘系统的流程，能看到一些进步。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比如校招流程、内推流程，明显跟以前有较大的改进，对候选人更友好了，比如校招支持多个志愿。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;在线笔试&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;下面，聊聊在线笔试流程。其实，早在&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI3OTUzMzcwNw==&amp;amp;mid=2247493510&amp;amp;idx=1&amp;amp;sn=feeee082aef9a29747fc618cb7ca6c18&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;这篇文章&lt;/a&gt;中，我已经给大家介绍过了。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;需要说明的是，不同部门，不同面试官可能用到的工具或形式不一样。本文提到的是公司系统推荐工具。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;一般笔试前，面试官会通过公司的代码评测系统中，给候选人邮箱发送一份测评邀请。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.27710843373493976&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ZMXDhhGnYibu0eXyqAP5FvS55AiabLqH6wpVbrv6HUlbibm2fZgjoiaz4bFVNMCPsyPk1HeJTR8WurwWzY8Qsmx0lA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1328&quot;/&gt;&lt;figcaption&gt;候选人收到的测评邀请&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;点击链接，会进入到在线编程系统，如下图所示：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.627906976744186&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ZMXDhhGnYibu0eXyqAP5FvS55AiabLqH6wqQwnpWEJ1QNjk4hiaYTmPbrhMWOh4eoISR8b7VYbyMJ9Ur0lZEfvCZQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1978&quot;/&gt;&lt;figcaption&gt;阿里在线测评系统&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;该系统有内置系统题库（如下图，5000+道题目，不过我很少看），其实每个面试官基本都有自己的小题库的。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.621859296482412&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ZMXDhhGnYibu0eXyqAP5FvS55AiabLqH6wqumIIKIprs3eIKgeUNnPnkwnIqGokO2WyeAyfGpnu3m5nxOdGXKXkA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1592&quot;/&gt;&lt;figcaption&gt;阿里面试题库&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;根据面试官的风格，可能会选择开启视频，进行视频面试。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;候选人可点击左上角切换不用的编程语言，甚至可以切换到 &quot;vim&quot; 模式进行编程。&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;这里补充分享下石头&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI3OTUzMzcwNw==&amp;amp;mid=2247487786&amp;amp;idx=1&amp;amp;sn=842202cc524477ec1546b4747bdbf1a8&amp;amp;chksm=eb4710cedc3099d86953451729c7f569866e6e58abbbec5c7ebe7423d12e1f11e189bb417f80&amp;amp;scene=21&amp;amp;cur_album_id=1514114646956425216#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;使用的 vim 插件列表&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.5550122249388753&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ZMXDhhGnYibu0eXyqAP5FvS55AiabLqH6wWh7cbajgVXjG90nMFKTgWuZP721pHZXkEufFWdfXwhOwY0Y7EVIqgA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;818&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;另外，提醒下大家，这个系统只是实时在线共享编辑，并不像 leetcode 刷题网站那样能直接编译提交。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;面试官其实也主要是&lt;span&gt;考察思路&lt;/span&gt;，&lt;span&gt;代码编写风格&lt;/span&gt;等，并不是说非得让候选人写出能够 AC 的代码。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;面试过程注意事项&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;面试时，在介绍自己的项目经验的时候，可以尝试用 “STAR行为面试法” 来回答：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Situation、Task：项目当时的背景是怎样的，自己的任务和目标是啥？&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Action：要解决上述问题和实现目标，自己具体做了什么事情，怎样做的，为什么要这样做？&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Result：最  终成功是怎样的？在描述成果时，最好有数据能够支撑。&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;技术面会涉及哪些方面？&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;整体来讲，不同面试官可能问到的问题都不一样，题目难易程度，就看运气了。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在线 coding 的笔试题必不可少，在前文也给予了说明。不过，整体来讲，我认为阿里在 coding 这块的难度（或者说在算法上的要求）还是比比如宇宙条等难度低一些。（以上基于石头哥面试后端开发岗，针对笔试环节的感受）&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在线笔试不用多说，刷题训练即可，社招可能没有太多时间大量刷题，但面试前刷点题目练练手，还是有必要的。推荐一份不错的 leetcode 刷题笔记，在公众号后台回复 “leetcode01” 获取。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;笔试过程中，多注意沟通。在 &lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI3OTUzMzcwNw==&amp;amp;mid=2247493510&amp;amp;idx=1&amp;amp;sn=feeee082aef9a29747fc618cb7ca6c18&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;面阿里P7，竟问这么简单的题目？&lt;/a&gt; 中，我也强调了，面试官在考察某道笔试题目的时候，并不是仅仅考察题目本身。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;是期望以笔试题目为契机，考察候选人在解决实际问题时候的沟通能力，逻辑思维方式等。当然最后也会看看实实在在的 Code，从编码过程中看候选人的编程习惯，编码风格等等。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;另外，不管怎样，你自己简历上的东西肯定是重点考察对象。多整理，理清自己的思路，介绍项目时强调你自己的贡献（前文提到的“STAR行为面试法”）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;面试八股文会考吗？&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;可能会的，不同面试官可能风格不一样，有的可能不会很明显直接问你 “HashMap 是怎么实现的？”&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在回答这类问题的时候，我建议你如果能结合自身项目的具体case 分析，肯定会有加分的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;举个栗子哈。涉及 &quot;Java Full GC&quot; 这个话题时，你能结合某次生产的 “事故” 讲讲这个问题发生症状，当时如何解决的，如何定位根因等等？&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;遇到不会的题目怎么办？&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;遇到不会的题目，不用紧张，可以尝试让面试官给予提示。多和面试官沟通，沟通能力也是在考察范围内的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;候选人有时候其实可以掌握主动权，比如“这个题目我虽然不太清楚，但类似的 XX，我很了解，……”。类似的套路，其实在我之前的推文中也多次说道，比如这篇中 —— &lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI3OTUzMzcwNw==&amp;amp;mid=2247491116&amp;amp;idx=1&amp;amp;sn=676c6dab8dbb095a31e6fb45cb31a828&amp;amp;chksm=eb471fc8dc3096dea5f1a8600fdc9163d3ce228e640ddb93fad310d44e739f9d719d0722efd7&amp;amp;token=1903173876&amp;amp;lang=zh_CN&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;一个读者大佬精心总结的阿里、腾讯、宇宙条大厂 Offer 面经和硬核面试攻略&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;实在不行，直接回答 “这题我不会，换一道吧” 即可，也不用不懂装懂强行回答。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;作为成年人，我们知道最好不要在面试过程中和面试官起正面冲突。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;曾经，我在某家公司面试的时候，遇到过候选人怒怼题目，甚至还些许带些人身攻击，霸气离场。怼题目也就算了，还人身攻击。这种人，怎么说呢，素质堪忧。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;因为，面试本来就是一个双向选择，面试官和候选人双方平等交流、互相尊重的过程。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;一个优秀的面试官应该是要善于挖掘候选人的优点，而不是显示自己有多牛X，你提前准备的题目，就那么几道，换候选人提前准备还不是一样。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;不过，程序员最基础的编码能力，我们还是需要具备的，这一点我在这篇文章中也多次强调 —— &lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI3OTUzMzcwNw==&amp;amp;mid=2247484698&amp;amp;idx=1&amp;amp;sn=03cc4636e7ee7364a85788a98809cc03&amp;amp;chksm=eb4704fedc308de8efd48ab9aed4fd1ddee5665d8e76d0d3767c1f704eac8b15a83e450a08f1&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;从一道面试题谈谈一线大厂码农应该具备的基本能力&lt;/a&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;某些问题能拒绝回答吗？&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;遇到不能回答，或涉及商业机密的问题怎么办？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;其实，面试官手册中都明确说明，面试官只能提问与岗位要求和候选人任职资格相关的问题。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比如，当面试官问你 “你们用户数多少？”&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果这确实是你公司相关商业机密数据，你可以直接拒绝回答。“不好意思，这一块数据，不太方便透露”。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;技术面试官问你 “你工资多少？”&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在面试流程中，其实是严禁面试官直接问你工资等个人隐私问题的。一般，谈薪流程都是由 HR 进行的。当然，这个你可以自己把握评判，比如在有的公司，这个面试官就是给你发 Offer 的人，他可能希望得到这数据进行判断。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;不过，我们总不能啥问题都说 “这个数据涉及公司商业机密，不方便回答” 吧？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比如，你这个系统平时负载如何，QPS 大概多少？你拿这个回应，就有点牵强了。（确实是商业机密除外）&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;HR 面要注意什么？&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;据我所知，多数情况下，一般公司的 HR 面试不会刷人。即便 HR 面试没通过，也很有可能是用人业务部门在有限 hc 的情况下，发现了更合适的候选人。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但阿里的 HR 在招人这块，权利还蛮大的，也具有一票否决权。即便前面技术（业务）面试都通过，但 HR 面试可能还是会刷掉，具体原因不好说，比如不符合公司文化？没有阿里味？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这块儿，其实没有特别好的建议，就看&lt;span&gt;缘分&lt;/span&gt;吧。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;咱们在 HR 面试过程中，表现真诚，如实的回答相关问题，只要没什么硬伤，一般来说，问题不太大。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;一个部门面挂了还能继续面其他部门吗&lt;/span&gt;？&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这是一个非常常见的问题。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;一般来讲，面完一个部门后，可以继续面试其他部门的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;一个部门面试没通过，在另外的部门能面试通过吗？这个是有可能的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;之前在&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI3OTUzMzcwNw==&amp;amp;mid=2247489516&amp;amp;idx=1&amp;amp;sn=2caba785992af70305ff15f4a740af4a&amp;amp;chksm=eb471608dc309f1ee4349dbedc0ff47a1670a804cba71818534ac3472fa12b183334397ea47b&amp;amp;token=196265126&amp;amp;lang=zh_CN&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;我的文章&lt;/a&gt;中也说过，一般而言，公司招聘都是一个萝卜一个坑，萝卜太大或太小都不一定合适。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;因为每个部门/每个岗位对候选人的要求、能力、技术栈等需求是不一样的，且每个面试官可能看中的点也可能不一样（说白了，面试确实也有一定运气成分）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当然，这并不能说明我们可以无限制重复下去。因为每一次面试记录，都会被面试官完整的记录下来。也许后面的面试官看到你前面的面试评价，就直接拒绝了。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你多一次尝试，且拒绝后，简历通过率（或者一面通过率）就下降，到后面，很有可能根据这个通过率数字就被拒绝了（甚至简历都不会被看到）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;因此，还是建议我们“&lt;span&gt;打有准备之仗&lt;/span&gt;”，好好准备，珍惜自己每一次面试机会。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;背调注意事项&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果前面的面试流程通过，HR 谈薪等也满足预期后面就是 Offer、背调、体检、入职了。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;背调一般会让第三方背调公司进行，有的公司调查得还挺详细的。我在 XX 公司的时候招人有看过候选人的背调报告，不过整体上来，主要是核实：工作经历（包括起止时间），是否属实；之前是否有违规（违法）记录；可能还会问你在之前公司表现如何呀、离职原因呀等等。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;开始背调一般需要你提供之前公司的直属领导和HR的联系方式，背调公司可能会说仅参考你给的信息，访谈对象可能不仅限于你提供的人的联系方式。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你也没必要“造假”，说担心前面领导说你坏话啊等等，大家都是打工人，不至于。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如实提供相应信息就好，若耍小聪明，被发现了反而不太好。只要你别简历造假，比如学历造假，工作经验造假等等。背调，一般不会有什么幺蛾子的。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;后记&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;从投递简历到最后 Offer，整个流程算下来，耗时不短。比较快的，可能1个月之内能搞定，慢的就说不准了。我想，这也是招聘流程应该改进的地方吧。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;关于面试相关话题更多的内容可以&lt;a href=&quot;https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzI3OTUzMzcwNw==&amp;amp;action=getalbum&amp;amp;album_id=1551696963291693061&amp;amp;scene=173&amp;amp;subscene=&amp;amp;sessionid=undefined&amp;amp;enterid=0&amp;amp;from_msgid=2247493510&amp;amp;from_itemidx=1&amp;amp;count=3&amp;amp;nolastread=1#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;点击这里&lt;/a&gt;访问。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;公众号改变了推文规则，为了保证每周的最新分享能够及时送达到你，请按照下图添加星标。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;2.076923076923077&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZMXDhhGnYibu0eXyqAP5FvS55AiabLqH6w34eibMRyPH7hjgkASINwnmls4ibJs0pYwsRNWLAklyqEtjxDMqg1ljdw/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;325&quot;/&gt;&lt;figcaption&gt;星标方法&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;期待能够和大家积极交流讨论，一起学习、共同进步。&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>e2fe8eae24cdc22a1abee35a079ddc23</guid>
<title>听说过对 Go map 做 GC 吗？</title>
<link>https://toutiao.io/k/e6sgdfa</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在 Golang 中的 map 结构，在删除键值对的时候，并不会真正的删除，而是标记。那么随着键值对越来越多，会不会造成大量内存浪费？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;首先答案是会的，很有可能导致 OOM，而且针对这个还有一个讨论：https://github.com/golang/go/issues/20135。大致的意思就是在很大的 &lt;code&gt;map&lt;/code&gt; 中，&lt;code&gt;delete&lt;/code&gt; 操作没有真正释放内存而可能导致内存 OOM。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以一般的做法：就是 &lt;strong&gt;重建 map&lt;/strong&gt;。而 &lt;code&gt;go-zero&lt;/code&gt; 中内置了 &lt;code&gt;safemap&lt;/code&gt; 的容器组件。&lt;code&gt;safemap&lt;/code&gt; 在一定程度上可以避免这种情况发生。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;那首先我们看看 &lt;code&gt;go&lt;/code&gt; 原生提供的 &lt;code&gt;map&lt;/code&gt; 是怎么删除的？&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;原生map删除&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;1&lt;/span&gt;  &lt;span&gt;package&lt;/span&gt; main&lt;br/&gt;&lt;span&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span&gt;3&lt;/span&gt;  &lt;span&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt; {&lt;br/&gt;&lt;span&gt;4&lt;/span&gt;      m := &lt;span&gt;make&lt;/span&gt;(&lt;span&gt;map&lt;/span&gt;[&lt;span&gt;int&lt;/span&gt;]&lt;span&gt;string&lt;/span&gt;, &lt;span&gt;9&lt;/span&gt;)&lt;br/&gt;&lt;span&gt;5&lt;/span&gt;      m[&lt;span&gt;1&lt;/span&gt;] = &lt;span&gt;&quot;hello&quot;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;6&lt;/span&gt;      m[&lt;span&gt;2&lt;/span&gt;] = &lt;span&gt;&quot;world&quot;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;7&lt;/span&gt;      m[&lt;span&gt;3&lt;/span&gt;] = &lt;span&gt;&quot;go&quot;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span&gt;9&lt;/span&gt;      v, ok := m[&lt;span&gt;1&lt;/span&gt;]&lt;br/&gt;&lt;span&gt;10&lt;/span&gt;     _, _ = fn(v, ok)&lt;br/&gt;&lt;span&gt;11&lt;/span&gt;&lt;br/&gt;&lt;span&gt;12&lt;/span&gt;     &lt;span&gt;delete&lt;/span&gt;(m, &lt;span&gt;1&lt;/span&gt;)&lt;br/&gt;&lt;span&gt;13&lt;/span&gt;  }&lt;br/&gt;&lt;span&gt;14&lt;/span&gt;&lt;br/&gt;&lt;span&gt;15&lt;/span&gt; &lt;span&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;fn&lt;/span&gt;&lt;span&gt;(v &lt;span&gt;string&lt;/span&gt;, ok &lt;span&gt;bool&lt;/span&gt;)&lt;/span&gt; &lt;span&gt;(&lt;span&gt;string&lt;/span&gt;, &lt;span&gt;bool&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt; {&lt;br/&gt;&lt;span&gt;16&lt;/span&gt;     &lt;span&gt;return&lt;/span&gt; v, ok&lt;br/&gt;&lt;span&gt;17&lt;/span&gt; }&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;测试代码如上，我们可以通过 &lt;code&gt;go tool compile -S -N -l testmap.go | grep &quot;CALL&quot;&lt;/code&gt; ：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;0x0071&lt;/span&gt; &lt;span&gt;00113&lt;/span&gt; (test/testmap.&lt;span&gt;go&lt;/span&gt;:&lt;span&gt;4&lt;/span&gt;)        CALL    runtime.makemap(SB)&lt;br/&gt;&lt;span&gt;0x0099&lt;/span&gt; &lt;span&gt;00153&lt;/span&gt; (test/testmap.&lt;span&gt;go&lt;/span&gt;:&lt;span&gt;5&lt;/span&gt;)        CALL    runtime.mapassign_fast64(SB)&lt;br/&gt;&lt;span&gt;0x00ea&lt;/span&gt; &lt;span&gt;00234&lt;/span&gt; (test/testmap.&lt;span&gt;go&lt;/span&gt;:&lt;span&gt;6&lt;/span&gt;)        CALL    runtime.mapassign_fast64(SB)&lt;br/&gt;&lt;span&gt;0x013b&lt;/span&gt; &lt;span&gt;00315&lt;/span&gt; (test/testmap.&lt;span&gt;go&lt;/span&gt;:&lt;span&gt;7&lt;/span&gt;)        CALL    runtime.mapassign_fast64(SB)&lt;br/&gt;&lt;span&gt;0x0194&lt;/span&gt; &lt;span&gt;00404&lt;/span&gt; (test/testmap.&lt;span&gt;go&lt;/span&gt;:&lt;span&gt;9&lt;/span&gt;)        CALL    runtime.mapaccess2_fast64(SB)&lt;br/&gt;&lt;span&gt;0x01f1&lt;/span&gt; &lt;span&gt;00497&lt;/span&gt; (test/testmap.&lt;span&gt;go&lt;/span&gt;:&lt;span&gt;10&lt;/span&gt;)       CALL    &lt;span&gt;&quot;&quot;&lt;/span&gt;.fn(SB)&lt;br/&gt;&lt;span&gt;0x0214&lt;/span&gt; &lt;span&gt;00532&lt;/span&gt; (test/testmap.&lt;span&gt;go&lt;/span&gt;:&lt;span&gt;12&lt;/span&gt;)       CALL    runtime.mapdelete_fast64(SB)&lt;br/&gt;&lt;span&gt;0x0230&lt;/span&gt; &lt;span&gt;00560&lt;/span&gt; (test/testmap.&lt;span&gt;go&lt;/span&gt;:&lt;span&gt;7&lt;/span&gt;)        CALL    runtime.gcWriteBarrier(SB)&lt;br/&gt;&lt;span&gt;0x0241&lt;/span&gt; &lt;span&gt;00577&lt;/span&gt; (test/testmap.&lt;span&gt;go&lt;/span&gt;:&lt;span&gt;6&lt;/span&gt;)        CALL    runtime.gcWriteBarrier(SB)&lt;br/&gt;&lt;span&gt;0x0252&lt;/span&gt; &lt;span&gt;00594&lt;/span&gt; (test/testmap.&lt;span&gt;go&lt;/span&gt;:&lt;span&gt;5&lt;/span&gt;)        CALL    runtime.gcWriteBarrier(SB)&lt;br/&gt;&lt;span&gt;0x025c&lt;/span&gt; &lt;span&gt;00604&lt;/span&gt; (test/testmap.&lt;span&gt;go&lt;/span&gt;:&lt;span&gt;3&lt;/span&gt;)        CALL    runtime.morestack_noctxt(SB)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;执行第12行的 &lt;code&gt;delete&lt;/code&gt;，实际执行的是 &lt;code&gt;runtime.mapdelete_fast64&lt;/code&gt;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这些函数的参数类型是具体的 &lt;code&gt;int64&lt;/code&gt;，&lt;code&gt;mapdelete_fast64&lt;/code&gt; 跟原始的 &lt;code&gt;delete&lt;/code&gt; 操作一样的，所以我们来看看 &lt;code&gt;mapdelete&lt;/code&gt;。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;mapdelete&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;em&gt;长图预警！！！&lt;/em&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;1.5793478260869565&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UyIojWicPOg18DVquicTK2oEwnRoAqTUsTtuBvoB0qrjEFRqs0CI2pHETdASbXaDMJXT995suRiaUdicE27Arq1fyw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1840&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;大致代码分析如上，具体代码就留给大家去阅读了。其实大致过程：&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;写保护，防止并发写&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;查询要删除的 &lt;code&gt;key&lt;/code&gt; 是否存在&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;存在则对其标志做删除标记&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;count--&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以你在大面积删除 &lt;code&gt;key&lt;/code&gt; ，实际 &lt;code&gt;map&lt;/code&gt; 存储的 &lt;code&gt;key&lt;/code&gt; 是不会删除的，只是标记当前的key状态为 &lt;code&gt;empty&lt;/code&gt;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;其实出发点，和 &lt;code&gt;mysql&lt;/code&gt; 的标记删除类似，防止后续会有相同的 &lt;code&gt;key&lt;/code&gt; 插入，省去了扩缩容的操作。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但是这个对有些场景是不妥的，如果开发者在未来时间内都不会再插入相同的 &lt;code&gt;key&lt;/code&gt; ，很可能会导致 &lt;code&gt;OOM&lt;/code&gt;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以针对以上情况，&lt;code&gt;go-zero&lt;/code&gt; 开发了 &lt;code&gt;safemap&lt;/code&gt; 。下面我们看看 &lt;code&gt;safemap&lt;/code&gt; 是如何避免这个问题的？&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;safemap&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;直接从操作 &lt;code&gt;safemap&lt;/code&gt; 中分析为什么要这么设计：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.7592592592592593&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UyIojWicPOg18DVquicTK2oEwnRoAqTUsTTmprIxtibrvyD6gRqRHE7tT2fWicGW43t1RYkZqz3Sb4IjSHFutwH5xQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1728&quot;/&gt;&lt;/figure&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;预设一个 &lt;strong&gt;删除阈值&lt;/strong&gt;，如果触发会放到一个新预设好的 &lt;code&gt;newmap&lt;/code&gt; 中&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;两个 &lt;code&gt;map&lt;/code&gt; 是一个整体，所以 &lt;code&gt;key&lt;/code&gt; 只能留一份&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以为什么要设置两个 &lt;code&gt;map&lt;/code&gt; 就很清楚了：&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;dirtyOld&lt;/code&gt; 作为存储主体，如果 &lt;code&gt;delete&lt;/code&gt; 操作达到阈值，则会触发迁移。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;dirtyNew&lt;/code&gt; 作为暂存体，会在到达阈值时，存放部分 &lt;code&gt;key/value&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以在迁移操作时，我们需要做的就是：&lt;strong&gt;将原先的 &lt;code&gt;dirtyOld&lt;/code&gt; 清空，存储的 key/value 通过 for-range 重新存储到 &lt;code&gt;dirtyNew&lt;/code&gt;，然后将 &lt;code&gt;dirtyNew&lt;/code&gt; 指向 &lt;code&gt;dirtyOld&lt;/code&gt;&lt;/strong&gt;。&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;可能会有疑问：&lt;em&gt;不是说 &lt;code&gt;key/value&lt;/code&gt; 没有删除吗，只是标记了 &lt;code&gt;tophash=empty&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;&lt;p&gt;其实在 &lt;code&gt;for-range&lt;/code&gt; 过程中，会过滤掉 &lt;code&gt;tophash &amp;lt;= emptyOne&lt;/code&gt; 的 key&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这样就实现了不需要的 key 不会被加入到 &lt;code&gt;dirtyNew&lt;/code&gt;，进而不会影响 &lt;code&gt;dirtyOld&lt;/code&gt;。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.8576675849403123&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UyIojWicPOg18DVquicTK2oEwnRoAqTUsTXBftaK3e3QAZPp4QwbMNJadKRI4ibX3dhKQh6zdNHBJhwcJQuQhicg4g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2178&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这其实也就是垃圾回收的年老代和新生代的概念。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;更多实现细节，可以查看源码！&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;项目地址&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;https://github.com/tal-tech/go-zero&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;欢迎使用 go-zero 并 &lt;strong&gt;star&lt;/strong&gt; 支持我们！&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;微信交流群&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;关注『&lt;strong&gt;微服务实践&lt;/strong&gt;』公众号并点击 &lt;strong&gt;交流群&lt;/strong&gt; 获取社区群二维码。&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;Mzg2ODU1MTI0OA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/UyIojWicPOg0AVP4WUKYKGFYXampCduKtGgGQgTibaEGvORjtq7icd3EOiaSMb6LeZY2k77dJFOibf914CUs3JTwMLA/0?wx_fmt=png&quot; data-nickname=&quot;微服务实践&quot; data-alias=&quot;zeromicro&quot; data-signature=&quot;go-zero 是一个集成了各种工程实践的 web 和 rpc 框架。通过弹性设计保障了大并发服务端的稳定性，经受了充分的实战检验。&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;/section&gt;
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>4c9aa7c0c4803f4cb78f10a432aee530</guid>
<title>[译] 终版 API 正式到来：Android 12 Beta 3 发布</title>
<link>https://toutiao.io/k/3yve2ze</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;RichText ztext Post-RichText&quot;&gt;&lt;p&gt;&lt;i&gt;作者 / Dave Burke, VP of Engineering&lt;/i&gt;&lt;/p&gt;&lt;p&gt;每个月，我们都在努力让 Android 12 更接近其最终形态，包括创新功能、&lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//material.io/blog/announcing-material-you&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;更适合用户的新版 UI&lt;/a&gt;&lt;/b&gt;、性能提升、隐私增强、安全改进等等。许多人已经通过我们的 Beta 计划在 Android 12 上进行开发和测试，再次感谢大家一直以来分享的反馈！&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-2df5c13ef8d3d71e5b06ce9041f0b905_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;183&quot; data-rawheight=&quot;186&quot; class=&quot;content_image&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;183&quot; data-rawheight=&quot;186&quot; class=&quot;content_image lazy&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-2df5c13ef8d3d71e5b06ce9041f0b905_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;不过现在离这个版本的正式发布还有很多事情要做。今天我们带来 Android 12 的第三个 Beta 版供大家体验。除了滚屏截图、隐私指示器 API 和增强的自动旋转等更新之外，Beta 3 还包含了最终版本的 Android 12 API 和官方 SDK。有了这些，您就可以在平台稳定性里程碑 (会在 Beta 4 时达成) 到来之前测试应用并进行更新。现在就让您的应用做好准备吧！&lt;/p&gt;&lt;p&gt;今天您就可以在 Pixel 设备上通过 OTA 更新 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.google.com/android/beta&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;开始体验 Android 12 Beta 3&lt;/a&gt;&lt;/b&gt;，如果您之前参加过 Beta 测试，会自动获得更新。您还可以在我们的设备制造商合作伙伴 (如夏普和 TCL) 的若干 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/about/versions/12/devices&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;指定设备&lt;/a&gt;&lt;/b&gt; 上体验 Android 12 Beta 3。&lt;/p&gt;&lt;p&gt;有关 Android 12 的详细信息以及如何开始开发，请访问 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/about/versions/12&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Android 12 开发者网站&lt;/a&gt;&lt;/b&gt;。&lt;/p&gt;&lt;h3&gt;&lt;b&gt;Beta 3 更新一览&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;Beta 3 包含许多改善功能、用户体验和性能的更新。下面介绍其中几个亮点。&lt;/p&gt;&lt;p&gt;&lt;b&gt;滚屏截图&lt;/b&gt; - 为了让大家更容易保存和分享滚屏内容，我们增加了滚屏截图功能。从 Beta 3 开始，当用户对可滚动的内容进行截图时，会看到一个 &quot;截取更多&quot; 的按钮，点击即可将截图范围扩展到全部内容，还可以调整裁切范围。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-99c771919f36a60dd49f111de42a61f2_b.jpg&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1126&quot; data-rawheight=&quot;1146&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic3.zhimg.com/v2-99c771919f36a60dd49f111de42a61f2_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1126&quot; data-rawheight=&quot;1146&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic3.zhimg.com/v2-99c771919f36a60dd49f111de42a61f2_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-99c771919f36a60dd49f111de42a61f2_b.jpg&quot;/&gt;&lt;figcaption&gt;△ 在设置 (Settings) 中进行滚屏截图&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;滚屏截图对大多数应用来说都是开箱即用的: 如果您的应用使用标准的基于视图 (View-based) 的界面，则无需任何更改。对于不基于视图的或高度定制的应用界面以及 UI 工具包，我们将提供一个新的 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/android/view/ScrollCaptureCallback&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;ScrollCapture API&lt;/a&gt;&lt;/b&gt; 来支持滚屏截图。系统会通过这个 API 告知应用滚屏截图的请求，并提供一个 Surface，以供您在其中绘制 UI。我们将继续对滚屏截图进行迭代，在 Beta 4 中，您将看到更多默认支持此功能的场景，包括对 ListView 的支持。我们也在努力为更多的内容 (如网页内容) 提供支持。请务必和我们分享您的使用感想！&lt;/p&gt;&lt;p&gt;&lt;b&gt;设备端搜索&lt;/b&gt; - 我们在 Beta 3 进一步强化了对 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/android/app/appsearch/package-summary&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;AppSearch&lt;/a&gt;&lt;/b&gt; 的平台支持，AppSearch 是一个全新的高性能设备端搜索引擎。通过 AppSearch，应用可以对结构化数据进行索引，并通过内置的全文搜索功能进行搜索，还可以使用高效索引和检索、多语言支持和相关性排序等原生功能。&lt;/p&gt;&lt;p&gt;AppSearch 有两种使用方式: 一种是通过新的 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/jetpack/androidx/releases/appsearch&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;AppSearch Jetpack 库&lt;/a&gt;&lt;/b&gt; 提供本地索引供您的应用使用，且向前兼容；另一种则是针对整个系统进行维护的中央索引，支持 Android 12 及以后的版本。当您采用中央索引方式时，系统 UI 可以显示您的应用的数据，除非您选择不使用此功能。此外，您可以与其他应用安全地共享数据，允许他们同时搜索自己的和您的应用的数据。请访问 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/guide/topics/search/appsearch&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;官方文档&lt;/a&gt;&lt;/b&gt; 了解详细信息。&lt;/p&gt;&lt;p&gt;&lt;b&gt;WindowInsets 中的隐私指示器 API&lt;/b&gt; - 在 Beta 2 中，我们在状态栏里增加了隐私指示器，显示应用何时使用设备的摄像头或麦克风。由于指示器会在应用处于沉浸式模式时显示，并有可能覆盖控件或内容，因此应用需要知道指示器可以在哪里绘制，并做出必要的调整，以避免有用的内容被指示器覆盖。在 Beta 3 中，我们为 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/android/view/WindowInsets&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;WindowInsets&lt;/a&gt;&lt;/b&gt; 添加了新的 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/android/view/WindowInsets%23getPrivacyIndicatorBounds%28%29&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;隐私指示器 (privacy indicator) API&lt;/a&gt;&lt;/b&gt;，让您知晓指示器的最大呈现范围以及它们在屏幕上的相对位置，且兼顾当前的屏幕方向和语言设置。请访问 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/about/versions/12/behavior-changes-all%3Fhl%3Den%23mic-camera-indicators&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;官方文档 (英文)&lt;/a&gt;&lt;/b&gt; 了解详细信息:&lt;/p&gt;&lt;p&gt;&lt;b&gt;企业可配置的摄像头和麦克风开关&lt;/b&gt; - 在 Beta 2 中，我们引入了新的开关，让用户能够立即关闭所有应用对设备麦克风和摄像头的访问。我们现在让企业管理员可以访问该功能，他们可以在其全权管理的设备上限制对这些传感器的使用。请访问 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/android/os/UserManager.html%23DISALLOW_CAMERA_TOGGLE&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;官方文档&lt;/a&gt;&lt;/b&gt; 了解详细信息。&lt;/p&gt;&lt;p&gt;&lt;b&gt;为与 CDM 配对的应用启动前台服务提供新的权限&lt;/b&gt; - 为了更好地支持设备配套应用执行核心功能，同时向系统提供透明度，与 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/guide/topics/connectivity/companion-device-pairing&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;配套设备管理器 (Companion Device Manager, CDM)&lt;/a&gt;&lt;/b&gt; 配对的应用可以通过声明一个新的普通权限，从后台启动前台服务。请访问 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/guide/topics/connectivity/companion-device-pairing&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;官方文档&lt;/a&gt;&lt;/b&gt; 了解详细信息。&lt;/p&gt;&lt;p&gt;&lt;b&gt;更好用、更快速的自动旋转&lt;/b&gt; - 我们增强了 Android 的自动旋转功能，通过使用前置摄像头来更准确地识别何时旋转屏幕。让您躺在沙发上或床上使用设备时获得更好的体验。对于开发者来说，这意味着自动旋转将为用户提供更好的体验，只需用户在系统设置中打开此功能即可。增强的自动旋转功能由我们最近公布的 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//blog.google/technology/safety-security/our-work-keep-you-safe/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Private Compute Core&lt;/a&gt;&lt;/b&gt; 提供支持，因此图像永远不会被存储到设备中，也不会被发送出设备。在 Beta 3 中，这项功能适用于 Pixel 4 及更新的 Pixel 设备。&lt;/p&gt;&lt;p&gt;为了使屏幕旋转的速度在所有设备上尽可能地快，我们还优化了动画和重绘，并增加了一个机器学习驱动的手势检测算法。通过这些优化，基础自动旋转功能的延迟已经减少了 25%，而加入人脸检测功能的旋转则建立在这些改进之上。欢迎大家亲身体验改进过的自动旋转功能，并和我们分享使用体验。&lt;/p&gt;&lt;p&gt;&lt;b&gt;Android 12 的游戏支持&lt;/b&gt; - 通过 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/games/gamemode&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;游戏模式 (Game Mode) API&lt;/a&gt;&lt;/b&gt;，您可以在玩家为游戏选择不同的性能配置时做出反应: 比如在漫长的通勤过程中节省电池消耗，或者通过性能模式获得最高的帧率。这些 API 将与即将推出的游戏仪表板整合，该仪表板提供了一层额外的控件，让玩家可以在游戏过程中快速进行关键实用功能的设置。游戏仪表板将于今年晚些时候在指定的若干设备上推出。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-14bfb402c58ad2f14895484444ab9a4e_b.gif&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1126&quot; data-rawheight=&quot;1030&quot; data-thumbnail=&quot;https://pic3.zhimg.com/v2-14bfb402c58ad2f14895484444ab9a4e_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic3.zhimg.com/v2-14bfb402c58ad2f14895484444ab9a4e_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1126&quot; data-rawheight=&quot;1030&quot; data-thumbnail=&quot;https://pic3.zhimg.com/v2-14bfb402c58ad2f14895484444ab9a4e_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic3.zhimg.com/v2-14bfb402c58ad2f14895484444ab9a4e_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-14bfb402c58ad2f14895484444ab9a4e_b.gif&quot;/&gt;&lt;figcaption&gt;△ Touchgrind BMX 在 Android 12 上的 &amp;amp;amp;quot;边玩边下&amp;amp;amp;quot; 体验&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;另外，&lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/games/distribute/play-as-you-download&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;边玩边下 (play as you download)&lt;/a&gt;&lt;/b&gt; 功能将允许游戏在安装过程中从后台下载游戏资源，从而让玩家更快地进入游戏:&lt;/p&gt;&lt;p&gt;请访问 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/about/versions/12&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Android 12 开发者网站&lt;/a&gt;&lt;/b&gt; 详细了解 Android 12 的新特性&lt;/p&gt;&lt;h2&gt;&lt;b&gt;终版 API 和 SDK&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;我们在过去数个月内一直致力于完成 Android 12 的 API。今天随着 Beta 3 的发布，这套 API 也正式来到大家面前，同时发布的还有正式版的 API 等级 31 的 SDK。我们计划在 Beta 4 时全面抵达平台稳定性里程碑，届时不仅是 API 接口，所有面向应用的系统行为、非 SDK 接口列表都将最终确定。&lt;/p&gt;&lt;p&gt;如果您是针对 Android 12 API 编译应用，我们建议使用今天发布的版本更新您的开发环境，并使用正式版 SDK 和最新的工具重新编译您的应用。&lt;/p&gt;&lt;h2&gt;&lt;b&gt;应用兼容性&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;许多早期体验用户和开发者已经在 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/about/versions/12/devices&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Pixel 和其他设备&lt;/a&gt;&lt;/b&gt; 上开始体验 Android 12 Beta，现在是时候确保您的应用兼容，以让他们尽情使用了！&lt;/p&gt;&lt;p&gt;要在 Beta 3 上进行应用兼容性测试，请在运行 Android 12 Beta 的设备或模拟器上，通过 Google Play 或其他渠道安装您的正式版应用。请测试应用的所有流程，找出功能或 UI 上暴露的问题。请通过 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/about/versions/12/behavior-changes-all&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;行为变更清单&lt;/a&gt;&lt;/b&gt;来找出可能影响应用的潜在变更，从而确定测试重点。现在您无需升级应用的 targetSdkVersion，在解决所有发现的问题后，请尽快为您的 Android 12 Beta 用户发布应用的更新版本。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-a29fc76cd8cbdf95d0702683a2a6dcc4_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;789&quot; data-rawheight=&quot;180&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic1.zhimg.com/v2-a29fc76cd8cbdf95d0702683a2a6dcc4_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;789&quot; data-rawheight=&quot;180&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic1.zhimg.com/v2-a29fc76cd8cbdf95d0702683a2a6dcc4_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-a29fc76cd8cbdf95d0702683a2a6dcc4_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;正如之前提到的，随着下一个版本，即 Beta 4 的发布，Android 12 将抵达 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/about/versions/12/overview%23platform_stability&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;平台稳定性里程碑&lt;/a&gt;&lt;/b&gt;。届时，面向应用的系统行为、SDK/NDK API 和非 SDK 列表都将最终确定。您将可以进行最后的兼容性测试，并发布完全兼容的应用、SDK 或开发库。发布时间表详见 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/preview/overview&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;这里&lt;/a&gt;&lt;/b&gt;。&lt;/p&gt;&lt;h2&gt;&lt;b&gt;即刻开始体验 Android 12&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;不论您是想体验 Android 12 的功能、测试应用还是 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/about/versions/12/feedback&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;提交反馈&lt;/a&gt;&lt;/b&gt;，都可以从这次的 Beta 版开始。只需使用受支持的 Pixel 设备注册 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.google.com/android/beta&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;参加测试&lt;/a&gt;&lt;/b&gt;，即可通过无线 (OTA) 方式获得更新。要开始进行开发，请先安装并 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/about/versions/12/setup-sdk&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;设置 Android 12 SDK&lt;/a&gt;&lt;/b&gt;。&lt;/p&gt;&lt;p&gt;您也可以在参与 Android 12 开发者预览计划的顶级设备制造商合作伙伴 (如夏普和 TCL) 的设备上体验 Android 12 Beta 3。请访问 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/about/versions/12/devices&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;developer.android.google.cn/about/versions/12/devices&lt;/a&gt;&lt;/b&gt; 查看合作伙伴的完整列表。为了在更多设备上进行更广泛的测试，请通过 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//de%3C/b%3Eveloper.android.google.cn/about/versions/12/gsi-release-notes%3Fhl%3Den&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Android GSI 映像 (英语) &lt;/a&gt;来安装和体验 Android 12 Beta。如果您没有合适的设备，也可以在 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/about/versions/12/get%23on_emulator&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Android 模拟器&lt;/a&gt;&lt;/b&gt; 上进行测试。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Beta 3 也适用于 Android TV，您可以查看最新的功能，测试自己的应用，并尝试全新的 Google TV 体验。请前往 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/tv&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Android TV 开发者网站&lt;/a&gt;&lt;/b&gt; 了解更多信息并使用 ADT-3 开发者工具包上手开发。&lt;/p&gt;&lt;p&gt;请访问 &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/12&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Android 12 开发者网站&lt;/a&gt;&lt;/b&gt; 了解 Beta 版的详细信息。&lt;/p&gt;&lt;p&gt;您对产品的反馈及问题对我们非常重要，欢迎通过下方二维码向我们提交反馈。您的问题有可能出现在下一期的 FAQ 中并获得解答。感谢您的支持！&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-f727fd5138a63752915bf1bc0dab842b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1015&quot; data-rawheight=&quot;284&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic4.zhimg.com/v2-f727fd5138a63752915bf1bc0dab842b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1015&quot; data-rawheight=&quot;284&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic4.zhimg.com/v2-f727fd5138a63752915bf1bc0dab842b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-f727fd5138a63752915bf1bc0dab842b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>d8ed3ad17bbf736300d820b3a2c80b0d</guid>
<title>数据与广告（二十六）：知识迁移的 Embedding 应用，智能化定向的解药</title>
<link>https://toutiao.io/k/dp31lcv</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;section data-width=&quot;100%&quot; data-opacity=&quot;1&quot; data-rotate=&quot;0&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;作者·黄崇远&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;『数据虫巢』&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;全文共&lt;strong&gt;4348&lt;/strong&gt;字&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;题图ssyer.com&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;img data-cropselx1=&quot;0&quot; data-cropselx2=&quot;375&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;441&quot; data-ratio=&quot;1.3488888888888888&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/icr5FVCSvBqv1h652pMCLeoUNQPic84nhf89PdaLIMXOEcZbQXyiaIDIRLTpOwS5OjxwXvzvlVgHAqiaRZwzBFSQcA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;900&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;“&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; 效果广告后定向时代，虽有千般万难，我们一样还得解决定向智能的问题。&lt;strong&gt;&lt;span&gt;”&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;需要提前说明的是，这一篇会涉及到本系列之前聊过的不少相关话题，可能需要一定的前置了解，才更好的对于本篇文章需要解决的问题做好的理解。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;img data-ratio=&quot;0.7627118644067796&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/icr5FVCSvBqvMexxWOopOqLBDkK4OcleOe4f1s3S39xWsicbxtSq1O8sylvTAh0F7Dw1eBiaPAvLLWvHQ7COTvia3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;59&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;img data-ratio=&quot;1.0769230769230769&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/icr5FVCSvBqvMexxWOopOqLBDkK4OcleOj6rvROR3uPaBiaqickoY94Qh9tGA9vG7aWAiamgBOiag7cnialLkuvxk9Hw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;52&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;01&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;效果广告后定向时代&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;我们在上上一篇&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAxMjM2MTY0OQ==&amp;amp;mid=2650474728&amp;amp;idx=1&amp;amp;sn=3e2084a1f364b74d83ea543210b46166&amp;amp;chksm=83bca236b4cb2b20b1ff0fd4b8fc9db9aa1a5384fe2910c697f482cb7b873e194f358b44ddca&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;《数据与广告系列二十四：效果广告后定向时代如何逆流而上》&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;《数据与广告系列二十四：效果广告后定向时代如何逆流而上》&lt;/a&gt;中，有几个观点需要重新申明一下，偏于我们后续内容的开展。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;效果广告的oCPX状态是一个中间过渡状态，一个广告平台与广告主相互妥协的一种“临时”解决方案。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;目前应该说绝大部分不管是主流还是非主流的广告平台，都还做不到真正的CPA预估，当然广告主也大部分不愿为单纯的CPC买单。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;基于oCPX为主流的投放模式中，使用定向的情况下其大部分时候效果会优于不做任何限制的oCPX投放。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;所以，我们在上上一篇中提出的逻辑就是，智能定向加智能拓量的逻辑，智能定向解决初始流量精准圈选以及快速累积oCPX一阶段所需转化的问题，拓量来解决oCPX探测流量边界的问题。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;这样，即解决了初始效果的保证，又解决了oCPX的流量边界，不用过于担心pCVR模型探测流量的范围受限，又提供了一个较好的冷启动逻辑和平滑的流量扩展逻辑。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;在&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAxMjM2MTY0OQ==&amp;amp;mid=2650474440&amp;amp;idx=1&amp;amp;sn=618bfbcf0f82875cb660462066462902&amp;amp;chksm=83bcad16b4cb24006f267a116f292b86aa394dfecddf8a2fb8195a83aceb61ed5975933ef3e8&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;《数据与广告系列二十：oCPX大势下标签定向的发展演化》&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;《数据与广告系列二十：oCPX大势下标签定向的发展演化》&lt;/a&gt;一文中，我们有提到过，oCPX大势所趋之下，并不是说要直接舍去掉用了“大半辈子”的定向，而是不断的探索更好的一些解决思路。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;其中系列第二十所提供的一些思路，例如标签定向的目标与oCPX转化目标保持预估的一致，其次是标签定向尽量扩大范围不影响oCPX的流量边界等等，或者使用父子级标签逻辑，即冷启动一阶段时期采用更为精准的子标签，当进入二阶段之后采用泛精准的父标签。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;这些都是思路，而我们在第二十四篇&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAxMjM2MTY0OQ==&amp;amp;mid=2650474728&amp;amp;idx=1&amp;amp;sn=3e2084a1f364b74d83ea543210b46166&amp;amp;chksm=83bca236b4cb2b20b1ff0fd4b8fc9db9aa1a5384fe2910c697f482cb7b873e194f358b44ddca&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;《数据与广告系列二十四：效果广告后定向时代如何逆流而上》&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;《数据与广告系列二十四：效果广告后定向时代如何逆流而上》&lt;/a&gt;提到的更具有针对性的解决方案就是智能定向加智能拓量的逻辑。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;其中，在第十四篇&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAxMjM2MTY0OQ==&amp;amp;mid=2650474311&amp;amp;idx=1&amp;amp;sn=594bcf22c2c26325aa51fb4b9521c5b6&amp;amp;chksm=83bcad99b4cb248f5315917f5a8779b2ba813f9d9f17a9b061f81242becdeea5df23458ff62d&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;《数据与广告系列十四：智能定向&amp;amp;基于FM的标签组合推荐思路》&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;《数据与广告系列十四：智能定向&amp;amp;基于FM的标签组合推荐思路》&lt;/a&gt;提到的一种给广告主推荐标签的思路就是从标签组合的角度去思考，并且基于FM的中间输出结果隐向量的方式，去计算标签与标签的相关关系。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;对于拓量，我们在第二十二篇&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAxMjM2MTY0OQ==&amp;amp;mid=2650474524&amp;amp;idx=1&amp;amp;sn=86b5bae2944221071470c272d46f08f6&amp;amp;chksm=83bca2c2b4cb2bd492d012d0c17daaa55ea4b129abe7af534c2db1c1bbf1921b1f18724b4c28&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;《数据与广告系列二十二：智能化投放中扩量场景的技术实现策略》&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;《数据与广告系列二十二：智能化投放中扩量场景的技术实现策略》&lt;/a&gt;中有提到三种解决方案。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img data-ratio=&quot;0.5046296296296297&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/icr5FVCSvBqtLXmOpQks9QDxcAKZf2XwNt0BbTxDRnUdMI3VOYW5SoJiaOw0JBMlSqrGTn15RvSdNdYVtN0nDnLA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img data-ratio=&quot;0.5185185185185185&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/icr5FVCSvBqtLXmOpQks9QDxcAKZf2XwNwA3NYlicsicictEAe3RQkiaNRwvBhibxPSLj8t4ficib5pTrGRiaWh2W8FACZw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img data-ratio=&quot;0.9704641350210971&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/icr5FVCSvBqtLXmOpQks9QDxcAKZf2XwNwEAyRHg4r2sI1lsSN2YsgTEcrgKzdvYbZ0sq0DRh5PpxmJYpaTRibqQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;948&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;正上面三个图刚好映射三种解决思路，其中最后一种是业内比较通用的做法，并且在模型层面由于需要最终做双塔embedding的召回，所以在模型层面可以折腾的空间略微小一点，变化不会太多。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;所以，我们的重点不在于拓量，而在于如何解决oCPX冷启动，即初始投放。按上上篇的思路就是给广告主推荐标签。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;关键在于，如何推荐？&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;img data-ratio=&quot;0.7627118644067796&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/icr5FVCSvBqvMexxWOopOqLBDkK4OcleOe4f1s3S39xWsicbxtSq1O8sylvTAh0F7Dw1eBiaPAvLLWvHQ7COTvia3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;59&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;img data-ratio=&quot;1.0769230769230769&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/icr5FVCSvBqvMexxWOopOqLBDkK4OcleOj6rvROR3uPaBiaqickoY94Qh9tGA9vG7aWAiamgBOiag7cnialLkuvxk9Hw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;52&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;02&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;智能定向的技术基础与当前问题&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAxMjM2MTY0OQ==&amp;amp;mid=2650474311&amp;amp;idx=1&amp;amp;sn=594bcf22c2c26325aa51fb4b9521c5b6&amp;amp;chksm=83bcad99b4cb248f5315917f5a8779b2ba813f9d9f17a9b061f81242becdeea5df23458ff62d&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;《数据与广告系列十四：智能定向&amp;amp;基于FM的标签组合推荐思路》&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;《数据与广告系列十四：智能定向&amp;amp;基于FM的标签组合推荐思路》&lt;/a&gt;是一种解决思路，但终究不是正道，虽然我们在进行FM训练的时候，已经把广告*TAG的关系直接映射到目标构建中去，但是我们最终寻找的应该是广告-&amp;gt;TAG的关系，而不是TAG*TAG的关系&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;所以，这种思路终究只是一种从定向组合的角度思考的逻辑，而不是直接的问题解决逻辑。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;那么，既然要找广告与TAG的关系，那么我们就直接对广告和TAG建模，例如，将广告对应于历史选择的TAG相关数据拿出来，然后区分什么是投放的好的，什么是投放的不好的。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;这样，正负样本就出来了，按分类的思路去构建模型，最终直接预测每个广告对应于N个TAG的概率，或者有N个TAG就上N个类别的多分类，最终决定每个广告对于TAG的偏好概率。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;看着没啥大问题，有什么问题就针对性的构建什么模型，获取什么目标。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;但是，这种建模思路会有以下几个非常难以解决的问题。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;第一，广告*TAG的数据非常稀疏，即很多广告主不使用标签定向，或者本身就算使用，但是按广告颗粒度，全体样本能有多少。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;第二，单个兴趣TAG对应的人群颗粒度是非常大的，大的数千万，小的人群数百万数十万，所以直接去做预估，人群对于不同的广告效果比较难量化。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;第三，说到效果量化，如果构建广告*TAG的效果，样本切分是个大麻烦，所谓效果那么就是TAG人群对应于广告的转化率或者其他效果指标，但是不同广告实际上其转化率达标率是不同的，但TAG人群是大颗粒度人群，非常难以做样本正负的切割。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;综上，直接走广告*TAG建模的路子，不是不可以，只是说预期的效果是有限的，数据稀疏的问题很难解决，以上DNN为例，估计能凑个几十万个样本数据就已经很困难了，完全不符合深度学习时代“堆数据制胜”的风格嘛。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;img data-ratio=&quot;0.7627118644067796&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/icr5FVCSvBqvMexxWOopOqLBDkK4OcleOe4f1s3S39xWsicbxtSq1O8sylvTAh0F7Dw1eBiaPAvLLWvHQ7COTvia3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;59&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;img data-ratio=&quot;1.0769230769230769&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/icr5FVCSvBqvMexxWOopOqLBDkK4OcleOj6rvROR3uPaBiaqickoY94Qh9tGA9vG7aWAiamgBOiag7cnialLkuvxk9Hw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;52&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;03&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;知识迁移的Embedding应用于智能化定向&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;解决上述问题，先回到广告建模的本身上，广告最多的交互数据是什么？&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;毫无疑问，是广告*USER的交互数据，这个数据随随便便什么大厂二厂，一天都能给你几亿几十亿的交互数据。&lt;/span&gt;&lt;span&gt;接下来思考的问题就是，&lt;/span&gt;&lt;span&gt;能不能从&lt;/span&gt;&lt;span&gt;几亿几十亿的&lt;/span&gt;&lt;span&gt;广告*USER交互数据中&lt;/span&gt;&lt;span&gt;寻找广告*TAG的关系？&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;广告需要用到TAG定向，用户身上带有兴趣TAG，那么是否可以通过对广告*USER进行建模，然后获取到广告与TAG的关系？对于广告*USER建模，这条路子我们已经轻车熟路了，就算你不熟，网上关于CTR/CVR预估的内容一大坨，论文也随便看，关键在于如何将广告*USER的转化预估知识，迁移到广告*TAG身上。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;上&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAxMjM2MTY0OQ==&amp;amp;mid=2650474763&amp;amp;idx=1&amp;amp;sn=aa0834e1ceae6f79db62fbb51c7a7ff5&amp;amp;chksm=83bca3d5b4cb2ac33649b470622b01f993a39698333fc32b90cbf176d36e13a4ce8a0eb6f242&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;《数据与广告系列二十五：Embedding的起源与演化，以及序列构建与目标拟合派的流派之争》&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;《数据与广告系列二十五：Embedding的起源与演化，以及序列构建与目标拟合派的流派之争》&lt;/a&gt;，最后一部分，embedding进化的高阶段位“以大博小，知识的迁移，伪双塔”，其中提到了好几种利用丰富数据今昔那个embedding知识迁移的逻辑。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;现在知道了笔者（公众号：数据虫巢 ID：blogchong）为何花巨大的代价洋洋洒洒写了近一万字的内容，写embedding的起源与演化逻辑，并一路写到embedding的高阶转换形态，稠密数据知识的迁移（那篇阅读量最低，甚为恼火呀）。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;先上UTPM的论文原始结构图。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img data-ratio=&quot;0.5889046941678521&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/icr5FVCSvBqsEeuicPrTmb6wVouPmhgywib2Q26KwQKCxlC9IQ1NNsogSbagadiaxHBSqwibQaxVwzJsSL7RKXibeSbw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;703&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;这个场景是微信看一看对于用户兴趣标签矫正或者说通过article打标的逻辑，即通过USER*Artikle的海量数据寻找USER*TAG的关系。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;而我们的目标是，海量AD*USER寻找AD*TAG的关系，上我们的自己的改造结构图。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5170902716914987&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/icr5FVCSvBqv1h652pMCLeoUNQPic84nhfnjjnCbyia0SriaeNgN2v7Sj0ibeZRbjia2XnHvweGkibaKaCCTIgPDiaBdEQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1141&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;先不管标绿色的部分，我们直接看黑体和灰色的部分，原始论文中的Cross OP和Attention部分笔者先隐藏掉，在笔者认为场景解决方案中并不是重点，只是对于网络复杂度的一种微调而已，所以，我们的重点是看整体网络结构&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;底层是AD的特征，以及整个AD的网络结构，右侧是USER，而USER的表征则通过用户身上带了若干个TAG，在Loss层，计算AD*USER的embedding内积，sigmod之后做为预估结果。其中样本是AD*USER点击/转化与否。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;由于纵向的整个网络结构没有引入其他的特征，基本数都是AD的特征，所以在全连接层的顶部，其embedding可以很好的表征AD，而用户则使用N个TAG的embedding作为表征，最终内积之后作为AD与USER的交互结果，通过样本的结果做反向传播，最终拟合好AD和TAG的各自embedding。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;当训练结束之后，新鲜出炉的AD-embedding，TAG-embedding就可以拿出来直接用了。此时，AD与TAG的关系可以通过两者的Embedding直接计算，这可是通过了几百万（转化正样本跟负样本比是很少的，所以负样本欠采样的话，整体样本跟数亿还是有差距的，哈哈），几千万的样本数据Train出来的。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;由于AD*USER的目标是用户点击或者转化与否，所以AD*TAG最终的embedding表征一定带有了点击或者转化倾向的分布。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;至此，打完收工。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;img data-ratio=&quot;0.7627118644067796&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/icr5FVCSvBqvMexxWOopOqLBDkK4OcleOe4f1s3S39xWsicbxtSq1O8sylvTAh0F7Dw1eBiaPAvLLWvHQ7COTvia3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;59&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;img data-ratio=&quot;1.0769230769230769&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/icr5FVCSvBqvMexxWOopOqLBDkK4OcleOj6rvROR3uPaBiaqickoY94Qh9tGA9vG7aWAiamgBOiag7cnialLkuvxk9Hw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;52&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;04&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;迭代与未来&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;真的能收工了吗？当然不能，在当前广告以及深度学习领域孜孜不“卷”的时代，怎么能不有点追求呢。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;我们继续来聊优化，站在巨人（论文）的肩膀上，我们希望的是爬上别人的头顶，而不是满足于裆下。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;看03部分中的那个我们改造之后的网络结构图，看绿色部分。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;22&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;用户身上的兴趣应该是有不同兴趣程度之分的。&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;从专业常识的角度上说，由于USER是通过若干个TAG直接表征的，所以表征的合理性会影响拟合的结果，理论上用户身上对于不同的兴趣的程度是不同的，因此，这里是不是要加上用户对于不同兴趣程度的Attention呢？&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;29&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;TAG与TAG之间应该是存在彼此联系，且会相互影响的。&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;span&gt;通过正常的计算逻辑，模型中对于TAG之间的关系影响是比较少的，但实际中一个人身上是带有若干个兴趣的，而兴趣与兴趣之间是存在真实关联关系的。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;那么，如何更好的在模型中融入这种关系，使得最终在embedding分布拟合中体现出来呢？预训练。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;你看，我们又把当前最潮流的embedding预训练的东西引入进来了，让embedding提前学习到彼此之间的关系，然后再微调去学习与AD的转化关系。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;12&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;AD网络结构的持续优化&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;关于综上AD的网络结构优化，原始论文中提供了共享vector的双头Attentions，以及多值特征之间的Cross，以及特征域之间的Cross。笔者觉得就是正常的网络复杂化的操作啦，其实还有其他很多骚操作，随便你怎么折腾。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;这部分最能体现的就是深度“炼丹”的行业之卷，怎么卷怎么来。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;最后就是特征层的迭代以及样本的摸索迭代了，这块网络上太多讨论和研究的，这里笔者（公众号：数据虫巢）就不炒冷饭了，自己上各个顶会上以及各种深度学习专栏上去取经。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;除了以上几个优化之外，还有什么问题需要我们持续深入思考？&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;第一，当前这个网络结构，跟我们上上面的双塔模型，是不是有点共通之处，只是说右侧的USER是通过N*TAG-embedding来表征，而不是单独的一个深度网络塔。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;如果我们补充USER的特征呢？比如USER固有的属性，年龄性别等等，会对整个我们的目标产生什么影响。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;在原始的逻辑中，我们逻辑是通过N*TAG来表征一个USER，原则上是不够准确的，因为一个人除了兴趣表征还有其他，典型如性别年龄。但是，如果加上去，实际上USER层的影响就被其他USER特征给分摊了，最终依然还是可以获取到TAG的embedding表征，但是与AD的转化关系就弱化了。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;所以，本质上是一种平衡，到底我们是希望对于转化点击拟合的更好，还是说我们实际上目标是AD*TAG关系，显然我们的目标是后者。所以，我们要扣紧我们的目标，宁愿让模型把更多的注意力关注到对TAG-embedding的分布调整上，而不是加入更多USER特征分散目标函数对于TAG-embedding的调整力度。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;关于平衡这个话题，其实在深度“炼丹”过程中，总是很多权衡，最终都是不同目标之间之前的权衡，无法面面俱到的，权衡是根据实际业务场景的一种艺术，也是我们“丹道”升华的炫技空间。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;第二个问题，智能化定向除了点击/转化这个目标，还有没有其他目标需要考虑。例如，我们在做广告排序的时候，很多时候是考虑多目标的，CTR/CVR两不误。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;这里我们除了也要考虑CTR/CVR，广告主的成本要不要考虑，如果考虑，在模型技术层面如何考虑？&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;这里我们就不给答案了，留给读者朋友们思考的空间，我们或许下个章节再来深入探讨一下这个问题，甚至包括ESMM模型，其实都有很多值得商榷的点，并不是盲目的直接应用。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;广告还有深度学习，甚至是智能化定向这个话题，都没有完结。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;所以，不要放弃治疗，请继续保持关注，数据虫巢这里总是能给你们跟行业大众不一样的视角和考虑，就算是炼丹，也希望给你们练出一炉不一样的“丹药”出来。&lt;/span&gt;&lt;/p&gt;&lt;section data-width=&quot;100%&quot; data-opacity=&quot;1&quot; data-rotate=&quot;0&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;参考文献&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;【01】&lt;/span&gt;&lt;span&gt;如果上下文有些不畅，上面正文中提到的一些前面章节赶紧去补补吧，在话题标签中有，欢迎留言，更欢迎打赏。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;img data-ratio=&quot;0.9465648854961832&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/icr5FVCSvBqvMexxWOopOqLBDkK4OcleOkgZGq1Nam2wx8KHreT6gcGaEAOHDaREvvGbFfYficNNNkpHKMxiaYRIA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;131&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;文章都看完了，还不点个赞来个赏~&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-id=&quot;2255&quot;&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzAxMjM2MTY0OQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/icr5FVCSvBqvAbqiatjxIbKnCHHZyKSOULJcPGHiaxvW0hNbicYl8BzAED552KcYM0dEgHKVLcwB77xZWVAet89Tzg/0?wx_fmt=png&quot; data-nickname=&quot;数据虫巢&quot; data-alias=&quot;blogchong&quot; data-signature=&quot;从半个大数据老鸟进化到一个大数据老鸟，偶尔码点代码，写点文章，说点故事，讲点经历，灌几口鸡汤；此外还是个超级大奶爸，梓尘兄的超级小弟，掌握了冲奶、哄娃等秘技。这里有生活，有技术，有行业，也有小文艺，喜欢你就留下。&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages&quot; data-backh=&quot;225&quot; data-backw=&quot;578&quot; data-before-oversubscription-url=&quot;https://mmbiz.qlogo.cn/mmbiz_jpg/icr5FVCSvBqvKestzBFLnfCjCM3dqHibqiaNpeU4tUjKw5ehb6Pdumns43uNwbr8VWHE2qJMh1WlSZtibU81nHUdXg/0?wx_fmt=jpeg&quot; data-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/icr5FVCSvBqvKestzBFLnfCjCM3dqHibqiadMpRoNxpDgggQFw15AdfibagOvQNbiakdzy3icmLsyTl5G1icl3O1rB3SQ/0?wx_fmt=jpeg&quot; data-ratio=&quot;0.390625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/icr5FVCSvBqvKestzBFLnfCjCM3dqHibqiaNpeU4tUjKw5ehb6Pdumns43uNwbr8VWHE2qJMh1WlSZtibU81nHUdXg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;640&quot;/&gt;&lt;/section&gt;&lt;/section&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>1b62401788db2061fdfa380bd2e27c8f</guid>
<title>鸿蒙系统研究（五）：替换 AOSP 预编译库，关闭 SELinux</title>
<link>https://toutiao.io/k/bvmdu3j</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这是我的鸿蒙系统研究系列文章的第五篇，有兴趣还可以看看前面的文章：&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;另外，还有关于鸿蒙系统的看法：&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;言归正传，在我的上一篇文章 &lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI3NTQyMzEzNQ==&amp;amp;mid=2247486550&amp;amp;idx=1&amp;amp;sn=119f9966b3729b34b499a0d4f4555ba9&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;吐槽一下开源鸿蒙系统&lt;/a&gt; 中，我提到过，开源鸿蒙标准系统的系统文件主要来自 AOSP 的预编译文件，这对于追踪启动过程中的问题非常不友好。我在 SeLinux 的问题上就卡壳了很久。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;前几天在 gitee 上咨询鸿蒙系统的软件工程师，得知 Open Harmony 2.0 的 AOSP 的预编译文件来自 Android 10.0.0_r2 版本。为此下载 Android 10.0.0_r2 源码，编译之后替换，终于找到问题所在，顺利解决了 SeLinux 的问题。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Android 源码经过这么长时间的发展，代码越来越庞大，再加上众多分支，所以整个 repo 库非常庞大。整个源代码克隆下来有两三百个 G，如果网络不稳定，git 又没有断点续传，那就更痛苦了。建议使用国内的 AOSP 镜像站点，比如清华大学的 AOSP mirror 就不错。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;$ repo init -u https://mirrors.tuna.tsinghua.edu.cn/git/AOSP/platform/manifest -b android-10.0.0_r2&lt;br/&gt;$ repo sync&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;代码 sync 完毕之后，按照 Android 文档编译系统。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;$ source build/envsetup.sh&lt;br/&gt;$ lunch&lt;br/&gt;You&#x27;re building on Linux&lt;br/&gt;&lt;br/&gt;Lunch menu... pick a combo:&lt;br/&gt;     1. aosp_arm-eng&lt;br/&gt;     2. aosp_arm64-eng&lt;br/&gt;     3. aosp_blueline-userdebug&lt;br/&gt;     4. aosp_bonito-userdebug&lt;br/&gt;     5. aosp_car_arm-userdebug&lt;br/&gt;     6. aosp_car_arm64-userdebug&lt;br/&gt;     7. aosp_car_x86-userdebug&lt;br/&gt;     8. aosp_car_x86_64-userdebug&lt;br/&gt;     9. aosp_cf_arm64_phone-userdebug&lt;br/&gt;     10. aosp_cf_x86_64_phone-userdebug&lt;br/&gt;     11. aosp_cf_x86_auto-userdebug&lt;br/&gt;     12. aosp_cf_x86_phone-userdebug&lt;br/&gt;     13. aosp_cf_x86_tv-userdebug&lt;br/&gt;     14. aosp_crosshatch-userdebug&lt;br/&gt;     15. aosp_marlin-userdebug&lt;br/&gt;     16. aosp_sailfish-userdebug&lt;br/&gt;     17. aosp_sargo-userdebug&lt;br/&gt;     18. aosp_taimen-userdebug&lt;br/&gt;     19. aosp_walleye-userdebug&lt;br/&gt;     20. aosp_walleye_test-userdebug&lt;br/&gt;     21. aosp_x86-eng&lt;br/&gt;     22. aosp_x86_64-eng&lt;br/&gt;     23. beagle_x15-userdebug&lt;br/&gt;     24. fuchsia_arm64-eng&lt;br/&gt;     25. fuchsia_x86_64-eng&lt;br/&gt;     26. hikey-userdebug&lt;br/&gt;     27. hikey64_only-userdebug&lt;br/&gt;     28. hikey960-userdebug&lt;br/&gt;     29. hikey960_tv-userdebug&lt;br/&gt;     30. hikey_tv-userdebug&lt;br/&gt;     31. m_e_arm-userdebug&lt;br/&gt;     32. mini_emulator_arm64-userdebug&lt;br/&gt;     33. mini_emulator_x86-userdebug&lt;br/&gt;     34. mini_emulator_x86_64-userdebug&lt;br/&gt;     35. poplar-eng&lt;br/&gt;     36. poplar-user&lt;br/&gt;     37. poplar-userdebug&lt;br/&gt;     38. qemu_trusty_arm64-userdebug&lt;br/&gt;     39. uml-userdebug&lt;br/&gt;&lt;br/&gt;Which would you like? [aosp_arm-eng]  &lt;br/&gt;&lt;br/&gt;============================================&lt;br/&gt;PLATFORM_VERSION_CODENAME=REL&lt;br/&gt;PLATFORM_VERSION=10&lt;br/&gt;TARGET_PRODUCT=aosp_arm&lt;br/&gt;TARGET_BUILD_VARIANT=eng&lt;br/&gt;TARGET_BUILD_TYPE=release&lt;br/&gt;TARGET_ARCH=arm&lt;br/&gt;TARGET_ARCH_VARIANT=armv7-a-neon&lt;br/&gt;TARGET_CPU_VARIANT=generic&lt;br/&gt;HOST_ARCH=x86_64&lt;br/&gt;HOST_2ND_ARCH=x86&lt;br/&gt;HOST_OS=linux&lt;br/&gt;HOST_OS_EXTRA=Linux-5.4.0-77-generic-x86_64-Ubuntu-18.04.5-LTS&lt;br/&gt;HOST_CROSS_OS=windows&lt;br/&gt;HOST_CROSS_ARCH=x86&lt;br/&gt;HOST_CROSS_2ND_ARCH=x86_64&lt;br/&gt;HOST_BUILD_TYPE=release&lt;br/&gt;BUILD_ID=QP1A.190711.020&lt;br/&gt;OUT_DIR=out&lt;br/&gt;============================================&lt;br/&gt;$ make -j16&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里选择 aosp_arm-eng，这是针对 ARM 32 位处理器的最通用版本，eng 版本的日志输出也更多，比较适合查问题。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;编译完毕后，在 OpenHarmony 2.0 源码目录下的 &lt;strong&gt;prebuilts/aosp_prebuilt_libs/&lt;/strong&gt; 目录，有一个脚本 &lt;strong&gt;update_prebuilts.sh&lt;/strong&gt;，可以更新预置版本。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;$ ./update_prebuilts.sh --source_dir ${AOSP_SRC_ROOT}/out/target/product/generic --prebuilts_dir .&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;接下来编译 OpenHarmony 2.0 系统，得到的镜像就是更新过 AOSP 预编译库的版本了。在 Android 系统中，SeLinux 可以有两种模式：permissive 和 enforcing。permissive 模式碰到 SeLinux 安全问题，会打印出警告，但不会阻止执行，比较适合产品开发阶段。如果希望正式产品中拥有更高的安全，将模式设置为 enforcing，将会进入严格的安全模式。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Android 系统中，init 程序会检查一个 androidboot.selinux 的内核参数值，如果其值为 permissive，那么 SeLinux 的模式设置为 permissive，否则设置为 enforcing。相关代码为：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;// system/core/init/selinux.cpp&lt;br/&gt;&lt;br/&gt;EnforcingStatus StatusFromCmdline() {&lt;br/&gt;    EnforcingStatus status = SELINUX_ENFORCING;&lt;br/&gt;&lt;br/&gt;    import_kernel_cmdline(false,&lt;br/&gt;                          [&amp;amp;](const std::string&amp;amp; key, const std::string&amp;amp; value, bool in_qemu) {&lt;br/&gt;                              if (key == &quot;androidboot.selinux&quot; &amp;amp;&amp;amp; value == &quot;permissive&quot;) {&lt;br/&gt;                                  status = SELINUX_PERMISSIVE;&lt;br/&gt;                              }&lt;br/&gt;                          });&lt;br/&gt;&lt;br/&gt;    return status;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;找到问题就好办，解决的方法分两步。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;首先，Linux 内核开启 SeLinux 支持，否则会出现 &lt;strong&gt;init: mount(&quot;selinuxfs&quot;, &quot;/sys/fs/selinux&quot;, &quot;selinuxfs&quot;, 0, NULL) failed No such file or directory&lt;/strong&gt; 这样的错误，方法是修改内核编译选项，加入如下选项：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;CONFIG_SECURITY=y&lt;br/&gt;CONFIG_SECURITYFS=y&lt;br/&gt;CONFIG_SECURITY_NETWORK=y&lt;br/&gt;# CONFIG_SECURITY_NETWORK_XFRM is not set&lt;br/&gt;CONFIG_SECURITY_PATH=y&lt;br/&gt;CONFIG_LSM_MMAP_MIN_ADDR=32768&lt;br/&gt;CONFIG_HAVE_HARDENED_USERCOPY_ALLOCATOR=y&lt;br/&gt;# CONFIG_HARDENED_USERCOPY is not set&lt;br/&gt;# CONFIG_FORTIFY_SOURCE is not set&lt;br/&gt;# CONFIG_STATIC_USERMODEHELPER is not set&lt;br/&gt;CONFIG_SECURITY_SELINUX=y&lt;br/&gt;CONFIG_SECURITY_SELINUX_BOOTPARAM=y&lt;br/&gt;CONFIG_SECURITY_SELINUX_BOOTPARAM_VALUE=1&lt;br/&gt;# CONFIG_SECURITY_SELINUX_DISABLE is not set&lt;br/&gt;CONFIG_SECURITY_SELINUX_DEVELOP=y&lt;br/&gt;CONFIG_SECURITY_SELINUX_AVC_STATS=y&lt;br/&gt;CONFIG_SECURITY_SELINUX_CHECKREQPROT_VALUE=1&lt;br/&gt;# CONFIG_SECURITY_SMACK is not set&lt;br/&gt;# CONFIG_SECURITY_TOMOYO is not set&lt;br/&gt;CONFIG_SECURITY_APPARMOR=y&lt;br/&gt;CONFIG_SECURITY_APPARMOR_BOOTPARAM_VALUE=1&lt;br/&gt;CONFIG_SECURITY_APPARMOR_HASH=y&lt;br/&gt;CONFIG_SECURITY_APPARMOR_HASH_DEFAULT=y&lt;br/&gt;# CONFIG_SECURITY_APPARMOR_DEBUG is not set&lt;br/&gt;# CONFIG_SECURITY_LOADPIN is not set&lt;br/&gt;# CONFIG_SECURITY_YAMA is not set&lt;br/&gt;CONFIG_INTEGRITY=y&lt;br/&gt;# CONFIG_INTEGRITY_SIGNATURE is not set&lt;br/&gt;CONFIG_INTEGRITY_AUDIT=y&lt;br/&gt;# CONFIG_IMA is not set&lt;br/&gt;# CONFIG_EVM is not set&lt;br/&gt;CONFIG_DEFAULT_SECURITY_SELINUX=y&lt;br/&gt;# CONFIG_DEFAULT_SECURITY_APPARMOR is not set&lt;br/&gt;# CONFIG_DEFAULT_SECURITY_DAC is not set&lt;br/&gt;CONFIG_DEFAULT_SECURITY=&quot;selinux&quot;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;接下来，在 QEMU 的启动参数中增加 androidboot.selinux=permissive ：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;$ qemu-system-arm -M vexpress-a9 -m 512M -dtb ./out/KERNEL_OBJ/kernel/src_tmp/linux-4.19/arch/arm/boot/dts/vexpress-v2p-ca9.dtb -kernel ./out/KERNEL_OBJ/kernel/src_tmp/linux-4.19/arch/arm/boot/zImage -append &quot;root=/dev/mmcblk0 rw console=ttyAMA0 init=/init androidboot.selinux=permissive&quot; -sd ./device/qemu/vexpress-a9/rootfs.ext3 -nographic&lt;br/&gt;WARNING: Image format was not specified for &#x27;./device/qemu/vexpress-a9/rootfs.ext3&#x27; and probing guessed raw.&lt;br/&gt;         Automatically detecting the format is dangerous for raw images, write operations on block 0 will be restricted.&lt;br/&gt;         Specify the &#x27;raw&#x27; format explicitly to remove the restrictions.&lt;br/&gt;pulseaudio: set_sink_input_volume() failed&lt;br/&gt;pulseaudio: Reason: Invalid argument&lt;br/&gt;pulseaudio: set_sink_input_mute() failed&lt;br/&gt;pulseaudio: Reason: Invalid argument&lt;br/&gt;Booting Linux on physical CPU 0x0&lt;br/&gt;Linux version 4.19.155+ (alex@alex-MS-7C22) (Android (dev based on r353983c) clang version 9.0.3 (https://android.googlesource.com/toolchain/clang 745b335211bb9eadfa6aa6301f84715cee4b37c5) (https://android.googlesource.com/toolchain/llvm 60cf23e54e46c807513f7a36d0a7b777920b5881) (based on LLVM 9.0.3svn)) #1 SMP Mon Jul 12 09:17:21 CST 2021&lt;br/&gt;CPU: ARMv7 Processor [410fc090] revision 0 (ARMv7), cr=10c5387d&lt;br/&gt;CPU: PIPT / VIPT nonaliasing data cache, VIPT nonaliasing instruction cache&lt;br/&gt;OF: fdt: Machine model: V2P-CA9&lt;br/&gt;Memory policy: Data cache writeback&lt;br/&gt;cma: Reserved 64 MiB at 0x7c000000&lt;br/&gt;CPU: All CPU(s) started in SVC mode.&lt;br/&gt;random: get_random_bytes called from start_kernel+0x88/0x39c with crng_init=0&lt;br/&gt;percpu: Embedded 14 pages/cpu s28108 r8192 d21044 u57344&lt;br/&gt;Built 1 zonelists, mobility grouping on.  Total pages: 130048&lt;br/&gt;Kernel command line: root=/dev/mmcblk0 rw console=ttyAMA0 init=/init androidboot.selinux=permissive&lt;br/&gt;log_buf_len individual max cpu contribution: 4096 bytes&lt;br/&gt;log_buf_len total cpu_extra contributions: 12288 bytes&lt;br/&gt;log_buf_len min size: 16384 bytes&lt;br/&gt;log_buf_len: 32768 bytes&lt;br/&gt;early log buf free: 14448(88%)&lt;br/&gt;Dentry cache hash table entries: 65536 (order: 6, 262144 bytes)&lt;br/&gt;Inode-cache hash table entries: 32768 (order: 5, 131072 bytes)&lt;br/&gt;Memory: 442044K/524288K available (8192K kernel code, 252K rwdata, 1656K rodata, 1024K init, 195K bss, 16708K reserved, 65536K cma-reserved, 0K highmem)&lt;br/&gt;Virtual kernel memory layout:&lt;br/&gt;    vector  : 0xffff0000 - 0xffff1000   (   4 kB)&lt;br/&gt;    fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)&lt;br/&gt;    vmalloc : 0xa0800000 - 0xff800000   (1520 MB)&lt;br/&gt;    lowmem  : 0x80000000 - 0xa0000000   ( 512 MB)&lt;br/&gt;    pkmap   : 0x7fe00000 - 0x80000000   (   2 MB)&lt;br/&gt;    modules : 0x7f000000 - 0x7fe00000   (  14 MB)&lt;br/&gt;      .text : 0x(ptrval) - 0x(ptrval)   (9184 kB)&lt;br/&gt;      .init : 0x(ptrval) - 0x(ptrval)   (1024 kB)&lt;br/&gt;      .data : 0x(ptrval) - 0x(ptrval)   ( 253 kB)&lt;br/&gt;       .bss : 0x(ptrval) - 0x(ptrval)   ( 196 kB)&lt;br/&gt;SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1&lt;br/&gt;rcu: Hierarchical RCU implementation.&lt;br/&gt;rcu: RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=4.&lt;br/&gt;rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=4&lt;br/&gt;NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16&lt;br/&gt;GIC CPU mask not found - kernel will fail to boot.&lt;br/&gt;GIC CPU mask not found - kernel will fail to boot.&lt;br/&gt;sched_clock: 32 bits at 24MHz, resolution 41ns, wraps every 89478484971ns&lt;br/&gt;clocksource: arm,sp804: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 1911260446275 ns&lt;br/&gt;Failed to initialize &#x27;/smb@4000000/motherboard/iofpga@7,00000000/timer@12000&#x27;: -22&lt;br/&gt;smp_twd: clock not found -2&lt;br/&gt;Console: colour dummy device 80x30&lt;br/&gt;Calibrating local timer... 96.87MHz.&lt;br/&gt;Calibrating delay loop... 1162.44 BogoMIPS (lpj=5812224)&lt;br/&gt;pid_max: default: 32768 minimum: 301&lt;br/&gt;Security Framework initialized&lt;br/&gt;SELinux:  Initializing.&lt;br/&gt;AppArmor: AppArmor disabled by boot time parameter&lt;br/&gt;Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)&lt;br/&gt;Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)&lt;br/&gt;CPU: Testing write buffer coherency: ok&lt;br/&gt;CPU0: Spectre v2: using BPIALL workaround&lt;br/&gt;CPU0: thread -1, cpu 0, socket 0, mpidr 80000000&lt;br/&gt;Setting up static identity map for 0x60100000 - 0x60100060&lt;br/&gt;rcu: Hierarchical SRCU implementation.&lt;br/&gt;smp: Bringing up secondary CPUs ...&lt;br/&gt;smp: Brought up 1 node, 1 CPU&lt;br/&gt;SMP: Total of 1 processors activated (1162.44 BogoMIPS).&lt;br/&gt;CPU: All CPU(s) started in SVC mode.&lt;br/&gt;devtmpfs: initialized&lt;br/&gt;VFP support v0.3: implementor 41 architecture 3 part 30 variant 9 rev 0&lt;br/&gt;clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns&lt;br/&gt;futex hash table entries: 1024 (order: 4, 65536 bytes)&lt;br/&gt;pinctrl core: initialized pinctrl subsystem&lt;br/&gt;NET: Registered protocol family 16&lt;br/&gt;DMA: preallocated 256 KiB pool for atomic coherent allocations&lt;br/&gt;audit: initializing netlink subsys (disabled)&lt;br/&gt;audit: type=2000 audit(0.220:1): state=initialized audit_enabled=0 res=1&lt;br/&gt;cpuidle: using governor ladder&lt;br/&gt;Serial: AMBA PL011 UART driver&lt;br/&gt;10009000.uart: ttyAMA0 at MMIO 0x10009000 (irq = 29, base_baud = 0) is a PL011 rev1&lt;br/&gt;console [ttyAMA0] enabled&lt;br/&gt;1000a000.uart: ttyAMA1 at MMIO 0x1000a000 (irq = 30, base_baud = 0) is a PL011 rev1&lt;br/&gt;1000b000.uart: ttyAMA2 at MMIO 0x1000b000 (irq = 31, base_baud = 0) is a PL011 rev1&lt;br/&gt;1000c000.uart: ttyAMA3 at MMIO 0x1000c000 (irq = 32, base_baud = 0) is a PL011 rev1&lt;br/&gt;OF: amba_device_add() failed (-19) for /smb@4000000/motherboard/iofpga@7,00000000/wdt@f000&lt;br/&gt;OF: amba_device_add() failed (-19) for /memory-controller@100e0000&lt;br/&gt;OF: amba_device_add() failed (-19) for /memory-controller@100e1000&lt;br/&gt;OF: amba_device_add() failed (-19) for /watchdog@100e5000&lt;br/&gt;irq: type mismatch, failed to map hwirq-75 for interrupt-controller@1e001000!&lt;br/&gt;SCSI subsystem initialized&lt;br/&gt;usbcore: registered new interface driver usbfs&lt;br/&gt;usbcore: registered new interface driver hub&lt;br/&gt;usbcore: registered new device driver usb&lt;br/&gt;videodev: Linux video capture interface: v2.00&lt;br/&gt;Advanced Linux Sound Architecture Driver Initialized.&lt;br/&gt;clocksource: Switched to clocksource arm,sp804&lt;br/&gt;NET: Registered protocol family 2&lt;br/&gt;tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes)&lt;br/&gt;TCP established hash table entries: 4096 (order: 2, 16384 bytes)&lt;br/&gt;TCP bind hash table entries: 4096 (order: 3, 32768 bytes)&lt;br/&gt;TCP: Hash tables configured (established 4096 bind 4096)&lt;br/&gt;UDP hash table entries: 256 (order: 1, 8192 bytes)&lt;br/&gt;UDP-Lite hash table entries: 256 (order: 1, 8192 bytes)&lt;br/&gt;NET: Registered protocol family 1&lt;br/&gt;RPC: Registered named UNIX socket transport module.&lt;br/&gt;RPC: Registered udp transport module.&lt;br/&gt;RPC: Registered tcp transport module.&lt;br/&gt;RPC: Registered tcp NFSv4.1 backchannel transport module.&lt;br/&gt;workingset: timestamp_bits=30 max_order=17 bucket_order=0&lt;br/&gt;squashfs: version 4.0 (2009/01/31) Phillip Lougher&lt;br/&gt;NFS: Registering the id_resolver key type&lt;br/&gt;Key type id_resolver registered&lt;br/&gt;Key type id_legacy registered&lt;br/&gt;jffs2: version 2.2. (NAND) © 2001-2006 Red Hat, Inc.&lt;br/&gt;io scheduler noop registered (default)&lt;br/&gt;io scheduler mq-deadline registered&lt;br/&gt;io scheduler kyber registered&lt;br/&gt;clcd-pl11x 1001f000.clcd: PL111 designer 41 rev2 at 0x1001f000&lt;br/&gt;clcd-pl11x 1001f000.clcd: clcd@1f000 hardware, 640x480@59 display&lt;br/&gt;Console: switching to colour frame buffer device 80x30&lt;br/&gt;clcd-pl11x 10020000.clcd: PL111 designer 41 rev2 at 0x10020000&lt;br/&gt;clcd-pl11x 10020000.clcd: clcd@10020000 hardware, 1024x768@59 display&lt;br/&gt;brd: module loaded&lt;br/&gt;40000000.flash: Found 2 x16 devices at 0x0 in 32-bit bank. Manufacturer ID 0x000000 Chip ID 0x000000&lt;br/&gt;Intel/Sharp Extended Query Table at 0x0031&lt;br/&gt;Using buffer write method&lt;br/&gt;40000000.flash: Found 2 x16 devices at 0x0 in 32-bit bank. Manufacturer ID 0x000000 Chip ID 0x000000&lt;br/&gt;Intel/Sharp Extended Query Table at 0x0031&lt;br/&gt;Using buffer write method&lt;br/&gt;Concatenating MTD devices:&lt;br/&gt;(0): &quot;40000000.flash&quot;&lt;br/&gt;(1): &quot;40000000.flash&quot;&lt;br/&gt;into device &quot;40000000.flash&quot;&lt;br/&gt;libphy: Fixed MDIO Bus: probed&lt;br/&gt;usbcore: registered new interface driver r8152&lt;br/&gt;isp1760 4f000000.usb: bus width: 32, oc: digital&lt;br/&gt;isp1760 4f000000.usb: NXP ISP1760 USB Host Controller&lt;br/&gt;isp1760 4f000000.usb: new USB bus registered, assigned bus number 1&lt;br/&gt;isp1760 4f000000.usb: Scratch test failed.&lt;br/&gt;isp1760 4f000000.usb: can&#x27;t setup: -19&lt;br/&gt;isp1760 4f000000.usb: USB bus 1 deregistered&lt;br/&gt;usbcore: registered new interface driver usb-storage&lt;br/&gt;mousedev: PS/2 mouse device common for all mice&lt;br/&gt;usbcore: registered new interface driver xpad&lt;br/&gt;rtc-pl031 10017000.rtc: rtc core: registered pl031 as rtc0&lt;br/&gt;i2c /dev entries driver&lt;br/&gt;usbcore: registered new interface driver uvcvideo&lt;br/&gt;USB Video Class driver (1.1.1)&lt;br/&gt;mmci-pl18x 10005000.mmci: Got CD GPIO&lt;br/&gt;mmci-pl18x 10005000.mmci: Got WP GPIO&lt;br/&gt;mmci-pl18x 10005000.mmci: Linked as a consumer to regulator.1&lt;br/&gt;mmci-pl18x 10005000.mmci: mmc0: PL181 manf 41 rev0 at 0x10005000 irq 25,26 (pio)&lt;br/&gt;usbcore: registered new interface driver usbhid&lt;br/&gt;usbhid: USB HID core driver&lt;br/&gt;ashmem: initialized&lt;br/&gt;aaci-pl041 10004000.aaci: ARM AC&#x27;97 Interface PL041 rev0 at 0x10004000, irq 24&lt;br/&gt;aaci-pl041 10004000.aaci: FIFO 512 entries&lt;br/&gt;oprofile: hardware counters not available&lt;br/&gt;oprofile: using timer interrupt.&lt;br/&gt;NET: Registered protocol family 17&lt;br/&gt;8021q: 802.1Q VLAN Support v1.8&lt;br/&gt;9pnet: Installing 9P2000 support&lt;br/&gt;Key type dns_resolver registered&lt;br/&gt;Registering SWP/SWPB emulation handler&lt;br/&gt;rtc-pl031 10017000.rtc: setting system clock to 2021-07-12 08:36:39 UTC (1626078999)&lt;br/&gt;ALSA device list:&lt;br/&gt;  #0: ARM AC&#x27;97 Interface PL041 rev0 at 0x10004000, irq 24&lt;br/&gt;input: AT Raw Set 2 keyboard as /devices/platform/smb@4000000/smb@4000000:motherboard/smb@4000000:motherboard:iofpga@7,00000000/10006000.kmi/serio0/input/input0&lt;br/&gt;mmc0: new SD card at address 4567&lt;br/&gt;mmcblk0: mmc0:4567 QEMU! 1.00 GiB &lt;br/&gt;input: ImExPS/2 Generic Explorer Mouse as /devices/platform/smb@4000000/smb@4000000:motherboard/smb@4000000:motherboard:iofpga@7,00000000/10007000.kmi/serio1/input/input2&lt;br/&gt;EXT4-fs (mmcblk0): mounting ext3 file system using the ext4 subsystem&lt;br/&gt;random: fast init done&lt;br/&gt;EXT4-fs (mmcblk0): mounted filesystem with ordered data mode. Opts: (null)&lt;br/&gt;VFS: Mounted root (ext3 filesystem) on device 179:0.&lt;br/&gt;devtmpfs: mounted&lt;br/&gt;Freeing unused kernel memory: 1024K&lt;br/&gt;Run /init as init process&lt;br/&gt;random: crng init done&lt;br/&gt;init: init first stage started!&lt;br/&gt;init: [libfs_mgr]ReadFstabFromDt(): failed to read fstab from dt&lt;br/&gt;init: [libfs_mgr]ReadDefaultFstab(): failed to find device default fstab&lt;br/&gt;init: Failed to fstab for first stage mount&lt;br/&gt;init: Using Android DT directory /proc/device-tree/firmware/android/&lt;br/&gt;init: [libfs_mgr]ReadDefaultFstab(): failed to find device default fstab&lt;br/&gt;init: First stage mount skipped (missing/incompatible/empty fstab in device tree)&lt;br/&gt;init: Skipped setting INIT_AVB_VERSION (not in recovery mode)&lt;br/&gt;init: Loading SELinux policy&lt;br/&gt;init: Compiling SELinux policy&lt;br/&gt;init: Loading compiled SELinux policy&lt;br/&gt;SELinux:  policy capability network_peer_controls=1&lt;br/&gt;SELinux:  policy capability open_perms=1&lt;br/&gt;SELinux:  policy capability extended_socket_class=1&lt;br/&gt;SELinux:  policy capability always_check_network=0&lt;br/&gt;SELinux:  policy capability cgroup_seclabel=0&lt;br/&gt;SELinux:  policy capability nnp_nosuid_transition=1&lt;br/&gt;audit: type=1403 audit(1626079005.990:2): auid=4294967295 ses=4294967295 lsm=selinux res=1&lt;br/&gt;selinux: SELinux: Loaded policy from /dev/sepolicy.wMgsPa&lt;br/&gt;&lt;br/&gt;audit: type=1400 audit(1626079006.000:3): avc:  denied  { read } for  pid=1 comm=&quot;init&quot; name=&quot;plat_file_contexts&quot; dev=&quot;mmcblk0&quot; ino=57703 scontext=u:r:kernel:s0 tcontext=u:object_r:unlabeled:s0 tclass=file permissive=1&lt;br/&gt;audit: type=1400 audit(1626079006.000:4): avc:  denied  { read } for  pid=1 comm=&quot;init&quot; name=&quot;product&quot; dev=&quot;mmcblk0&quot; ino=22 scontext=u:r:kernel:s0 tcontext=u:object_r:unlabeled:s0 tclass=lnk_file permissive=1&lt;br/&gt;audit: type=1400 audit(1626079006.010:5): avc:  denied  { getattr } for  pid=1 comm=&quot;init&quot; path=&quot;/system/etc/selinux/plat_file_contexts&quot; dev=&quot;mmcblk0&quot; ino=57703 scontext=u:r:kernel:s0 tcontext=u:object_r:unlabeled:s0 tclass=file permissive=1&lt;br/&gt;audit: type=1400 audit(1626079006.010:6): avc:  denied  { open } for  pid=1 comm=&quot;init&quot; path=&quot;/system/etc/selinux/plat_file_contexts&quot; dev=&quot;mmcblk0&quot; ino=57703 scontext=u:r:kernel:s0 tcontext=u:object_r:unlabeled:s0 tclass=file permissive=1&lt;br/&gt;audit: type=1400 audit(1626079006.030:7): avc:  denied  { map } for  pid=1 comm=&quot;init&quot; path=&quot;/system/etc/selinux/plat_file_contexts&quot; dev=&quot;mmcblk0&quot; ino=57703 scontext=u:r:kernel:s0 tcontext=u:object_r:unlabeled:s0 tclass=file permissive=1&lt;br/&gt;selinux: SELinux: Loaded file_contexts&lt;br/&gt;&lt;br/&gt;audit: type=1400 audit(1626079006.040:8): avc:  denied  { getattr } for  pid=1 comm=&quot;init&quot; path=&quot;/system&quot; dev=&quot;mmcblk0&quot; ino=57348 scontext=u:r:kernel:s0 tcontext=u:object_r:unlabeled:s0 tclass=dir permissive=1&lt;br/&gt;audit: type=1400 audit(1626079006.060:9): avc:  denied  { relabelfrom } for  pid=1 comm=&quot;init&quot; name=&quot;init&quot; dev=&quot;mmcblk0&quot; ino=57387 scontext=u:r:kernel:s0 tcontext=u:object_r:unlabeled:s0 tclass=file permissive=1&lt;br/&gt;audit: type=1400 audit(1626079006.060:10): avc:  denied  { execute } for  pid=1 comm=&quot;init&quot; name=&quot;linker&quot; dev=&quot;mmcblk0&quot; ino=57642 scontext=u:r:kernel:s0 tcontext=u:object_r:unlabeled:s0 tclass=file permissive=1&lt;br/&gt;audit: type=1400 audit(1626079006.070:11): avc:  denied  { execute } for  pid=1 comm=&quot;init&quot; path=&quot;/system/bin/bootstrap/linker&quot; dev=&quot;mmcblk0&quot; ino=57642 scontext=u:r:init:s0 tcontext=u:object_r:unlabeled:s0 tclass=file permissive=1&lt;br/&gt;init: init second stage started!&lt;br/&gt;init: Using Android DT directory /proc/device-tree/firmware/android/&lt;br/&gt;selinux: SELinux: Loaded file_contexts&lt;br/&gt;&lt;br/&gt;init: Running restorecon...&lt;br/&gt;selinux: SELinux:  Could not stat /dev/block: No such file or directory.&lt;br/&gt;&lt;br/&gt;init: Couldn&#x27;t load property file &#x27;/product_services/build.prop&#x27;: open() failed: No such file or directory: No such file or directory&lt;br/&gt;init: Couldn&#x27;t load property file &#x27;/factory/factory.prop&#x27;: open() failed: No such file or directory: No such file or directory&lt;br/&gt;init: Setting product property ro.product.brand to &#x27;Android&#x27; (from ro.product.odm.brand)&lt;br/&gt;init: Setting product property ro.product.device to &#x27;generic&#x27; (from ro.product.odm.device)&lt;br/&gt;init: Setting product property ro.product.manufacturer to &#x27;unknown&#x27; (from ro.product.odm.manufacturer)&lt;br/&gt;ueventd: ueventd started!&lt;br/&gt;selinux: SELinux: Loaded file_contexts&lt;br/&gt;&lt;br/&gt;ueventd: Parsing file /ueventd.rc...&lt;br/&gt;ueventd: Parsing file /vendor/ueventd.rc...&lt;br/&gt;ueventd: Unable to read config file &#x27;/vendor/ueventd.rc&#x27;: open() failed: No such file or directory&lt;br/&gt;ueventd: Parsing file /odm/ueventd.rc...&lt;br/&gt;ueventd: Unable to read config file &#x27;/odm/ueventd.rc&#x27;: open() failed: No such file or directory&lt;br/&gt;ueventd: Parsing file /ueventd.unknown.rc...&lt;br/&gt;ueventd: Unable to read config file &#x27;/ueventd.unknown.rc&#x27;: open() failed: No such file or directory&lt;br/&gt;ueventd: [libfs_mgr]ReadDefaultFstab(): failed to find device default fstab&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;可以看到，依然存在如下 SeLinux 的错误信息，但不会阻止程序的运行。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;audit: type=1400 audit(1626079006.000:3): avc:  denied  { read } for  pid=1 comm=&quot;init&quot; name=&quot;plat_file_contexts&quot; dev=&quot;mmcblk0&quot; ino=57703 scontext=u:r:kernel:s0 tcontext=u:object_r:unlabeled:s0 tclass=file permissive=1&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;目前尚不清楚 OpenHarmony 在 AOSP 库上做了哪些修改，官方也没有提供 patch。理论上应该做了修改，否则 init 程序启动的不就成了 Android 系统吗？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以这里替换 AOSP 预编译库，仅仅是作为一种查找问题的手段，看后续 OpenHarmony 是否会修改这一部分的实现，或者提供 patch。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;最后，如上面的输出所看到的，系统依然启动存在问题，这个没有关系，遇到问题解决问题，敬请关注后续的研究！&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>