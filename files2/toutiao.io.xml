<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>10dbdeb9e7538bab884f2678ffa69b9f</guid>
<title>Rubick：媲美 uTools 的开源工具箱</title>
<link>https://toutiao.io/k/dq063c4</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;article class=&quot;markdown-body entry-content container-lg&quot; itemprop=&quot;text&quot;&gt;
&lt;h1 align=&quot;center&quot;&gt;&lt;a id=&quot;user-content-rubick&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#rubick&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Rubick&lt;/h1&gt;
&lt;p&gt;基于 electron 的工具箱，媲美 utools的开源插件，已实现 utools 大部分的 API 能力，所以可以做到无缝适配 utools 开源的插件。
之所以做这个工具箱一方面是 utools 本身并未开源，但是公司内部的工具库又无法发布到 utools 插件中，所以为了既要享受 utools 生态又要有定制化需求，我们自己参考 utools 设计，做了 Rubick&lt;/p&gt;
&lt;p&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://user-images.githubusercontent.com/21073039/122888869-d6e60d00-d374-11eb-9fb9-2a6e541e389e.png&quot;&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/21073039/122888869-d6e60d00-d374-11eb-9fb9-2a6e541e389e.png&quot; alt=&quot;image&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id=&quot;user-content-utools-插件支持&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#utools-插件支持&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;utools 插件支持&lt;/h2&gt;
&lt;h3&gt;&lt;a id=&quot;user-content-pluginjson&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#pluginjson&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;plugin.json&lt;/h3&gt;
&lt;p&gt;在你觉得合适的地方新建一个文件夹，并创建 &lt;code&gt;plugin.json&lt;/code&gt; 文件。这是最重要的一个文件，用来说明这个插件将如何与 &lt;code&gt;rubick&lt;/code&gt; 集成，最基本的格式如下：&lt;/p&gt;
&lt;div class=&quot;highlight highlight-source-json position-relative&quot; data-snippet-clipboard-copy-content=&quot;{&amp;#10;&amp;quot;pluginName&amp;quot;: &amp;quot;helloWorld&amp;quot;,&amp;#10;&amp;quot;description&amp;quot;: &amp;quot;我的第一个uTools插件&amp;quot;,&amp;#10;&amp;quot;main&amp;quot;: &amp;quot;index.html&amp;quot;,&amp;#10;&amp;quot;version&amp;quot;: &amp;quot;0.0.1&amp;quot;,&amp;#10;&amp;quot;logo&amp;quot;: &amp;quot;logo.png&amp;quot;,&amp;#10;&amp;quot;features&amp;quot;: [&amp;#10;{&amp;#10;  &amp;quot;code&amp;quot;: &amp;quot;hello&amp;quot;,&amp;#10;  &amp;quot;explain&amp;quot;: &amp;quot;hello world&amp;quot;,&amp;#10;&amp;quot;cmds&amp;quot;:[&amp;quot;hello&amp;quot;, &amp;quot;你好&amp;quot;]&amp;#10;}&amp;#10;]&amp;#10;}&amp;#10;&quot;&gt;&lt;pre&gt;{
&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;pluginName&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;helloWorld&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,
&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;description&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;我的第一个uTools插件&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,
&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;main&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;index.html&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,
&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;version&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;0.0.1&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,
&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;logo&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;logo.png&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,
&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;features&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: [
{
  &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;code&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;hello&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,
  &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;explain&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;hello world&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,
&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;cmds&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:[&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;hello&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;你好&lt;span class=&quot;pl-pds&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;]
}
]
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;所有字段和 &lt;code&gt;utools&lt;/code&gt; 保持一致，这将可以完美使用&lt;code&gt;utools&lt;/code&gt;的插件生态&lt;/p&gt;
&lt;h2&gt;&lt;a id=&quot;user-content-utools-api-支持&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#utools-api-支持&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;utools api 支持&lt;/h2&gt;
&lt;h3&gt;&lt;a id=&quot;user-content-事件&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#事件&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;事件&lt;/h3&gt;
&lt;h4&gt;&lt;a id=&quot;user-content-onpluginreadycallback&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#onpluginreadycallback&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;onPluginReady(callback)&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;当插件装载成功，uTools 将会主动调用这个方法（生命周期内仅调用一次），所有的 &lt;code&gt;api&lt;/code&gt; 都应该在 &lt;code&gt;onPluginReady&lt;/code&gt; 之后进行调用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5&gt;&lt;a id=&quot;user-content-示例&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#示例&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;示例&lt;/h5&gt;
&lt;div class=&quot;highlight highlight-source-js position-relative&quot; data-snippet-clipboard-copy-content=&quot;utools.onPluginReady(() =&amp;gt; {&amp;#10;  console.log(&#x27;插件装配完成，已准备好&#x27;)&amp;#10;})&amp;#10;&quot;&gt;&lt;pre&gt;&lt;span class=&quot;pl-s1&quot;&gt;utools&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-en&quot;&gt;onPluginReady&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;pl-kos&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;pl-smi&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-en&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pl-s&quot;&gt;&#x27;插件装配完成，已准备好&#x27;&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;pl-kos&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id=&quot;user-content-onpluginentercallback&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#onpluginentercallback&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;onPluginEnter(callback)&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;每当插件从后台进入到前台时，uTools 将会主动调用这个方法。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5&gt;&lt;a id=&quot;user-content-示例-1&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#示例-1&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;示例&lt;/h5&gt;
&lt;div class=&quot;highlight highlight-source-js position-relative&quot; data-snippet-clipboard-copy-content=&quot;utools.onPluginEnter(({code, type, payload, optional}) =&amp;gt; {&amp;#10;  console.log(&#x27;用户进入插件&#x27;, code, type, payload)&amp;#10;})&amp;#10;&quot;&gt;&lt;pre&gt;&lt;span class=&quot;pl-s1&quot;&gt;utools&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-en&quot;&gt;onPluginEnter&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;{&lt;/span&gt;code&lt;span class=&quot;pl-kos&quot;&gt;,&lt;/span&gt; type&lt;span class=&quot;pl-kos&quot;&gt;,&lt;/span&gt; payload&lt;span class=&quot;pl-kos&quot;&gt;,&lt;/span&gt; optional&lt;span class=&quot;pl-kos&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;pl-kos&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;pl-smi&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-en&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pl-s&quot;&gt;&#x27;用户进入插件&#x27;&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;pl-s1&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;pl-s1&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;pl-s1&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;pl-kos&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;更多可以参考 &lt;code&gt;utools&lt;/code&gt; 文档：&lt;a href=&quot;https://u.tools/docs/developer/api.html#%E4%BA%8B%E4%BB%B6&quot; rel=&quot;nofollow&quot;&gt;https://u.tools/docs/developer/api.html#%E4%BA%8B%E4%BB%B6&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id=&quot;user-content-窗口交互&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#窗口交互&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;窗口交互&lt;/h3&gt;
&lt;h3&gt;&lt;a id=&quot;user-content-本地数据库&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#本地数据库&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;本地数据库&lt;/h3&gt;
&lt;p&gt;类似于 &lt;code&gt;utools&lt;/code&gt; 的功能，我们也提供了本地数据库的 api 能力&lt;/p&gt;
&lt;h4&gt;&lt;a id=&quot;user-content-utoolsdbputdoc&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#utoolsdbputdoc&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;utools.db.put(doc)&lt;/h4&gt;
&lt;h5&gt;&lt;a id=&quot;user-content-示例-2&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#示例-2&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;示例&lt;/h5&gt;
&lt;div class=&quot;highlight highlight-source-js position-relative&quot; data-snippet-clipboard-copy-content=&quot;// 创建请求&amp;#10;utools.db.put({&amp;#10;  _id: &amp;quot;demo&amp;quot;,&amp;#10;  data: &amp;quot;demo&amp;quot;&amp;#10;})&amp;#10;// 返回 {id: &amp;quot;demo&amp;quot;, ok: true, rev: &amp;quot;1-05c9b92e6f24287dc1f4ec79d9a34fa8&amp;quot;}&amp;#10;&amp;#10;// 更新请求&amp;#10;utools.db.put({&amp;#10;  _id: &amp;quot;demo&amp;quot;,&amp;#10;  data: &amp;quot;demo&amp;quot;,&amp;#10;  _rev: &amp;quot;1-05c9b92e6f24287dc1f4ec79d9a34fa8&amp;quot;&amp;#10;})&amp;#10;&amp;#10;&quot;&gt;&lt;pre&gt;&lt;span class=&quot;pl-c&quot;&gt;// 创建请求&lt;/span&gt;
&lt;span class=&quot;pl-s1&quot;&gt;utools&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-c1&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-en&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;pl-c1&quot;&gt;_id&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&quot;demo&quot;&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;pl-c1&quot;&gt;data&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&quot;demo&quot;&lt;/span&gt;
&lt;span class=&quot;pl-kos&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;pl-c&quot;&gt;// 返回 {id: &quot;demo&quot;, ok: true, rev: &quot;1-05c9b92e6f24287dc1f4ec79d9a34fa8&quot;}&lt;/span&gt;

&lt;span class=&quot;pl-c&quot;&gt;// 更新请求&lt;/span&gt;
&lt;span class=&quot;pl-s1&quot;&gt;utools&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-c1&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-en&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;pl-c1&quot;&gt;_id&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&quot;demo&quot;&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;pl-c1&quot;&gt;data&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&quot;demo&quot;&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;pl-c1&quot;&gt;_rev&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&quot;1-05c9b92e6f24287dc1f4ec79d9a34fa8&quot;&lt;/span&gt;
&lt;span class=&quot;pl-kos&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id=&quot;user-content-utoolsdbgetid&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#utoolsdbgetid&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;utools.db.get(id)&lt;/h4&gt;
&lt;h4&gt;&lt;a id=&quot;user-content-utoolsdbremovedoc&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#utoolsdbremovedoc&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;utools.db.remove(doc)&lt;/h4&gt;
&lt;h4&gt;&lt;a id=&quot;user-content-utoolsdbbulkdocsdocs&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#utoolsdbbulkdocsdocs&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;utools.db.bulkDocs(docs)&lt;/h4&gt;
&lt;h3&gt;&lt;a id=&quot;user-content-ubrowser&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#ubrowser&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;ubrowser&lt;/h3&gt;
&lt;p&gt;可编程浏览器&lt;/p&gt;
&lt;div class=&quot;highlight highlight-source-js position-relative&quot; data-snippet-clipboard-copy-content=&quot;  const page = await utools.ubrowser.goto(&#x27;https://www.baidu.com&#x27;)&amp;#10;  await page.value(&#x27;#kw&#x27;, &#x27;uTools&#x27;);&amp;#10;  await page.click(&#x27;#su&#x27;);&amp;#10;  page.run({&amp;#10;      width: 600,&amp;#10;      height: 800,&amp;#10;    })&amp;#10;&quot;&gt;&lt;pre&gt;  &lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-s1&quot;&gt;page&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;pl-s1&quot;&gt;utools&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-c1&quot;&gt;ubrowser&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-en&quot;&gt;goto&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pl-s&quot;&gt;&#x27;https://www.baidu.com&#x27;&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;pl-k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;pl-s1&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-en&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pl-s&quot;&gt;&#x27;#kw&#x27;&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&#x27;uTools&#x27;&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;pl-k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;pl-s1&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-en&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pl-s&quot;&gt;&#x27;#su&#x27;&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;pl-s1&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-en&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;pl-c1&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;pl-c1&quot;&gt;600&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;pl-c1&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;pl-c1&quot;&gt;800&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;pl-kos&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;pl-kos&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id=&quot;user-content-最后&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#最后&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;最后&lt;/h3&gt;
&lt;p&gt;utools过于强大，目前还没有完全实现其所有功能，不过我们会根据需要不断更新。欢迎小伙伴一起 &lt;code&gt;pr&lt;/code&gt; 或 &lt;code&gt;star&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id=&quot;user-content-license&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#license&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;This project is licensed under the MIT License - see the &lt;a href=&quot;https://github.com/clouDr-f2e/rubick/blob/master/LICENSE&quot;&gt;LICENSE.md&lt;/a&gt; file for details.&lt;/p&gt;
&lt;/article&gt;
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>c2f08e7b52ab1a6841f2009b56f19996</guid>
<title>职场新人如何快速融入团队</title>
<link>https://toutiao.io/k/8dy9gg8</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;h2&gt;&lt;strong&gt;&lt;span&gt;前言&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;每年金三银四时节，总有很多同学会跳槽加入新的公司，来获取职场或者物质上更好的发展空间和回报。加入一家新的公司，对公司的一些流程规范、业务前景大多都有自己的期待。但同时也会有困惑或担忧，怎么和新同事，新上级相处？如何赢得新伙伴的信任？怎么学习新的技术框架、业务流程、协同方式等，并做出成果？这篇文章，聊聊我自己在职场工作几年，总结出来的一些经验，供大家参考。 &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;&lt;strong&gt;&lt;span&gt;方法技巧&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.40948275862068967&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ftksfIbzTWiaaUWbrZfia5iaia2G0nngQJfrYKEA4Ziaic5iad8feDkQeEcG1znEia1DcNYadr50sE8Lc3R9ZrtbUgOtQA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;928&quot;/&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;&lt;strong&gt;信息获取&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;&lt;/h3&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;组织架构&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;每个公司的组织架构都有或多或少的差异，加入新公司的第一周，我个人建议快速熟悉公司大体的组织架构。做技术的同学大多会在技术部/研发中心/IT部门等一级部门，按照个人的习惯，我会在第一周和自己岗位强相关或者经常打交道的二三级部门同学聊聊，比如业务研发&amp;amp;基础架构&amp;amp;测试&amp;amp;运维DBA等同学，了解他们的日常工作内容和流程，快速获取和自己的岗位有关的信息，便于日后工作的开展。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;strong&gt;&lt;span&gt;流程规范&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;这里的流程规范包含两方面：公司规范和技术规范。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;公司规范主要包括：报销、周报月报、打卡考勤、补贴申请、公司红线等方面。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;技术规范主要包括：版本迭代、资源评估、需求&amp;amp;技术方案&amp;amp;用例评审、发布上线、资产申请、会议邀请方面。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;strong&gt;&lt;span&gt;业务背景&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;无论是基础架构、技术支撑、或者一线研发工作，了解业务是必不可少的。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;这里的业务背景指的是：目前的核心业务是什么？业务流程从头到尾怎么串起来？各个核心业务的上下游依赖是谁，对应的产品、研发、测试、运维DBA等同学各是谁等方面。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;strong&gt;&lt;span&gt;技术框架&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;做技术的同学如果不了解公司整体技术架构和组件，那工作局限性和发展空间不大。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;这里列举一些常见的需要了解的方面，供大家参考：&lt;/span&gt;&lt;/p&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;技术栈（java、python、golang、PHP、.net）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;技术架构&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;操作系统：Windows服务器、Linux服务器&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;系统架构：单体式、服务集群、分布式、微服务、SOA......&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;部署方式：自建机房、云服务、虚拟机、容器化......&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;请求链路：user→gateway→web server→app server→DB&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;技术组件：Redis、各种MQ、各种JOB、各种存储组件（mysql、tidb、HDFS、flink）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;监控告警：cat、jaeger、zabbix、skywalking、Prometheus......&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;&lt;strong&gt;&lt;span&gt;拿到结果&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;长期规划&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;进入一家新公司新的部门，一定要了解部门的长期规划是什么。包括但不限于：&lt;/span&gt;&lt;/p&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;团队规模：目前多少人，预计本季度、本年度招聘到多少人；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;通过这点可以粗略判断业务发展情况，组织架构变更多自己的影响以及上升的空间有多大&lt;/span&gt;！&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;2&quot; ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;技术规划：目前是服务集群，要做技术重构、微服务化、容器化；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;技术迭代变化中，自己能做什么，要解决什么问题，能获得多大的成长，面临的技术挑战&lt;/span&gt;！&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;3&quot; ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;迭代效率：目前是2周一个版本，预计通过多久变为一周一个版本，一周2个版本；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;迭代的效率提升往往意味着CICD体系构建以及需求吞吐和交付质量的压力，影响会比较大&lt;/span&gt;！&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h4&gt;&lt;strong&gt;&lt;span&gt;短期目标&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;大多数互联网公司，都会通过OKR或者KPI来制定短期的目标，这里不评价哪个体系更好，或者它们的考核标准是否明确清晰。从我个人角度来看，无论是OKR还是KPI，它首先是明确了短期要实现的目标，便于统一协调整体向一个方向走。还是建议大家以中立的态度来看待这些方式，从中汲取和自己有关的部分。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;快速落地&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;前面说了长期规划和短期目标，但职场实际上就是一个赤裸裸的生存法则具现体。无论是校招的应届生还是社招的有工作经验的同学，对每个同学的考察期和给予的机会都大差不差，融入团队的首要目标，还是要先落地，证明自己的价值，才能有机会看到更多的可能性。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;用一句和前同事聊天经常说的话来说就是：谁都不容易，想拿到想要的，你得先快速落地拿到领导想要的结果，证明自己值这些钱，才能想其他的。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;解决问题&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;怎样才能快速落地呢？简单来说就是：&lt;strong&gt;解决问题&lt;/strong&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;你目前处在那个团队&amp;amp;岗位，目前团队面临的问题和困境是什么？你能否解决？交付的质量怎么样？领导安排的工作分工你是否按时保质的达成了领导想要的结果。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;解决问题的过程，除了达成自己最初的价值诉求，或多或少还能从中学到一些东西。&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;&lt;strong&gt;沟通态度&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;躬身入局&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;我们每个人都或多或少有些路径依赖，即觉得自己过往成功来源于自身的某种特性或者某种做事方式，但事实上我们过往能够拿到成果一定是在正确的时机、正确的场合做了正确的选择，虽然从日后来看这个选择很成功，但不代表当你遇到类似问题的时候可以不动大脑的复制之前的决定，因为时机变了，场合也变了。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;加入新的公司新的团队，过去的工作经验和固有的思维模式，很可能不适配。所以新人应该尽可能以初入职场的心态，放空自己，“削足适履，躬身入局”，从零开始，快速学习，快速了解团队的人、事、流程和方法等，是自己能够快速适应工作环境。新人加入最好是能够先僵化式跟随师兄，使自己能够快速把基础工作做好，先拿到结果。经过一定的项目锻炼后，结合过去的经验和持续学习的输入，能够提出现有机制流程和系统方法等方面的优化建议和解决方案。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;提问思考&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;新人集中加入，师兄和TL往往要同时带多个新人，比较难方方面面都能够把信息及时的Push到新人。建&lt;span&gt;议新人自己主动多去Pull信息、任务和目标。利用好周报、OKR等工具，全面快速拉取信息，而不是等着他人Push过来。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;严己宽人&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;每个公司在不同阶段，制度、流程、系统都会有所变化，很难心无旁骛的只关注自己的领域。这个时候需要的不是去抱怨某某团队支持做的不好或者工作不到位，而是要积极去思考在现状下如何能够做得更好，甚至更进一步思考我们怎么能够帮助我们的上下游变得更好。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;多思考推动，事情才能真的变好，直面我们当前的问题，解决当前的问题，把别人的问题尽可能缩小，尽可能放大自己的问题，让自己的工作能够无懈可击。所有人都喜欢一个有担当且无BUG的合作方，所有人都不喜欢一边抱怨一边自己做不好的合作方。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;strong&gt;&lt;span&gt;积极主动&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;每个公司在不同阶段，制度、流程、系统都会有所变化，会有很多需要完善的事情，若是你的视野再大一点，看到整个团队的话，&lt;span&gt;那么团队当中需要人做，可是尚未有人做的事，都是你的事情。&lt;/span&gt;好比你们一直苦于没有一个好用的报表工具，那你看到了这点，是否是能够抽空去做一个。之后团队其他人用的都是你写的工具。TL 和团队小伙伴是否会对你高看一眼呢？&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;一方面是当事情来临或者是问题出现的时候，积极主动地参与其中。做事情的时候需要积极地反馈，&lt;span&gt;当遇到问题、或者有一些阶段性产出的时候，需要主动地反馈给老板和上级，让他们知道你当前项目推进的风险和成果。&lt;/span&gt;站在老板或 TL的角度来看，其实很放心把事情交给他们去做，能够省下投入在跟进中的精力。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;另一方面是当本身发现了一些问题的时候，即便老板或者是其余人没有作出要求，也能积极地去推动它或者是解决它。&lt;span&gt;好比发现了一些隐藏的bug须要修复、发现了某些问题须要订正，或者是某些功能能够带来很大效率或者稳定性的提高。在这个时候需要主动和上级以及其余人沟通，去推动这些事情落地。&lt;/span&gt;这里面的难点在前者，想要能有这些发现，不是靠灵光一闪就好了，需要背后付出不少努力。&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;&lt;strong&gt;技巧工具&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;前面讲到了信息获取的方式渠道和长期规划与短期目标。那么从哪里获取这些信息呢？&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;strong&gt;&lt;span&gt;周报月报&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;从我工作几年的经历而言，大多数公司都会有日报&amp;amp;周报&amp;amp;月报等各种报的操作。可能很多同学对写周报是一种完事的敷衍态度，实际上如果你换个角度来看，周报月报是一种很好的了解团队动态的渠道。这里有个小技巧，可以将部门一些team leader、核心技术同学的邮件单独设一个邮件组，每天花一点时间来了解他们的报告里包含的信息，也许会有出其不意的收获。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;会议纪要&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;开会，是很多人在职场中都要面临的一件事，当然，我自己遇到开会，也很头疼。大多数时候一大群人在会议室争论半天，讨论的就几个人，大多数就是打酱油的。但有一点需要注意：会议的目的是就一些事达成共识和明确推进事项以及负责人。会议纪要往往能体现这一点（如果加入的公司有这种机制的话）。了解项目的背景、各方面负责人、目前的进度风险和待办事项，对个人是利大于弊的一件事。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;技术文档&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;做技术的同学，该如何去了解新公司新团队的相关技术和业务呢？文档是一个很重要的渠道（如果有最好，如果没有，可以从你开始做技术沉淀）。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;这里的技术文档包括但不限于：技术设计文档、API设计文档、需求文档、用例分析设计文档、业务逻辑文档。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;加入新公司，花一些时间熟读这些文档，对后续的工作快速开展有很大帮助，还是那句话：先落地拿到结果，解决问题，再考虑其他。&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;时间管理&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;相信很多同学日常的工作时间会被很多事情打断，比如随时被其他同事咨询问题，参加会议，头脑风暴等各种操作，工作时间碎片化，不仅精力分散，而且该干的事情实际上进度并不理想。该如何解决这个问题呢？我个人工作几年沉淀了下面几点方法，供参考：&lt;/span&gt;&lt;/p&gt;&lt;ol ne-level=&quot;1&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;学会拒绝，界定工作的边界和职责范围；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;不必要的会议不用参加，事后看会议纪要或者和同事聊聊就好；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;番茄工作法之类的时间管理方法都可以尝试起来，找到自己适应的节奏；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;建立工作清单，每天来公司第一件事列出今天/本周要做的事情，分类按重要程度排序，完成打个勾；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol ne-level=&quot;2&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;实际上这一点如果做的好，每周的周报基本素材都是现成的。。。。。。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;最后&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;实际上讲了这么多，职场还有很多规则需要大家自己去熟悉适应。打工人打工魂，祝愿大家在卷的道路上能稍微轻松点，掌握一些方法和技巧，轻松的卷，苦中作乐的卷。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>31f789bf105e9f93e6ff6a79e5b07168</guid>
<title>Java 日志的心路历程</title>
<link>https://toutiao.io/k/ro9ee3j</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;大家好，我是头发还很多的阿星&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;1.0480769230769231&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibYqmqMibibbSDoamBfKXb8qz3dQL1YjBQcjnHUMBnpSc4sL7f8o7KTF8Yg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;312&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;今天来和大家聊聊&lt;code&gt;Java&lt;/code&gt;日志体系，&lt;code&gt;Java&lt;/code&gt;日志体系可以说是五花八门，眼花缭乱。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;导致很多小伙伴因为日志标准库之间复杂的关系而感到烦恼，不知道统一系统的日志标准库需要依赖哪些&lt;code&gt;jar&lt;/code&gt;包，百度一下所谓的博客，照着人家复制，却无法弄懂原理，甚至还有搞了半天项目因&lt;code&gt;jar&lt;/code&gt;冲突跑不起来的，心态直接爆炸。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.6875&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibY1erribSLr54kXxHIJuWtKficyG61QD2lmOHoC67bL9OsI9EYsd5ibiba2A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;304&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;咳咳，淡定淡定，别慌，阿星带你们弄懂其中的原理，只要你静下心，跟着本文来，再给个&lt;strong&gt;一键三连&lt;/strong&gt;，你就能随心所欲的更改日志标准库，统一日志输出。&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;发展史&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们要正确的配置好日志，让&lt;code&gt;jar&lt;/code&gt;相互生效，就要先理清关系，理清关系就得从它的发展史下手。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span/&gt;&lt;span&gt;System.out和System.err&lt;/span&gt;&lt;span/&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;2001&lt;/code&gt;年以前，&lt;code&gt;Java&lt;/code&gt;是没有日志库的，打印日志全凭&lt;code&gt;System.out&lt;/code&gt;和&lt;code&gt;System.err&lt;/code&gt;，我人都傻了，十分离谱。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.5214198286413708&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibYfkfib54nsfaVUPdt5HHD6wUT6JVxiciaCn2hicb5LZfCka67rClFuyiclew/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;817&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;缺点如下：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;产生大量的IO操作   同时在生产环境中 无法合理的控制是否需要输出&lt;/strong&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;输出的内容不能保存到文件&lt;/strong&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;只打印在控制台，打印完就过去了，也就是说除非你一直盯着程序跑&lt;/strong&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;无法定制化，且日志粒度不够细&lt;/strong&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span/&gt;&lt;span&gt;Log4j&lt;/span&gt;&lt;span/&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;此时名为&lt;code&gt;Ceki&lt;/code&gt;的巨佬站出来，说你这个不好用，我这个好用，接着在&lt;code&gt;2001&lt;/code&gt;年掏出了&lt;code&gt;Log4j&lt;/code&gt;，用起来也确实比&lt;code&gt;System&lt;/code&gt;系列香，&lt;code&gt;Log4j&lt;/code&gt;一度成为业内日志标准。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.4806201550387597&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibY7a1uYiblNYriawTy3XAExU8B1w8ht1HL6hTAt96spzvUuylTUyiaGL0iaQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;774&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;后来&lt;code&gt;Log4j&lt;/code&gt;成为&lt;code&gt;Apache&lt;/code&gt;项目，&lt;code&gt;Ceki&lt;/code&gt;也加入&lt;code&gt;Apache&lt;/code&gt;组织（据说&lt;code&gt;Apache&lt;/code&gt;还曾经建议&lt;code&gt;Sun&lt;/code&gt;引入&lt;code&gt;Log4j&lt;/code&gt;到&lt;code&gt;Java&lt;/code&gt;的标准库中，但&lt;code&gt;Sun&lt;/code&gt;拒绝了）。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span/&gt;&lt;span&gt;JUL（Java Util Logging）&lt;/span&gt;&lt;span/&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;原来&lt;code&gt;Sun&lt;/code&gt;也有自己的盘算，不就一个日志嘛，我自己也搞一个，&lt;code&gt;2002&lt;/code&gt;年&lt;code&gt;2&lt;/code&gt;月&lt;code&gt;JDK1.4&lt;/code&gt;发布，&lt;code&gt;Sun&lt;/code&gt;推出了自己的日志标准库&lt;code&gt;JUL（Java Util Logging）&lt;/code&gt;，其实是照着&lt;code&gt;Log4j&lt;/code&gt;抄的，而且还没抄好，还是在&lt;code&gt;JDK1.5&lt;/code&gt;以后性能和可用性才有所提升。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;因为在&lt;code&gt;JUL&lt;/code&gt;出来以前，&lt;code&gt;Log4j&lt;/code&gt;就已经成为一项成熟的技术，使得&lt;code&gt;Log4j&lt;/code&gt;在选择上占据了一定的优势。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span/&gt;&lt;span&gt;JCL（Jakarta Commons Logging）&lt;/span&gt;&lt;span/&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;现在市面上有两款&lt;code&gt;Java&lt;/code&gt;日志标准库，分别是&lt;code&gt;Log4j&lt;/code&gt;与&lt;code&gt;JUL&lt;/code&gt;，此时&lt;code&gt;Apache&lt;/code&gt;组织十分有想法，想统一抽象日志标准接口规范（&lt;strong&gt;就像&lt;code&gt;JDBC&lt;/code&gt;统一数据库访问层&lt;/strong&gt;），让其他日志标准库去实现它的抽象接口，这样你的日志操作都是统一的接口。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.9438775510204082&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibYYxVbzT8OJUgUicrTwmVVHo5gJ2RbBCRT4yuu2xGbwyJ6NFHonhN4CqQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;588&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;于是&lt;code&gt;JUL&lt;/code&gt;刚出来不久，&lt;code&gt;2002&lt;/code&gt;年&lt;code&gt;8&lt;/code&gt;月&lt;code&gt;Apache&lt;/code&gt;推出了&lt;code&gt;JCL（Jakarta Commons Logging）&lt;/code&gt;，也就是日志抽象层，支持运行时动态加载日志组件的实现，当然也提供一个默认实现&lt;code&gt;Simple Log&lt;/code&gt;（&lt;strong&gt;在&lt;code&gt;ClassLoader&lt;/code&gt;中进行查找，如果能找到&lt;code&gt;Log4j&lt;/code&gt;则默认使用&lt;code&gt;log4j&lt;/code&gt;实现，如果没有则使用&lt;code&gt;JUL&lt;/code&gt; 实现，再没有则使用JCL内部提供的&lt;code&gt;Simple Log&lt;/code&gt;实现&lt;/strong&gt;）。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.45861297539149887&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibYzSDCHYxHr1PacS7WXrvO4LNTz5icwHBGl7z4sZOqvLuW0JFcVoq3alg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;894&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但是&lt;code&gt;JUL&lt;/code&gt;有三个缺点&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;效率较低&lt;/strong&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;容易引发混乱&lt;/strong&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;使用了自定义ClassLoader的程序中，使用JCL会引发内存泄露&lt;/strong&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;总之就是问题也挺多~&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span/&gt;&lt;span&gt;Slf4j（Simple Logging Facade for Java）&lt;/span&gt;&lt;span/&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;2006&lt;/code&gt;年巨佬&lt;code&gt;Ceki&lt;/code&gt;（&lt;code&gt;Log4j&lt;/code&gt;的作者）因为一些原因离开了&lt;code&gt;Apache&lt;/code&gt;组织，之后&lt;code&gt;Ceki&lt;/code&gt;觉得&lt;code&gt;JCL&lt;/code&gt;不好用，自己撸了一套新的日志标准接口规范&lt;code&gt;Slf4j（Simple Logging Facade for Java）&lt;/code&gt;，也可以称为日志门面，很明显&lt;code&gt;Slf4j&lt;/code&gt;是对标&lt;code&gt;JCL&lt;/code&gt;，后面也证明了&lt;code&gt;Slf4j&lt;/code&gt;比&lt;code&gt;JCL&lt;/code&gt;更优秀。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.4330616996507567&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibYWJ1Ybg6dbTOe5ia9FAjDiahiaFu7dVYN74XDl0eco0vbJSXr7CErb76qA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;859&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;由于&lt;code&gt;Slf4j&lt;/code&gt;出来的较晚，光有一个接口，没有实现的日志库也很蛋疼，如&lt;code&gt;JUL&lt;/code&gt;和&lt;code&gt;Log4j&lt;/code&gt;都是没有实现&lt;code&gt;Slf4j&lt;/code&gt;，就算开发者想用&lt;code&gt;Slf4j&lt;/code&gt;也用不了。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.5390984360625575&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibYQYyvqfeHby8D656DEBw5uOqw4xTkgyShzsE8o4bNsbPKzSbVXTuC3w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1087&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这时候巨佬&lt;code&gt;Ceki&lt;/code&gt;发话了，&lt;code&gt;Sum&lt;/code&gt;和&lt;code&gt;Apache&lt;/code&gt;这两个组织不来实现我的接口没关系，我来实现就好了，只有魔法才能打败魔法。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;后面巨佬&lt;code&gt;Ceki&lt;/code&gt;提供了一系列的桥接包来帮助&lt;code&gt;Slf4j&lt;/code&gt;接口与其他日志库建立关系，这种方式称为桥接设计模式。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.5409383624655014&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibY2Lasl8E7kgWOojtjib5ibMISRRI0GAzWibouHxrT2yGXSstAhYlxydN3Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1087&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;有了桥接包配合，其他的问题都迎刃而解，我们先看看有那些问题吧~&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.7542372881355932&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibYhqhWeEl9KUqAW95483sMIwfqbRVBp1w5CRQEffXMqhzlG6jibu8en9Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;944&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;从上图可以看出，不同时期的项目使用的日志标准库不一样，我们以&lt;code&gt;Slf4j&lt;/code&gt;接口作为划分线，考虑两个问题，一个是&lt;code&gt;Slf4j&lt;/code&gt;之前的项目怎么统一日志标准，另一个是&lt;code&gt;Slf4j&lt;/code&gt;之后的项目怎么统一日志标准。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;先来看&lt;code&gt;Slf4j&lt;/code&gt;之后的项目怎么统一日志标准，项目&lt;code&gt;D、E&lt;/code&gt;都使用&lt;code&gt;Slf4j&lt;/code&gt;接口，首先在代码层已经统一了，如果要做到日志标准统一也十分简单，直接替换日志标准库与对应的桥接包即可，就如下图所示&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.4622892635314996&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibY014AOjRYdc3owrGCibWXqiahVW5hXnb0G6JdFrxHicOKalWlStP59vg7A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1127&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;好家伙，&lt;code&gt;Slf4j&lt;/code&gt;接口配合桥接包简直无敌了，灵活配置。。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;再来看&lt;code&gt;Slf4j&lt;/code&gt;之前的项目怎么统一日志标准，项目&lt;code&gt;A、B、C&lt;/code&gt;都使用了不同的日志标准，所以它们的&lt;code&gt;API&lt;/code&gt;不一样，如果要统一标准，首先就要改动代码，这样侵入太强了，难道就没有办法在不改代码的情况下，让&lt;code&gt;A、B、C&lt;/code&gt;项目统一日志标准吗？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;办法当然有，&lt;code&gt;Slf4j&lt;/code&gt;接口能通过桥接包勾搭上具体的日志标准库，为什么日志标准库不能通过桥接包勾搭&lt;code&gt;Slf4j&lt;/code&gt;接口呢？&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibY8icz0PqVcql38hpUKaVhCWk3icKOTvicyqcBhKB5Lp8PtyAygw2rOvDyQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;200&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;阿星想把&lt;code&gt;A、B、C&lt;/code&gt;项目都统一成&lt;code&gt;Log4j&lt;/code&gt;日志输出，只需要做如下调整&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.6921029281277729&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibYJcYf5nIeAYuEnQPxySVcDNarDz8DdNkM4VbGSEgzJqXRicMM3zFNndw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1127&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;是不是很简单，引入&lt;code&gt;Slf4j&lt;/code&gt;与相关的桥接包，再引入具体的日志标准库，比如&lt;code&gt;Log4j&lt;/code&gt;，就完成了&lt;code&gt;3&lt;/code&gt;个项目的统一日志标准，对代码层是零入侵。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span/&gt;&lt;span&gt;Logback&lt;/span&gt;&lt;span/&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;Ceki&lt;/code&gt;巨佬觉得市场上的日志标准库都是间接实现&lt;code&gt;Slf4j&lt;/code&gt;接口，也就是说每次都需要配合桥接包，因此在&lt;code&gt;2006&lt;/code&gt;年，&lt;code&gt;Ceki&lt;/code&gt;巨佬基于&lt;code&gt;Slf4j&lt;/code&gt;接口撸出了&lt;code&gt;Logback&lt;/code&gt;日志标准库，做为&lt;code&gt;Slf4j&lt;/code&gt;接口的默认实现，&lt;code&gt;Logback&lt;/code&gt;也十分给力，在功能完整度和性能上超越了所有已有的日志标准库。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;目前&lt;code&gt;Java&lt;/code&gt;日志体系关系图如下&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.8674377224199288&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibYlm5aNdpwohKIWOxrRrPcCMMKJuIJzSHPhe1VG88bOKy44IR1DAHEBg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1124&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span/&gt;&lt;span&gt;Log4j2&lt;/span&gt;&lt;span/&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;自从&lt;code&gt;Logback&lt;/code&gt;出来后，可以说&lt;code&gt;Slf4j+Logback&lt;/code&gt;组合如日中天，很冲击&lt;code&gt;JCL+Log4j&lt;/code&gt;组合，&lt;code&gt;Apache&lt;/code&gt;眼看有被&lt;code&gt;Logback&lt;/code&gt;反超的势头。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibYtJuSjBHvTtXZTMojFqia7KQnyxVmeicB9udpG6vBWY7wbGL1VEIicnQbw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;240&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;于&lt;code&gt;2012&lt;/code&gt;年，&lt;code&gt;Apache&lt;/code&gt;直接推出新项目&lt;code&gt;Log4j2&lt;/code&gt;（&lt;strong&gt;不兼容&lt;code&gt;Log4j&lt;/code&gt;&lt;/strong&gt;），&lt;code&gt;Log4j2&lt;/code&gt;全面借鉴&lt;code&gt;Slf4j+Logback&lt;/code&gt;（&lt;strong&gt;十分明显的抄袭嫌疑&lt;/strong&gt;）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;因为&lt;code&gt;Log4j2&lt;/code&gt;不仅仅具有&lt;code&gt;Logback&lt;/code&gt;的所有特性，还做了分离设计，分为&lt;code&gt;log4j-api&lt;/code&gt;和&lt;code&gt;log4j-core&lt;/code&gt;，&lt;code&gt;log4j-api&lt;/code&gt;是日志接口，&lt;code&gt;log4j-core&lt;/code&gt;是日志标准库，并且&lt;code&gt;Apache&lt;/code&gt;也为&lt;code&gt;Log4j2&lt;/code&gt;提供了各种桥接包。。。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.975&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibYq1EqVmEmiaWpYibQXHR9pyttg09BD0FRSuvLQTHnn0fseIFvRPg1NycA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;400&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;到目前为止&lt;code&gt;Java&lt;/code&gt;日志体系被划分为两大阵营，分别是&lt;code&gt;Apache&lt;/code&gt;阵营和&lt;code&gt;Ceki&lt;/code&gt;j阵营，如下图所示&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.7105263157894737&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibYRg4xrTfUTibgZ5Fnia6KScQTXSIgOYoJ3oiaRiaGwHzCQHVJcib5saDvu7w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1140&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;至于系统中用那套体系，各位自行选择，阿星个人偏向用&lt;code&gt;Ceki&lt;/code&gt;提供的&lt;code&gt;Slf4j&lt;/code&gt;那套&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;Slf4j的桥接包介绍&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;相信大家都对桥接包都有了基本概念，这里阿星罗列下与&lt;code&gt;Slf4j&lt;/code&gt;配合使用的桥接包&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;Slf4j&lt;/code&gt;转向某个日志标准库&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;slf4j-jdk14.jar&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;slf4j-log4j12.jar&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;log4j-slf4j-impl.jar&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;slf4j-jcl.jar&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;某个实际日志框架转向&lt;code&gt;Slf4j&lt;/code&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;jul-to-slf4j.jar&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;log4j-over-slf4j.jar&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;jcl-over-slf4j.jar&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;小小实践&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;从事&lt;code&gt;Java&lt;/code&gt;开发的伙伴们都清楚，&lt;code&gt;Spring&lt;/code&gt;框架内部使用&lt;code&gt;JCL&lt;/code&gt;做日志输出标准，可是项目使用&lt;code&gt;Slf4j + Logback&lt;/code&gt;做日志输出标准，问题来了，怎样才能让项目内的&lt;code&gt;Spring&lt;/code&gt;保持统一日志输出标准呢？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;其实非常简单，只需要引入正确的&lt;code&gt;Slf4j&lt;/code&gt;桥接包，去除无用的日志组件即可。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;1.1550632911392404&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibYD4C7RdooiaXtKlibE7y5DrBmKZ8Wk7PyW47HfZcyibwQjsWbhiaCeYKFZQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;632&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;阿星没骗你们吧，引入&lt;code&gt;jcl-over-slf4j.jar&lt;/code&gt;或&lt;code&gt;jul-to-slf4j.jar&lt;/code&gt;问题就解决了，十分简单~&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;小结&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;本文到此就结束了，以上，阿星通过&lt;code&gt;Java&lt;/code&gt;日志发展史一步一步的带大家理清&lt;code&gt;Java&lt;/code&gt;日志间的关系，并抛出问题以及解决问题，相信看完后，大家不会再因为日志标准库之间复杂的关系感到烦恼，同时也能&lt;strong&gt;知其所以然&lt;/strong&gt;的统一日志标准。&lt;/p&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;关于我&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里是阿星，一个热爱技术的Java程序猿，公众号  &lt;strong&gt;「程序猿阿星」&lt;/strong&gt; 里将会定期分享操作系统、计算机网络、Java、分布式、数据库等精品原创文章，2021，与您在 Be Better 的路上共同成长！&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;非常感谢各位小哥哥小姐姐们能看到这里，原创不易，文章有帮助可以关注、点个赞、分享与评论，都是支持（莫要白嫖）！&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.75&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/23OQmC1ia8nxJh2wXo6ezEbic71sEhxVibYaRSWzNFhVIKbVQVKaNTibhGnbv7pcmVS17tYW5SnzAURxeRBhulia6sA/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;240&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;愿你我都能奔赴在各自想去的路上，我们下篇文章见&lt;/p&gt;&lt;span&gt;- END -&lt;/span&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>f886a9f0fc09bc6ce0c8b480ea2b3e30</guid>
<title>开发中的一些坑</title>
<link>https://toutiao.io/k/fmgt734</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;本&lt;/span&gt;&lt;span&gt;篇文章罗列一些开发业务时遇到的那些&lt;/span&gt;&lt;span&gt;坑&lt;/span&gt;。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;微服务银弹&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当前的市面上各种微服务，DDD的课收割了一波又一波的韭菜，有同学听完了课就要迫不及待的尝试一下。学习新知识的动力当然值得肯定，但是具体落地需要根据公司实际场景来。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;某前同事找我咨询架构相关的事情，跟他一番交流让我彻底无语了。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.5936170212765958&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/picLDrXZzlob5zFQMFIoo9RficdeMS5KsavezzHaA20G3BoibTcxKXfbTbVZuDREMp4HzaiaH9z4sjGbriaHP6XfKYQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;470&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这是他们公司 JAVA 架构师落地的方案（2个开发，其中一个还是架构师，真是闹）。姑且不论架构师水平如何，当我看到 2 个后端开发，拆出了 17 个服务时，我的建议是&lt;strong&gt;立即开除这个人&lt;/strong&gt;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们在一个公司有一定的技术话语权时，想落地我们学到的技术时，一定要根据实际情况来，不能想当然的去横向、纵向拆分服务。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;是否拆分微服务条件：&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;公司业务是否到了一定规模&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;人员数量是否到了一定数量&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;服务治理能力是否完备，比如：配置中心，服务注册发现，日志系统等&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;是否有了一套完整的监控方案&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;持续集成，持续部署能力是否完备&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;服务部署是虚拟机还是 kubernetes ? 是否有足够能力运维？&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;....&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;总之，对于业务规模较小的公司，开发人员较少时，一定不要为了拆微服务而去拆，单体服务完全够用。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;一个 class 走天下&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;用这个 case 吐槽下某些 php 程序员。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;相信大部分同学都有一定的强迫症，比如：函数的参数个数，函数的行数，每行的最大长度等等。当然这些判断，借助 lint 工具都能完全解决。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;对于函数参数的控制，一般正确的做法：抽离程序逻辑，尽量控制函数逻辑。实在不行的可以借助 struct 或者 class 的封装特性，往下传递参数。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;不过有些 phper 却借助了 php 的特性，搞了一些骚操作：将所有的参数或者返回值全都放在一个全局的 Class 的 static 变量里面，这样就不需要函数间传递参数了。大概形式如下：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;class CommonService&lt;br/&gt;{&lt;br/&gt;&lt;br/&gt;    //存储接口的入参&lt;br/&gt;    static public &lt;span&gt;$inputParams&lt;/span&gt; = null;&lt;br/&gt;    static public &lt;span&gt;$output&lt;/span&gt; = [];&lt;br/&gt;    static public &lt;span&gt;$objMap&lt;/span&gt; = [];&lt;br/&gt;    &lt;br/&gt;    //....&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;1.1155555555555556&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/picLDrXZzlob5zFQMFIoo9RficdeMS5KsaUMmsNruWhUFibEBrCmljVq48Nm0M372wOqibia6F0gKibiclcH9eJoXzRiaQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;450&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这个写法有以下这些特点：&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;这个 Common Service 基本贯穿了整个业务逻辑&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;不同的位置都可能在更改或者读取某个字段&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;造成的结果：&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;不相关的业务逻辑强行耦合&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;某些位置刚修改的字段，可能被再次更改&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;预期之外的修改将整个逻辑污染&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;业务逻辑变得晦涩难懂&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;其实完全简单的封装就能解决的事情，搞出来的这种代码，让人实在忍不住吐槽。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;MySQL 里面全是 json&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;大部分互联网公司，MySQL 肯定是业务数据库的标配选择，毕竟运维成熟。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们设计数据库的时候，教科书是让我们至少遵守“第三范式”：&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;不过真实业务开发中，设计 MySQL 的时候，有的时候为了查询简单，会将某些字段设计成 json, 这样就减少一张关联表的查询。这种设计其实还算是比较合理做法。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但是更多的情况下，很多人把数据库字段设置成 json，美名是为了更好的扩展性。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比如下面这种设计：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.2152080344332855&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/picLDrXZzlob5zFQMFIoo9RficdeMS5KsaZz6yBXVibvib4zbYSPJXiagaywrkNq0JaYKRXLDYgwB04epicFblkES2icA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;697&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;由于商品的属性字段是特别多的，不同商品的属性是不固定的。为了扩展性，将商品属性字段全都塞到一个 json 里面，而且 json 也有一套逻辑在里面：aflag 与 bflag 会互相覆盖。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这么设计造成的结果：&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;商品属性字段基本处于无法控制的地步&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;哪些商品拥有哪些属性是不知道的&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;一个商品拥有哪些属性，需要通过一系列复杂的解析，计算才能知道&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;json 的字段是不确定的，golang/java 解析起来困难&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;json 字段作为扩展性，这个扩展性是我觉得是值得商榷的，因为大部分场景下能做扩展的字段，基本都是业务逻辑没有想清楚。如果一个表的某个字段是 json 类型，而且 json 里的字段能新增、修改，删除，最终就会造成这个 json 最终变得不可控，早晚走上数据库数据治理的地步。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;无脑吹 GraphQL&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;喜欢看博客或者公众号的同学，对 GraphQL 都不会陌生。看过 GraphqQL 的同学上来就被其特性吸引了。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;特性：&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;请求你所要的数据不多不少&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;获取多个资源只用一个请求&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;描述所有的可能类型系统&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;API 演进无需划分版本&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;是不是很有吸引力？看到这些特性，我觉得大部分同学都会忍不住尝试下。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我有幸具体落地过 GraphQL，这里就想吐槽一番。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;开发流程&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;GraphQL 是有默认的 Schema 的，这个 Schema 类似于 Protobuf。如果 Client、Server 对不齐这个 Schema 的话，Client 直接获取不到任何数据了。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在使用 http RESTFUL 开发 api 接口时，差不多是这个流程：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.15428571428571428&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/picLDrXZzlob5zFQMFIoo9RficdeMS5KsazKdssobvUOsjTBWImWQg3rZbkWPmQkwTZoia2AFBIK0Rxc70V4RRPZQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;875&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但是使用了 GraphQL，需要 Client/Server 双方坐下来，将各个字段都仔细讨论清楚了。了解过 GraphQL 的同学都知道，GraphQL 能从一个类型访问到另外一个任意类型，为了这个实现这个目标，双方讨论字段的过程简直慢的不可想象。可能排期都过去一星期了，字段都没对清楚。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.1541095890410959&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/picLDrXZzlob5zFQMFIoo9RficdeMS5Ksa5u4g6XmU1erYndkDI7mS9QxNxGcBCspQaR36suribgFrdfibYGWrBoUw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;876&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;固然字段对清楚对开发结果的反馈是正向的，但是这个 Client/Server 之间的沟通过程真的很慢。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;网关&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;GraphQL 最大的问题就是网关。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;客户端使用 Graphql 的最大问题是：客户端只能有一个 Schema。所以当你有多个 Graphql Server 时想对外提供服务时，就需要合并 Schema。目前市面流行的网关 Nginx, APISIX, Kong 都不支持将 Schema 合并。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;于是你只能将所有的业务都耦合到同一个 GraphQL 中，无形中将 GraphQL 做成了单体服务。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;曾经调研过这个问题，发现只有 JS 提供一个合并 schema 的功能，其他语言基本都没有这个实现。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;复杂度&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;GraphQL 另外一个问题就是对查询复杂度的控制。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;GraphQL 可用从一个类型任意查询到任意一个类型。假如没有任何控制的话，客户端一次请求能将所有的数据全都拉取出来。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当时遇到过的一个问题：客户端拉取所有的列表，又将列表中每条记录的详情，通过一次请求全部请求，导致的结果：服务器直接就崩了。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;GraphQL 提供了复杂度和深度的控制功能，但是这个复杂度和深度是很难计算的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;综上：不建议项目使用 GraphQL。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;本文先罗列这些开发中的坑，后续再补充。更多学习学习资料分享，关注公众号回复指令：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;回复 0，获取 《Go 面经》&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;回复 1，获取 《Go 源码流程图》&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.30918595967139656&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/picLDrXZzlob5zFQMFIoo9RficdeMS5KsaTI036le5Ribiaqibz9ZAicA149ib6LAjZh4WFgiblooJRUA5aocK9NEu69qA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2678&quot;/&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>74a8946ebdd37eebf90b90ef71f1b62c</guid>
<title>深入 Go Module 之 go.mod 文件解析</title>
<link>https://toutiao.io/k/hqnr8hi</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;article-entry&quot; itemprop=&quot;articleBody&quot;&gt;
      
      
      
      &lt;p&gt;昨天在GopherChina 2021大会上分享了《深入Go Module》，干货太多了，接下来的分几篇文章详细介绍下。&lt;/p&gt;
&lt;a id=&quot;more&quot;/&gt;
&lt;p&gt;现在哪个新编程语言不都是提供库版本工具呢？Java、Python、nonjs、rust都有一套自己的库管理方法和库注册中心，不管它们的叫法如何。Go最初推出来的时候并没有一个库管理方式，而是采用&lt;strong&gt;GOPATH&lt;/strong&gt;的方式，所有的项目都必须放在GOPATH下，不止一次有从其它语言比如Java转过过来的同学问我:&quot;为什么我在我的一个文件夹下建的项目没法编译呢？&quot;,那是因为他的文件夹没有建在GOPATH下，而等他想在GOPATH下建项目的时候，package path他又不知道该怎么写。&lt;/p&gt;
&lt;p&gt;所以GO使用的GOPATH方式确实对新手来说是一件非常令人困惑的事。而随着Go生态圈的快速壮大，另一个经典的库管理的问题也出现了。就是我们项目中的依赖库经常出现API broken的情况，因为依赖的库相关接口改变了，导致我们的项目更新了依赖库后编译不过，我们不得不需要修改自己的代码以便适应依赖库的最新版本。更困难的是，如果多个依赖库分别依赖第三个依赖库的第三个版本，版本冲突就出现了。&lt;/p&gt;
&lt;p&gt;依赖库冲突几乎每个编程语言都有这样的问题，甚至操作系统也有&lt;a href=&quot;https://baike.baidu.com/item/DLL%E5%9C%B0%E7%8B%B1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;DLL地狱问题&lt;/a&gt;,所以各种编程语言都尝试使用自己的方式解决依赖库版本的问题。&lt;/p&gt;
&lt;p&gt;前面说了，Go最初是没有官方的库版本的方式的，都是靠第三方的工具实现，比如godep、glide、dep等,从2012年各种工具分别出现，大海淘沙，浮浮沉沉，最后也就有几个常用的工具大家在使用，dep是2017出现的一个版本，让人眼前一亮，而且也得到了Go官方的支持，项目也放在Golang组织之下&lt;a href=&quot;https://github.com/golang/dep&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;golang/dep&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;但是蜜月期没有多久，2018年Russ Cox经过深思熟虑以及一些早期的试验，决定go库版本的方式需要从头再来，深度集成go的各种工具(go get、go list等)，实现精巧的最小化版本选择算法，解决broken API共存等问题，所以dep就被废弃了，这件事还导致dep的作者相当的失望和数次争辩。&lt;/p&gt;
&lt;p&gt;但是不管怎样，Go官方的库管理方式还是在2018年go 1.11中实验性的推出了，通过设置一个环境变量&lt;code&gt;GO111MODULE=on&lt;/code&gt;就可以弃用，并且期望go 1.12正式退出，而环境变量&lt;code&gt;GO111MODULE=on&lt;/code&gt;就可以去掉了。可是没有想到的是，go module推出后问题多多，现在每一个go的版本中都有对go module修改，导致这个特性一直没有最终完成，这也是我吐槽它的地方：都快三年了，一个feature都开发那么久，而且未来的go 1.17、go 1.18还有一些改变，同学们，还学的动吗？&lt;/p&gt;
&lt;p&gt;go官方库管理方式叫做go module。 先前，我们的库都是以package来组织的，package以一个文件或者多个文件实现单一的功能，一个项目包含一个package或者多个package。Go module就是一组统一打版和发布的package的集合，在根文件下有go.mod文件定义module path和依赖库的版本，package以子文件夹的形式存在module中，对package path就是 module path +&quot;/&quot;+ package name的形式。&lt;/p&gt;
&lt;p&gt;一般我们项目都是单module的形式，项目主文件夹下包含go.mod,子文件夹定义package，或者主文件夹也是一个package。但是一个项目也可以包含多个module,只不过这种方式不常用而已。&lt;/p&gt;
&lt;h2 id=&quot;go-mod&quot;&gt;go.mod&lt;/h2&gt;
&lt;p&gt;go module最重要的是go.mod文件的定义，它用来标记一个module和它的依赖库以及依赖库的版本。会放在module的主文件夹下，一般以&lt;code&gt;go.mod&lt;/code&gt;命名。&lt;/p&gt;
&lt;p&gt;一个go.mod内容类似下面的格式:&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;1&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;2&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;3&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;4&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;5&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;6&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;7&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;8&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;9&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;10&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;11&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;12&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;13&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;14&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;15&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;16&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;17&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;18&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;19&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;20&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;21&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;22&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;23&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;24&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;25&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;26&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;27&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;module github.com/panicthis/modfile&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;number&quot;&gt; 1.16&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;require (&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;github.com/cenk/backoff v2&lt;span class=&quot;number&quot;&gt;.2.1&lt;/span&gt;+incompatible&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;github.com/coreos/bbolt v1&lt;span class=&quot;number&quot;&gt;.3.3&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;github.com/edwingeng/doublejump v0&lt;span class=&quot;number&quot;&gt;.0.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-20200330080233&lt;/span&gt;-e4ea8bd1cbed&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;github.com/stretchr/objx v0&lt;span class=&quot;number&quot;&gt;.3.0&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// indirect&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;github.com/stretchr/testify v1&lt;span class=&quot;number&quot;&gt;.7.0&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;go&lt;/span&gt;.etcd.io/bbolt v1&lt;span class=&quot;number&quot;&gt;.3.6&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// indirect&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;go&lt;/span&gt;.etcd.io/etcd/client/v2 v2&lt;span class=&quot;number&quot;&gt;.305.0&lt;/span&gt;-rc&lt;span class=&quot;number&quot;&gt;.1&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;go&lt;/span&gt;.etcd.io/etcd/client/v3 v3&lt;span class=&quot;number&quot;&gt;.5.0&lt;/span&gt;-rc&lt;span class=&quot;number&quot;&gt;.1&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;golang.org/x/net v0&lt;span class=&quot;number&quot;&gt;.0.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-20210610132358&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-84&lt;/span&gt;b48f89b13b &lt;span class=&quot;comment&quot;&gt;// indirect&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;golang.org/x/sys v0&lt;span class=&quot;number&quot;&gt;.0.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-20210611083646&lt;/span&gt;-a4fc73990273 &lt;span class=&quot;comment&quot;&gt;// indirect&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;)&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;exclude (&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;go&lt;/span&gt;.etcd.io/etcd/client/v2 v2&lt;span class=&quot;number&quot;&gt;.305.0&lt;/span&gt;-rc&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;go&lt;/span&gt;.etcd.io/etcd/client/v3 v3&lt;span class=&quot;number&quot;&gt;.5.0&lt;/span&gt;-rc&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;)&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;retract (&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;    v1&lt;span class=&quot;number&quot;&gt;.0.0&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// 废弃的版本，请使用v1.1.0&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;)&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;虽然是一个简单的文件，但是里面的乾坤不少，让我们依次介绍它们。&lt;/p&gt;
&lt;h3 id=&quot;语义化版本_2-0-0&quot;&gt;语义化版本 2.0.0&lt;/h3&gt;
&lt;p&gt;Go module遵循&lt;a href=&quot;https://semver.org/lang/zh-CN/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;语义化版本规范 2.0.0&lt;/a&gt;。语义化版本规范 2.0.0规定了版本号的格式，每个字段的意义以及版本号比较的规则等等。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;semver2.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;如果你想为你的项目发版，你可以设置tag为上面的格式，比如&lt;code&gt;v1.3.0&lt;/code&gt;、&lt;code&gt;v2.0.0-rc.1&lt;/code&gt;等等。metadata中在Go版本比较时是不参与运算的，只是一个辅助信息。&lt;/p&gt;
&lt;h3 id=&quot;module_path&quot;&gt;module path&lt;/h3&gt;
&lt;p&gt;go.mod的第一行是module path, 一般采用仓库+module name的方式定义。这样我们获取一个module的时候，就可以到它的仓库中去查询，或者让go proxy到仓库中去查询。&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;1&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;github&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;com&lt;/span&gt;/&lt;span class=&quot;title&quot;&gt;panicthis&lt;/span&gt;/&lt;span class=&quot;title&quot;&gt;modfile&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;如果你的版本已经大于等于2.0.0，按照Go的规范，你应该加上major的后缀，module path改成下面的方式:&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;1&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;github&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;com&lt;/span&gt;/&lt;span class=&quot;title&quot;&gt;panicthis&lt;/span&gt;/&lt;span class=&quot;title&quot;&gt;modfile&lt;/span&gt;/&lt;span class=&quot;title&quot;&gt;v2&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;1&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;github&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;com&lt;/span&gt;/&lt;span class=&quot;title&quot;&gt;panicthis&lt;/span&gt;/&lt;span class=&quot;title&quot;&gt;modfile&lt;/span&gt;/&lt;span class=&quot;title&quot;&gt;v3&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;而且引用代码的时候，也要加上&lt;code&gt;v2&lt;/code&gt;、&lt;code&gt;v3&lt;/code&gt;、&lt;code&gt;vx&lt;/code&gt;后缀，以便和其它major版本进行区分。&lt;/p&gt;
&lt;p&gt;这是一个很奇怪的约定，带来的好处是你一个项目中可以使用依赖库的不同的major版本，它们可以共存。&lt;/p&gt;
&lt;h3 id=&quot;go_directive&quot;&gt;go directive&lt;/h3&gt;
&lt;p&gt;第二行是go directive。格式是 &lt;code&gt;go 1.xx&lt;/code&gt;,它并不是指你当前使用的Go版本，而是指名你的代码所需要的Go的最低版本。&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;/&gt;

&lt;p&gt;因为Go的标准库也有所变化，一些新的API也被增加进来，如果你的代码用到了这些新的API,你可能需要指名它依赖的go版本。&lt;/p&gt;
&lt;p&gt;这一行不是必须的，你可以不写。 &lt;/p&gt;
&lt;h3 id=&quot;require&quot;&gt;require&lt;/h3&gt;
&lt;p&gt;require段中列出了项目所需要的各个依赖库以及它们的版本，除了正规的&lt;code&gt;v1.3.0&lt;/code&gt;这样的版本外，还有一些奇奇怪怪的版本和注释，那么它们又是什么意思呢？&lt;/p&gt;
&lt;p&gt;正式的版本号我们就不需要介绍了，大家都懂:&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;1&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;github.&lt;span class=&quot;keyword&quot;&gt;com&lt;/span&gt;/coreos/bbolt v1.&lt;span class=&quot;number&quot;&gt;3.3&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h4 id=&quot;伪版本号&quot;&gt;伪版本号&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;version1.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;1&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;github.com/edwingeng/doublejump v0.&lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;20200330080233&lt;/span&gt;&lt;span class=&quot;operator&quot;&gt;-e&lt;/span&gt;4ea8bd1cbed&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;上面这个库中的版本号就是一个伪版本号&lt;code&gt;v0.0.0-20200330080233-e4ea8bd1cbed&lt;/code&gt;,这是go module为它生成的一个类似符合语义化版本2.0.0版本，实际这个库并没有发布这个版本。&lt;/p&gt;
&lt;p&gt;正式因为这个依赖库没有发布版本，而go module需要指定这个库的一个确定的版本，所以才创建的这样一个伪版本号。&lt;/p&gt;
&lt;p&gt;go module的目的就是在go.mod中标记出这个项目所有的依赖以及它们确定的某个版本。&lt;/p&gt;
&lt;p&gt;这里的&lt;code&gt;20200330080233&lt;/code&gt;是这次提交的时间，格式是&lt;code&gt;yyyyMMddhhmmss&lt;/code&gt;, 而&lt;code&gt;e4ea8bd1cbed&lt;/code&gt;就是这个版本的commit id,通过这个字段，就可以确定这个库的特定的版本。&lt;/p&gt;
&lt;p&gt;而前面的&lt;code&gt;v0.0.0&lt;/code&gt;可能有多种生成方式，主要看你这个commit的base version:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;vX.0.0-yyyymmddhhmmss-abcdefabcdef: 如果没有base version,那么就是vX.0.0的形式&lt;/li&gt;
&lt;li&gt;vX.Y.Z-pre.0.yyyymmddhhmmss-abcdefabcdef： 如果base version是一个预发布的版本，比如vX.Y.Z-pre,那么它就用vX.Y.Z-pre.0的形式&lt;/li&gt;
&lt;li&gt;vX.Y.(Z+1)-0.yyyymmddhhmmss-abcdefabcdef: 如果base version是一个正式发布的版本，那么它就patch号加1，如vX.Y.(Z+1)-0&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;indirect注释&quot;&gt;indirect注释&lt;/h3&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;1&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;2&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;3&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;go&lt;/span&gt;.etcd.io/bbolt v1&lt;span class=&quot;number&quot;&gt;.3.6&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// indirect&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;golang.org/x/net v0&lt;span class=&quot;number&quot;&gt;.0.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-20210610132358&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-84&lt;/span&gt;b48f89b13b &lt;span class=&quot;comment&quot;&gt;// indirect&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;golang.org/x/sys v0&lt;span class=&quot;number&quot;&gt;.0.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-20210611083646&lt;/span&gt;-a4fc73990273 &lt;span class=&quot;comment&quot;&gt;// indirect&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;有些库后面加了&lt;code&gt;indirect&lt;/code&gt;后缀，这又是什么意思的。&lt;/p&gt;
&lt;p&gt;如果用一句话总结，间接的使用了这个库，但是又没有被列到某个go.mod中，当然这句话也不算太准确，更精确的说法是下面的情况之一就会对这个库加indirect后缀：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当前项目依赖A,但是A的go.mod遗漏了B, 那么就会在当前项目的go.mod中补充B, 加indirect注释&lt;/li&gt;
&lt;li&gt;当前项目依赖A,但是A没有go.mod,同样就会在当前项目的go.mod中补充B, 加indirect注释&lt;/li&gt;
&lt;li&gt;当前项目依赖A,A又依赖B,当对A降级的时候，降级的A不再依赖B,这个时候B就标记indirect注释&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;incompatible&quot;&gt;incompatible&lt;/h3&gt;
&lt;p&gt;有些库后面加了incompatible后缀，但是你如果看这些项目，它们只是发布了v2.2.1的tag,并没有&lt;code&gt;+incompatible&lt;/code&gt;后缀。&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;1&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;github.&lt;span class=&quot;keyword&quot;&gt;com&lt;/span&gt;/cenk/backoff v2.&lt;span class=&quot;number&quot;&gt;2.1&lt;/span&gt;+incompatible&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;这些库采用了go.mod的管理，但是不幸的是，虽然这些库的版major版本已经大于等于2了，但是他们的module path中依然没有添加v2、v3这样的后缀。&lt;/p&gt;
&lt;p&gt;所以gho module把它们标记为&lt;code&gt;incompatible&lt;/code&gt;的，虽然可以引用，但是实际它们是不符合规范的。&lt;/p&gt;
&lt;h3 id=&quot;exclude&quot;&gt;exclude&lt;/h3&gt;
&lt;p&gt;如果你想在你的项目中跳过某个依赖库的某个版本，你就可以使用这个段。&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;1&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;2&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;3&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;4&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;exclude (&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;go&lt;/span&gt;.etcd.io/etcd/client/v2 v2.&lt;span class=&quot;number&quot;&gt;305.0&lt;/span&gt;-rc.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;go&lt;/span&gt;.etcd.io/etcd/client/v3 v3.&lt;span class=&quot;number&quot;&gt;5.0&lt;/span&gt;-rc.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;)&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;这样，Go在版本选择的时候，就会主动跳过这些版本，比如你使用&lt;code&gt;go get -u ......&lt;/code&gt;或者&lt;code&gt;go get github.com/xxx/xxx@latest&lt;/code&gt;等命令时，会执行version query的动作，这些版本不在考虑的范围之内。&lt;/p&gt;
&lt;h3 id=&quot;replace&quot;&gt;replace&lt;/h3&gt;
&lt;p&gt;replace也是常用的一个手段，用来解决一些错误的依赖库的引用或者调试依赖库。&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;1&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;2&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;3&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;replace github.&lt;span class=&quot;keyword&quot;&gt;com&lt;/span&gt;/coreos/bbolt =&amp;gt; &lt;span class=&quot;keyword&quot;&gt;go&lt;/span&gt;.etcd.io/bbolt v1.&lt;span class=&quot;number&quot;&gt;3.3&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;replace github.&lt;span class=&quot;keyword&quot;&gt;com&lt;/span&gt;/panicthis/A v1.&lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt; =&amp;gt; github.&lt;span class=&quot;keyword&quot;&gt;com&lt;/span&gt;/panicthis/R v1.&lt;span class=&quot;number&quot;&gt;8.0&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;replace github.&lt;span class=&quot;keyword&quot;&gt;com&lt;/span&gt;/coreos/bbolt =&amp;gt; ../R&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;比如etcd v3.3.x的版本中错误的使用了&lt;code&gt;github.com/coreos/bbolt&lt;/code&gt;作为bbolt的module path,其实这个库在它自己的go.mod中声明的module path是&lt;code&gt;go.etcd.io/bbolt&lt;/code&gt;，又比如etcd使用的grpc版本有问题，你也可以通过replace替换成所需的grpc版本。&lt;/p&gt;
&lt;p&gt;甚至你觉得某个依赖库有问题，自己fork到本地做修改，想调试一下，你也可以替换成本地的文件夹。&lt;/p&gt;
&lt;p&gt;replace可以替换某个库的所有版本到另一个库的特定版本，也可以替换某个库的特定版本到另一个库的特定版本。&lt;/p&gt;
&lt;h3 id=&quot;retract&quot;&gt;retract&lt;/h3&gt;
&lt;p&gt;retract是go 1.16中新增加的内容，借用学术界期刊撤稿的术语，宣布撤回库的某个版本。&lt;/p&gt;
&lt;p&gt;如果你误发布了某个版本，或者事后发现某个版本不成熟，那么你可以推一个新的版本，在新的版本中，声明前面的某个版本被撤回，提示大家都不要用了。&lt;/p&gt;
&lt;p&gt;撤回的版本tag依然还存在，go proxy也存在这个版本，所以你如果强制使用，还是可以使用的，否则这些版本就会被跳过。&lt;/p&gt;
&lt;p&gt;和exclude的区别是retract是这个库的owner定义的， 而exclude是库的使用者在自己的go.mod中定义的。&lt;/p&gt;

      
    &lt;/div&gt;
    &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>