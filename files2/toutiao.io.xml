<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>13d0ea37fe1e4a357fbf0bec787ee5e1</guid>
<title>一个小破网站，居然比 Python 官网还牛逼</title>
<link>https://toutiao.io/k/noxp0wx</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;p class=&quot;original_area_primary&quot;&gt;
                                                                                                &lt;/p&gt;

                    
                                            &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span&gt;前两天，我发现有个前同事写的 Shell 脚本经常在出问题，考虑这个脚本一直挺不稳定的，维护起来也挺头疼，原因是 Shell 脚本写稍微复杂一点的逻辑，代码就变得十分臃肿，对比 Python 真的太差劲了。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;这个 Shell 脚本中有一个功能是检查机器上的 rpm 包与中心端的包版本进行对比，在本地用 Shell 取 rpm 信息很方便，但要取 rpm 包版本，其实是很难的。&lt;/p&gt;&lt;p&gt;原因是 rpm 包的版本格式分非常多种，根本无法使用简单的字符串分割来取得具体的版本号，更不用说版本对比。&lt;/p&gt;&lt;p&gt;在重写这个功能的时候，我在找到了能直接获取 Linux 机器 rpm 包的 Python 接口库，这个库要使用 yum 进行安装&lt;/p&gt;&lt;pre&gt;&lt;code&gt;yum install -y rpm-python&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;装上之后，就可以直接导入使用。&lt;br/&gt;由于不是通过 pip 安装的，因此 rpm-python 是安装在&lt;code&gt;/usr/lib64/python2.7/site-packages/&lt;/code&gt; 目录下的。&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; &lt;span&gt;import&lt;/span&gt; rpm&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; rpm.__path__&lt;br/&gt;[&lt;span&gt;&#x27;/usr/lib64/python2.7/site-packages/rpm&#x27;&lt;/span&gt;]&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;&lt;span&gt;# &lt;/span&gt;&lt;span&gt;1. 问题来了&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;接口库找到了，也安装上了，可问题是。。。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;该怎么用？？？&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;你以为百度一下就知道了？&lt;/p&gt;&lt;p&gt;百度出来的，关于这个库的介绍几乎没有。找到的几个也不知所云，完全 get 不到逻辑。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5684210526315789&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/QB6G4ZoE185AuRII3ncniaicCRnyLoE5oMGBicRvgcHcu5rr48jgPCxJHp8QEQ7VmYIAIxbLnsAK1ysJGrOMFu9fA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1710&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;于是我尝试着去该库的 pypi 和 github 上，希望找到一些 demo 啥的，先入个门。&lt;/p&gt;&lt;p&gt;看来是我想多了，要啥没啥，一片空白。。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5190839694656488&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/QB6G4ZoE185AuRII3ncniaicCRnyLoE5oMSLkxLuChgNCVTib2XZN4icSFFwymibMntjoa5ohPDV16St9EFQ4voaDZQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2358&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;figure&gt;&lt;br/&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.74&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/QB6G4ZoE185AuRII3ncniaicCRnyLoE5oMuf3iahPEsCd014p2lqQLUnzictYibHzoTYk3BtJRUSOfkBZm9fuWdGgicg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1800&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;section&gt;&lt;p&gt;使用 &lt;code&gt;help&lt;/code&gt; 查看呢？更是一头雾水，没提取到有用的信息&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7245240761478163&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/QB6G4ZoE185AuRII3ncniaicCRnyLoE5oMPeIcn3txBXXWE9OCEv77WAUOJZGzRhSSiau5YB27GEaOllo1ANoxibfg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1786&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;/section&gt;&lt;h2&gt;&lt;span&gt;# &lt;/span&gt;&lt;span&gt;2. 神奇的网站&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;好在 Google 上还是有点用的，它把一个神奇的网站推送到了我的面前，这个网站，就是今天我要为你介绍的主角。&lt;/p&gt;&lt;p&gt;网站的主界面如下，站如其名啊，就是通过 &lt;strong&gt;代码示例&lt;/strong&gt; 来让你学习各种库的使用。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.489769820971867&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/QB6G4ZoE185AuRII3ncniaicCRnyLoE5oMq4Uuw2yC1R0L7YCiaDBpLCFt85V9jkNW19hZuKkv1wcPfYLHibgtWNzA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1564&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;整个网站非常的简洁，只有一个搜索框，在这个搜索框里输入你想要学习的 python 库，就会立马为你找到该库的用法示例，并且会查到当前有多少的开源项目在使用它。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4489795918367347&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/QB6G4ZoE185AuRII3ncniaicCRnyLoE5oMrEG36sfQ0icvYiaMSBiaIkReabnvqt44iaoIs0lSH1q08WvX8PPBfRwRNA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1764&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;很明显上面的第二个包，才是我们需要的东西，点进去后，你会发现一个全新的世界。&lt;/p&gt;&lt;p&gt;在你面前的是一个又一个的完整的代码示例，这些示例系统、全面，非常适合初次学习阶段的理解。&lt;/p&gt;&lt;p&gt;需要强调的是，这些示例全部摘自开源项目，然后按照每个示例上方的链接转到原始项目或源文件。&lt;/p&gt;&lt;p&gt;若你觉得有些示例的代码写得不错，对你也有帮助的，可以给它点个赞。。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.0357142857142858&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/QB6G4ZoE185AuRII3ncniaicCRnyLoE5oMz5mlqGdrCdnY5qUib4xdAJugPWCRBty0yphFSpvLtV8licnmSxqMOGGA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2128&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;就以 &lt;code&gt;rpm&lt;/code&gt; 库为例，来感受一下。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;获取已安装的所有所有 rpm 包&lt;/strong&gt;&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3787528868360277&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/QB6G4ZoE185AuRII3ncniaicCRnyLoE5oM8fs0ewGfg59qxia8ia8T7zCBqc5HsSK5vRxE1aicQ0zDaarmb7R0p35Bw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1732&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;检查一个库是否已经安装过？&lt;/strong&gt;&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.351508120649652&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/QB6G4ZoE185AuRII3ncniaicCRnyLoE5oMATATyBiaBhIhHlibqVeoA8WibtGWrYz8YalFicfzjKHOXXiaiaVcTjlicg4rg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1724&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;如何根据关键词搜索指定的包并精准获取其版本&lt;/strong&gt;&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4040047114252061&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/QB6G4ZoE185AuRII3ncniaicCRnyLoE5oM49A5IxHWTwTmHKTdiaOWITgpQt4WYiaEySqNqerUPUC5Lchrdc4nianMQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1698&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;如何获取离线rpm包的信息&lt;/strong&gt;&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5791962174940898&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/QB6G4ZoE185AuRII3ncniaicCRnyLoE5oMTEwgaHZN0tSO9tRdG8wIIBfJmBKT3HyUJWRlNlibIhoVLvZyIXp3biaA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1692&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;还有挺多示例的，这里就不一一列举了。&lt;/p&gt;&lt;p&gt;参照着上面给出的真实案例，我也整理出我属于我自己的 rpm 包的用法，比全网 90% 的文章都来得清晰易懂&lt;/p&gt;&lt;p&gt;rpm 包无非就分两种：&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;未安装的 rpm 包&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;已安装的 rpm 包&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;想要获取这两种包，方式是不一样的。&lt;/p&gt;&lt;h3&gt; &lt;span&gt;获取未安装的 rpm 包信息&lt;/span&gt;&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; &lt;span&gt;import&lt;/span&gt; rpm&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; ts = rpm.TransactionSet()&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; rpmhdr = ts.hdrFromFdno(&lt;span&gt;&quot;/root/librbd1-devel-10.2.10-0.el7.centos.x86_64.rpm&quot;&lt;/span&gt;)&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; rpmhdr[&lt;span&gt;&quot;NAME&quot;&lt;/span&gt;]&lt;br/&gt;&lt;span&gt;&#x27;librbd1-devel&#x27;&lt;/span&gt;&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; rpmhdr[&lt;span&gt;&quot;VERSION&quot;&lt;/span&gt;]&lt;br/&gt;&lt;span&gt;&#x27;10.2.10&#x27;&lt;/span&gt;&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; rpmhdr[&lt;span&gt;&quot;RELEASE&quot;&lt;/span&gt;]&lt;br/&gt;&lt;span&gt;&#x27;0.el7.centos&#x27;&lt;/span&gt;&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; rpmhdr[&lt;span&gt;&quot;ARCH&quot;&lt;/span&gt;]&lt;br/&gt;&lt;span&gt;&#x27;x86_64&#x27;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt; &lt;span&gt;获取已安装的 rpm 包信息&lt;/span&gt;&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; &lt;span&gt;import&lt;/span&gt; rpm&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; ts = rpm.TransactionSet()&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; query = ts.dbMatch(&lt;span&gt;&quot;name&quot;&lt;/span&gt;, &lt;span&gt;&quot;librbd1&quot;&lt;/span&gt;)&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; query.count()&lt;br/&gt;&lt;span&gt;1&lt;/span&gt;&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; pkg_info = next(query)&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; pkg_info[&lt;span&gt;&quot;NAME&quot;&lt;/span&gt;]&lt;br/&gt;&lt;span&gt;&#x27;librbd1&#x27;&lt;/span&gt;&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; pkg_info[&lt;span&gt;&quot;VERSION&quot;&lt;/span&gt;]&lt;br/&gt;&lt;span&gt;&#x27;12.2.9.1.1&#x27;&lt;/span&gt;&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; pkg_info[&lt;span&gt;&quot;RELEASE&quot;&lt;/span&gt;]&lt;br/&gt;&lt;span&gt;&#x27;0.el7.centos&#x27;&lt;/span&gt;&lt;br/&gt;&amp;gt;&amp;gt;&amp;gt; pkg_info[&lt;span&gt;&quot;ARCH&quot;&lt;/span&gt;]&lt;br/&gt;&lt;span&gt;&#x27;x86_64&#x27;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;但喝水不忘挖井人，以上都是从这个网站中提炼出来的。&lt;/p&gt;&lt;p&gt;本篇文章的主角并不是 &lt;code&gt;rpm&lt;/code&gt; 这个库的用法，而是上面这个网站。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;与 Python 官方网站提供的标准库示例不一样（赶紧切点题，不然有人说我标题党了）&lt;/span&gt;&lt;/strong&gt;，这个网站 ，&lt;span&gt;&lt;strong&gt;不仅涵盖了 Python 的内置库，只要你能说得上名的 Python 库&lt;/strong&gt;&lt;/span&gt;（当然你自己测试上传到 pypi 的那种库肯定不能算是吧）&lt;span&gt;&lt;strong&gt;应该都在这个网站上找到你对应的代码示例&lt;/strong&gt;&lt;/span&gt;。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8671399594320487&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/QB6G4ZoE185AuRII3ncniaicCRnyLoE5oMmic2I9pn9hOG4WRH6SQ2AZia3rY9qB36ickeLV1ibyRYeF0sO6k9Vvfiaww/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1972&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;全站所收录的 python 库大概有将近 &lt;span&gt;&lt;strong&gt;2000 &lt;/strong&gt;&lt;/span&gt;个，对应大多数人的开发应该都能满足了，并且最重要的是，上面的示例全部来源真实的项目，因此更具参考价值。&lt;/p&gt;&lt;p&gt;这个网站的地址：&lt;br/&gt;https://www.programcreek.com/python/&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;- EOF -&lt;/span&gt;&lt;/p&gt;&lt;section donone=&quot;shifuMouseDownCard(&#x27;shifu_c_030&#x27;)&quot; label=&quot;Copyright Reserved by PLAYHUDONG.&quot;&gt;&lt;section&gt;&lt;span&gt;推荐阅读&lt;/span&gt;  &lt;span&gt;点击标题可跳转&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;1、&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA4MjEyNTA5Mw==&amp;amp;mid=2652589123&amp;amp;idx=1&amp;amp;sn=91834e9141c21903aceb42b696ef0f66&amp;amp;chksm=84656409b312ed1f092c45327efdacc7f1461ea4a88eb07fb0b3214a5c659e98ba449c1c97ac&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;AI 深情表白，火爆外网！&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;AI 深情表白，火爆外网！&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2、&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA4MjEyNTA5Mw==&amp;amp;mid=2652587795&amp;amp;idx=2&amp;amp;sn=946f37537b3142eda68968a3828dac0a&amp;amp;chksm=84656f59b312e64f84fbe4539cf38370250428a096d3040c0893cc009b3db199c6023aa0aee0&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;一个「神奇」的Python库，99%的人都爱！&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;11&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;一个「神奇」的Python库，99%的人都爱！&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3、&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA4MjEyNTA5Mw==&amp;amp;mid=2652583691&amp;amp;idx=2&amp;amp;sn=189add0567c259972436e25f19453f80&amp;amp;chksm=84651f41b31296577f86e753b48b34baf771f2dd5d1be23dd63df62da06c83e319834edc4a5a&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;强大的 Python 信号库：blinker 入门教程&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;强大的 Python 信号库：blinker 入门教程&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;觉得本文对你有帮助？请分享给更多人&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;推荐关注「Python开发者」，提升Python技能&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzA4MjEyNTA5Mw==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/fhujzoQe7TpvdeLibiaAmU69kV0SyJIicdHKNjs7Cj55MMnHdNdX7mLRzmODUgfYTIb6pQXe10QcibSsPpHib7Ap7rw/0?wx_fmt=png&quot; data-nickname=&quot;Python开发者&quot; data-alias=&quot;PythonCoder&quot; data-signature=&quot;点击获取精选Python开发资源。「Python开发者」日常分享 Python 相关的技术文章、实用案例、工具资源、精选课程、热点资讯等。&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;span&gt;点赞和在看就是最大的支持&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>08d1fb947c57f4c53b7af1a34232bc22</guid>
<title>猝死为何盯上年轻程序员？应该如何预防猝死？</title>
<link>https://toutiao.io/k/35zbhmv</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;325&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/t8lpVibticjQ48rkicicYds7gt0ev5YzYkgwIg49Gzsib7s4qiaNSLKhibmqOFVjDD5E0WdVgVgibX85TrLZBAHLiaeDCoA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;640&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;来源&lt;/strong&gt;：科普中国、丁香医生、上海嘉定&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;头条菌微信号：&lt;/span&gt;&lt;span&gt;toutiaoio007&lt;/span&gt;&lt;span&gt; ，欢迎加我，交个朋友！&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;生活中常说的「猝死」，通常是「心源性猝死」。数据统计，近年来，年轻人的猝死风险呈逐年升高的态势。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;一般心源脏性猝死在发病前无明显临床表现，发病来得急、凶、险，也有一部分人会出现早期的心慌、头昏等不适症状。那么，年轻人该如何预防猝死？&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;哪些因素可能诱发猝死？&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;加班、过度劳累，抽烟、喝酒、熬夜等不良生活习惯最终会导致心脑血管疾病走向年轻化。某些特定职业如IT程序员、医生、企业高管、运动员等，需更加注意自己的身体状况。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.654&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/AjN1jquNav8bE3TFG4jRk1lruJJBCGT1dSVgpZ0GbiaL2kZCiarDYkmNaFqO48oA6AJgO4VXmJVCibRPwuL4ic175g/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;500&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;猝死发生前都有哪些信号？&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;身体例如颈、后背、头皮、手心等部位大量出汗；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;在无激烈运动、缺少睡眠或者生病等诱因的情况下，连续出现胸闷，憋气等症状；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;经常感到肩膀、颈部、下巴、手臂疼痛，这是心肌缺血的信号；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;突然或者无缘由的心跳加剧；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;反复出现胃肠道症状，若此前并没有胃病病史，需警惕。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;如何预防猝死？&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;保障日常充足睡眠，少熬夜、不过劳，养成良好的生活作息习惯；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;坚持运动，加强心肺功能，增强体质；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;多吃一些对心脏有益的食物，避免暴饮暴食；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;保持积极乐观的生活态度；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;定期体检，防患于未然。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;（完）&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;加入「码农周刊VIP会员」，成为更好的开发者！&lt;br/&gt;↓↓↓&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5493333333333333&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/AjN1jquNavicibroqCN98y5SNT9NbfA3oHYQiaicFScHFfppgek7ZGicJiaHK45qc2zoccBibfEzIvzTsI4AB2xO2IaOw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;750&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>f36ab1bc56efda42147cf1448f96ea5a</guid>
<title>知乎高赞！有没有适合新手练习 Python 的做题类网站？</title>
<link>https://toutiao.io/k/th5mczx</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;p id=&quot;js_tags&quot; class=&quot;article-tag__list single-tag__wrp js_single js_wx_tap_highlight wx_tap_card&quot; data-len=&quot;1&quot; role=&quot;link&quot; aria-labelledby=&quot;js_article-tag-card__left js_a11y_comma js_article-tag-card__right&quot;&gt;
                                            
                                                                                    &lt;span aria-hidden=&quot;true&quot; id=&quot;js_article-tag-card__left&quot; class=&quot;article-tag-card__left&quot;&gt;
                                    &lt;span class=&quot;article-tag-card__title&quot;&gt;收录于话题&lt;/span&gt;
                                    &lt;span class=&quot;article-tag__item-wrp no-active js_tag&quot; data-url=&quot;https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzU3Mzk1ODA5OQ==&amp;amp;action=getalbum&amp;amp;album_id=2212614638188429318#wechat_redirect&quot; data-tag_id=&quot;&quot; data-album_id=&quot;2212614638188429318&quot; data-tag_source=&quot;4&quot;&gt;
                                        &lt;span class=&quot;article-tag__item&quot;&gt;#Python&lt;/span&gt;
                                    &lt;/span&gt;
                                &lt;/span&gt;
                                &lt;span aria-hidden=&quot;true&quot; id=&quot;js_article-tag-card__right&quot; class=&quot;article-tag-card__right&quot;&gt;13个&lt;/span&gt;
                                                                                        &lt;/p&gt;

                
                                
                
                

                
                                                                

                
                                


                
                
                
                
                                                
                                                                
                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;section class=&quot;mp_profile_iframe_wrp&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzU3Mzk1ODA5OQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/PvP6qjUpvIpUwwib3ughYzyRWGgnRezhFgwicOtsUTHoYCGlVibuic6LN0mUYjVJ3jP9W5zvwwyhdrNJEqOv8X9QSQ/0?wx_fmt=png&quot; data-nickname=&quot;Python小二&quot; data-alias=&quot;pythonXE&quot; data-signature=&quot;回复1024免费领100+Python经典实战项目＆数据分析入门手册&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;本文整理自我的知乎回答，地址：&lt;code&gt;https://www.zhihu.com/question/442492817/answer/2333418261&lt;/code&gt;。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;1. LeetCode&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;LeetCode 是一个刷算法题的网站，里面有多种语言可选 ，题目分为简单、中等和困难三个级别，可以根据自己的水平进行选择，想进大厂的话，这可能是必不可少的一关。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5859197577592733&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PvP6qjUpvIrBsN8Lzh88GXD4N1Bnf8ng55l8L54cSWczNoBOsDTibAvmNuChj5sLMAwhPsqfYiavE99UkWibGtGjw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1321&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;网址：&lt;code&gt;https://leetcode-cn.com/problemset/all&lt;/code&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;2. PythonTip&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;PythonTip 里面的练习题主要偏向 Python 基础和一些基础的算法，比较适合作为新手的入门练习题。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5127245508982036&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PvP6qjUpvIrBsN8Lzh88GXD4N1Bnf8ngVdicKdGNFykZnUHuPRPV3B85IpicdHuG4Lcwn9fXHfAicaKD3zcKueYDA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1336&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;网址：&lt;code&gt;http://www.pythontip.com/coding/code_oj&lt;/code&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;3. Coding Games&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;一边玩游戏，一边挑战编程难题。Coding games 支持包括 Python、Java、C 在内的 20 多种编程语言。用户界面功能强大，可以定制。例如，你可以选择你的代码编辑器的风格：Emacs、Vim、Classic。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你想提升编程技能，玩 Coding games 是一种有趣的途径。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.48850881881346875&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PvP6qjUpvIrBsN8Lzh88GXD4N1Bnf8ngOTHaGrK2NYNQlZU6WNUId1uWsWuCAdaWPuXe63p8SwTEE3nqXJAFVg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1871&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;网址：&lt;code&gt;http://www.codingame.com&lt;/code&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;4. CodeCombat&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;CodeCombat 是一款网页编程游戏。这款编程游戏借鉴了游戏的很多设计元素，游戏剧情十分丰富。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;CodeCombat 能够学习 Python 等多种语言，这些语言能够运用到游戏设计、网页应用、App 的开发上。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4705263157894737&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PvP6qjUpvIrBsN8Lzh88GXD4N1Bnf8ngG93KeVDk4DHFBWVj80eAVKAh2dwLjoOw4YDuPmqiaqibtHk41D6ZH35g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1900&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;codecombat 教学版网址：&lt;code&gt;https://koudashijie.com&lt;/code&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;5. Checkio&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Check iO 是一个基于浏览器的游戏，你需要使用 Python 或 JavaScript 来解决问题才能将游戏进行下去（需要登录）。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.619535519125683&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PvP6qjUpvIrBsN8Lzh88GXD4N1Bnf8ngsUqdCibb895HWwPibg3MC7mF6gj0qBdunhNg9z4WcIDgkiaGID8sXppxQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1464&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;网址：&lt;code&gt;http://checkio.org&lt;/code&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;6. Cyber Dojo&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Cyber-dojo 是一个提供给程序员们练习写程序的地方。支持 Python、JavaScript、Java、PHP、Ruby 等语言。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6236111111111111&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PvP6qjUpvIrBsN8Lzh88GXD4N1Bnf8ngARic3cJsjrRwDhnJJN6cQo87wrEPKIrSMKCz7z7jkC2ekVVzz67ktUw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;720&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;网址：&lt;code&gt;http://www.cyber-dojo.org&lt;/code&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;源代码：&lt;code&gt;https://github.com/JonJagger/cyber-dojo&lt;/code&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;7. Code Monkey&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;CodeMonkey 是一款非常富有童趣的网页编程游戏，玩家通过编程向怪兽小猴子传达指令，帮助小猴子吃到香蕉就可以过关了。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;CodeMonkey 以游戏闯关的方式进行教学，总共有 300 多个关卡，涉及到编程的各种概念。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.35835995740149096&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PvP6qjUpvIrBsN8Lzh88GXD4N1Bnf8ngfWp2vbmz6sS0BXnr74vWCiclXyHMzBtLSJ7SicJ1ibibpReejYT7VYkyQQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1878&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;网址：&lt;code&gt;http://www.playcodemonkey.com&lt;/code&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;8. Codewars&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在战斗中进行学习，和其他人一起在真实的编程挑战中提升技巧，支持 Python、JavaScript、C#、Java、Python 等语言（支持的语言见下图）。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.39646869983948635&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PvP6qjUpvIrBsN8Lzh88GXD4N1Bnf8ngAB8ibictH9GG80s7WxndUZknMa2glgia3EfyXLuw8EPqfID7Fudo97aDw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1869&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;网址：&lt;code&gt;http://www.codewars.com&lt;/code&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;9. pythonchallenge&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这是一个非常有意思的 Python 游戏通关网站，每一关都需要利用 Python 知识解题找到答案，然后进入下一关。很考验对 Python 的综合掌握能力，比如有的闯关需要用到正则表达式，有的要用到爬虫。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们平常学 Python 都是按章节顺序、包或者模块来学，容易前学后忘。也常有同学说，我已经看完了编程教室的入门教程，但不知道可以做点什么。那么正好可以拿这个网站来综合测试一下对 Python 的掌握情况，以便查缺补漏。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7724601175482787&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PvP6qjUpvIrBsN8Lzh88GXD4N1Bnf8ng3GTGBAVOiaANwJX9brZgLicic1qeyLKjG0hz78aPrJbUl3xLw3icZ0EvibA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1191&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;网址：&lt;code&gt;http://www.pythonchallenge.com&lt;/code&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;10. Python100题&lt;/h2&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://mp.weixin.qq.com/s?__biz=MzU3Mzk1ODA5OQ==&amp;amp;mid=2247491678&amp;amp;idx=1&amp;amp;sn=85ee63d746b79a0177239169df1c1147&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;100 个 Pytho‍n 小例子（练习题）&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;strong&gt;100 个 Python 小例子（练习题）&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;strong&gt;&lt;span&gt;往期回顾：&lt;/span&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;
                &lt;/div&gt;

                

                



                
                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_reward_qrcode&quot;&gt;
                                &lt;p class=&quot;tips_global&quot; aria-hidden=&quot;true&quot; id=&quot;js_a11y_reward_qr_title&quot;&gt;Long-press QR code to transfer me a reward&lt;/p&gt;
                                                                &lt;p role=&quot;option&quot; aria-labelledby=&quot;js_a11y_reward_qr_word js_a11y_comma js_a11y_reward_qr_title js_a11y_reward_qr_money&quot; aria-describedby=&quot;js_a11y_reward_qr_tips &quot; class=&quot;reward_tips&quot; id=&quot;js_a11y_reward_qr_word&quot;&gt;分享|点赞|在看是最大的支持&lt;/p&gt;
                                &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img alt=&quot;赞赏二维码&quot; class=&quot;reward_qrcode_img&quot; id=&quot;js_reward_qrcode_img&quot;/&gt;&lt;/span&gt;
                                &lt;p aria-hidden=&quot;true&quot; id=&quot;js_a11y_reward_qr_tips&quot; class=&quot;tips_global&quot;&gt;As required by Apple&#x27;s new policy, the Reward feature has been disabled on Weixin for iOS. You can still reward an Official Account by transferring money via QR code.&lt;/p&gt;
                            &lt;/div&gt;
                                                                            
                              
            &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>e5cc440cf2e6dc35534930fc5c8df60c</guid>
<title>时间序列建模：时间戳与时序特征衍生思路</title>
<link>https://toutiao.io/k/mpdzb41</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;大家好，我是东哥。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;时间序列模型在我们日常工作中应用的场景还是会很多的，比如我们去预测未来的销售单量、预测股票价格、预测期货走势、预测酒店入住等等，这也是我们必须要掌握时序建模的原因。而关于时间戳以及时序值的特征衍生，在建模过程中起到的作用是十分巨大的！&lt;/p&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;🚅 Index&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;01 时间序列数据类别简介&lt;br/&gt;02 时间戳的衍生思路&lt;br/&gt;03 时间戳的衍生代码分享&lt;br/&gt;04 时序值的衍生思路&lt;br/&gt;05 时序值的衍生代码分享&lt;/p&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;🏆 01 时间序列数据类别简介&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们就拿经典的时间序列模型来说一下，一般来说数据集里的数据，可以分为3大类。&lt;br/&gt;1）Y值：我们也称之为时序值。如下表中的&lt;code&gt;销量&lt;/code&gt;字段；&lt;br/&gt;2）时间戳：标记本条记录发生时间的字段，如下表中的&lt;code&gt;统计日期&lt;/code&gt;字段。oh，对了如果不是单时间序列的，比如数据集中记录的是多家店铺的时序数据，需要结合序列属性信息，比如店铺名称、店铺所在城市；&lt;br/&gt;3）其他字段：顾名思义。&lt;br/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.37575757575757573&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UnzPPicpR0KWiccx2OibKhFmyyeFQcS3c87eGfqPun7OicIGzGDRg8j35LfUialccpO24ib1Djhibt0qibWPqBAJniaI8Fw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;495&quot;/&gt;而我们今天关注的是时间戳和时序值的特征衍生。&lt;/p&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;🏆 02 时间戳的衍生思路&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;虽然时间戳就只有1个字段，但里面其实包含的信息量还是很多的，一般来说我们可以从下面几个角度来拆解，衍生出一系列的变量。&lt;br/&gt;&lt;strong&gt;1）时间戳本身特征&lt;/strong&gt;&lt;br/&gt;直接使用Pandas的series提取时间戳特征，比如说哪年、哪季度、哪月、哪周、哪日、哪时、哪分、哪秒、年里的第几天、月里的第几天、周里的第几天。&lt;br/&gt;&lt;strong&gt;2）0-1特征&lt;/strong&gt;&lt;br/&gt;一般是与真实场景结合来用，比如说工作日、周末、公众假日（春节、端午节、中秋节等）、X初、X中、X末（X代表年、季度、月、周）、特殊节日（如运营暂停、服务暂停）、日常习惯叫法（如清晨、上午、中午、下午、傍晚、夜晚、深夜、凌晨），从而可以衍生出：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;是否工作日&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;是否春节&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;是否月初&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;是否服务期外&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;是否凌晨&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;等等等等&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;3）时间差特征&lt;/strong&gt;&lt;br/&gt;一般也是与真实场景结合来用，比如说工作日、周末等等，比如：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;距离春节还有N天&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;距离周末还有N天&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;举例下月初还有N天&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;等等等等&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;🏆 03 时间戳的衍生代码分享&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;首先我们捏造一些数据，用来测试代码。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;# 导入相关库包&lt;/span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; pandas &lt;span&gt;as&lt;/span&gt; pd&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; numpy &lt;span&gt;as&lt;/span&gt; np&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; datetime&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; time&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; random&lt;br/&gt;&lt;span&gt;from&lt;/span&gt; calendar &lt;span&gt;import&lt;/span&gt; monthrange &lt;br/&gt;&lt;br/&gt;&lt;span&gt;# 捏造数据&lt;/span&gt;&lt;br/&gt;df = pd.DataFrame(&lt;br/&gt;      [[&lt;span&gt;&#x27;零售店01&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-01&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-01 11:47:34&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;1993-11-03&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;深圳&#x27;&lt;/span&gt;, &lt;span&gt;100&lt;/span&gt;],&lt;br/&gt;       [&lt;span&gt;&#x27;零售店01&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-02&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-02 12:47:34&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;1993-11-04&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;深圳&#x27;&lt;/span&gt;, &lt;span&gt;120&lt;/span&gt;],&lt;br/&gt;       [&lt;span&gt;&#x27;零售店01&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-03&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-03 11:47:34&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;1993-10-03&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;深圳&#x27;&lt;/span&gt;, &lt;span&gt;140&lt;/span&gt;],&lt;br/&gt;       [&lt;span&gt;&#x27;零售店01&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-04&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-04 08:47:34&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;1993-02-03&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;深圳&#x27;&lt;/span&gt;, &lt;span&gt;170&lt;/span&gt;],&lt;br/&gt;       [&lt;span&gt;&#x27;零售店01&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-05&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-05 11:47:34&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;1993-02-03&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;深圳&#x27;&lt;/span&gt;, &lt;span&gt;190&lt;/span&gt;],&lt;br/&gt;       [&lt;span&gt;&#x27;零售店01&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-06&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-06 15:47:34&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;1993-04-03&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;深圳&#x27;&lt;/span&gt;, &lt;span&gt;10&lt;/span&gt;],&lt;br/&gt;       [&lt;span&gt;&#x27;零售店01&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-07&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-07 17:47:34&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;1993-02-03&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;深圳&#x27;&lt;/span&gt;, &lt;span&gt;20&lt;/span&gt;],&lt;br/&gt;       [&lt;span&gt;&#x27;零售店01&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-08&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-08 19:47:34&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;1993-06-03&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;深圳&#x27;&lt;/span&gt;, &lt;span&gt;420&lt;/span&gt;],&lt;br/&gt;       [&lt;span&gt;&#x27;零售店01&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-09&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-09 11:47:34&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;1993-03-03&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;深圳&#x27;&lt;/span&gt;, &lt;span&gt;230&lt;/span&gt;],&lt;br/&gt;       [&lt;span&gt;&#x27;零售店01&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-10&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2021-10-10 20:47:34&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;1993-02-20&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;深圳&#x27;&lt;/span&gt;, &lt;span&gt;80&lt;/span&gt;]&lt;br/&gt;      ]&lt;br/&gt;      ,columns=[&lt;span&gt;&#x27;店铺名称&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;统计日期&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;大促开始时间&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;店长出生日期&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;店铺所在城市&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;销量&#x27;&lt;/span&gt;])&lt;br/&gt;df.head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.37575757575757573&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UnzPPicpR0KWiccx2OibKhFmyyeFQcS3c87eGfqPun7OicIGzGDRg8j35LfUialccpO24ib1Djhibt0qibWPqBAJniaI8Fw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;495&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;1）时间戳本身特征&lt;/strong&gt;&lt;br/&gt;这个就是提取datetime本身的实体特征，利用Pandas的Series方法即可。&lt;br/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5220216606498195&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UnzPPicpR0KWiccx2OibKhFmyyeFQcS3c87Ett2RuS9g3GPAJdBGu37b4sibDTibJE1kXQib4WKa1M3PiakcaLZcmXOEg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1385&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;# 原先属于字符串，转datetime&lt;/span&gt;&lt;br/&gt;df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;] = pd.to_datetime(df[&lt;span&gt;&#x27;统计日期&#x27;&lt;/span&gt;])&lt;br/&gt;df[&lt;span&gt;&#x27;year&#x27;&lt;/span&gt;] = df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;].dt.year&lt;br/&gt;df[&lt;span&gt;&#x27;quarter&#x27;&lt;/span&gt;] = df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;].dt.quarter&lt;br/&gt;df[&lt;span&gt;&#x27;month&#x27;&lt;/span&gt;] = df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;].dt.month&lt;br/&gt;df[&lt;span&gt;&#x27;week&#x27;&lt;/span&gt;] = df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;].dt.week&lt;br/&gt;df[&lt;span&gt;&#x27;day&#x27;&lt;/span&gt;] = df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;].dt.day&lt;br/&gt;df[&lt;span&gt;&#x27;hour&#x27;&lt;/span&gt;] = df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;].dt.hour&lt;br/&gt;df[&lt;span&gt;&#x27;minute&#x27;&lt;/span&gt;] = df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;].dt.minute&lt;br/&gt;df[&lt;span&gt;&#x27;second&#x27;&lt;/span&gt;] = df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;].dt.second&lt;br/&gt;df[&lt;span&gt;&#x27;weekday&#x27;&lt;/span&gt;] = df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;].dt.weekday&lt;br/&gt;df[&lt;span&gt;&#x27;weekofyear&#x27;&lt;/span&gt;] = df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;].dt.weekofyear&lt;br/&gt;df[&lt;span&gt;&#x27;dayofyear&#x27;&lt;/span&gt;] = df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;].dt.dayofyear&lt;br/&gt;df[&lt;span&gt;&#x27;dayofweek&#x27;&lt;/span&gt;] = df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;].dt.dayofweek&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;2）0-1特征&lt;/strong&gt;&lt;br/&gt;这里我们需要引入一些关于真实场景的日期来结合着判断是否。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df[&lt;span&gt;&#x27;is_work_day&#x27;&lt;/span&gt;] = np.where(df[&lt;span&gt;&#x27;dayofweek&#x27;&lt;/span&gt;].isin([&lt;span&gt;5&lt;/span&gt;,&lt;span&gt;6&lt;/span&gt;]), &lt;span&gt;0&lt;/span&gt;, &lt;span&gt;1&lt;/span&gt;) &lt;span&gt;# 是否工作日&lt;/span&gt;&lt;br/&gt;df[&lt;span&gt;&#x27;is_month_start&#x27;&lt;/span&gt;] = np.where(df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;].dt.is_month_start, &lt;span&gt;1&lt;/span&gt;, &lt;span&gt;0&lt;/span&gt;)&lt;br/&gt;df[&lt;span&gt;&#x27;is_month_end&#x27;&lt;/span&gt;] = np.where(df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;].dt.is_month_end, &lt;span&gt;1&lt;/span&gt;, &lt;span&gt;0&lt;/span&gt;)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;# 特殊日子/公众假日&lt;/span&gt;&lt;br/&gt;special_day = [&lt;span&gt;&#x27;2021-10-01&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;2021-10-02&#x27;&lt;/span&gt;]&lt;br/&gt;df[&lt;span&gt;&#x27;is_special_day&#x27;&lt;/span&gt;] = np.where(df[&lt;span&gt;&#x27;统计日期&#x27;&lt;/span&gt;].isin(special_day), &lt;span&gt;1&lt;/span&gt;, &lt;span&gt;0&lt;/span&gt;)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;# 是否凌晨&lt;/span&gt;&lt;br/&gt;df[&lt;span&gt;&#x27;is_before_dawn&#x27;&lt;/span&gt;] = np.where(df[&lt;span&gt;&#x27;hour&#x27;&lt;/span&gt;].isin([&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;]), &lt;span&gt;1&lt;/span&gt;, &lt;span&gt;0&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;3）时间差特征&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;# 获取前一天日期&lt;/span&gt;&lt;br/&gt;df[&lt;span&gt;&#x27;yesterday&#x27;&lt;/span&gt;] = df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;] - datetime.timedelta(days=&lt;span&gt;1&lt;/span&gt;)&lt;br/&gt;&lt;span&gt;# 日期差计算(天)&lt;/span&gt;&lt;br/&gt;df[&lt;span&gt;&#x27;day_dif&#x27;&lt;/span&gt;] = (df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;] - df[&lt;span&gt;&#x27;yesterday&#x27;&lt;/span&gt;]).dt.days&lt;br/&gt;&lt;span&gt;# 日期差计算(小时)&lt;/span&gt;&lt;br/&gt;df[&lt;span&gt;&#x27;hour_dif&#x27;&lt;/span&gt;] = (df[&lt;span&gt;&#x27;datetime64&#x27;&lt;/span&gt;] - df[&lt;span&gt;&#x27;yesterday&#x27;&lt;/span&gt;]).values/np.timedelta64(&lt;span&gt;1&lt;/span&gt;, &lt;span&gt;&#x27;h&#x27;&lt;/span&gt;) &lt;span&gt;# 换成 D 则为 天&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.334322453016815&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UnzPPicpR0KWiccx2OibKhFmyyeFQcS3c87bgoDT3U1AicCibGznh5GxnC88ia9zCqkyIchyojHEnTiaXUdNTMlKniahuQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1011&quot;/&gt;&lt;/figure&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;🏆 04 时序值的衍生思路&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;本例中的时序值是&lt;code&gt;销量&lt;/code&gt;字段，一般我们在对时序值进行操作前，需要对数据的时序&lt;code&gt;进行排序和补全&lt;/code&gt;，然后才开始操作，时序值的特征衍生主要有几个角度。&lt;br/&gt;&lt;strong&gt;1）时间滑动窗口统计&lt;/strong&gt;&lt;br/&gt;基于某段时间窗，统计数据情况，也叫做&lt;code&gt;Rolling Window Statistics&lt;/code&gt;，统计的方式一般有&lt;code&gt;min/max/mean/median/std/sum等&lt;/code&gt;，比如我们选择滑动窗口为7天，那么可以衍生的变量分别是：&lt;code&gt;过去7天内销量最小值/最大值/均值/中位数/方差/之和&lt;/code&gt;。&lt;br/&gt;在使用此类特征的时候，要注意一下&lt;code&gt;多步预测&lt;/code&gt;的问题。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;2）lag滞后值&lt;/strong&gt;&lt;br/&gt;lag可以理解为向前滑动时间，比如lag1表示向前滑动1天，即取T-1的时序值作为当前时序的变量。&lt;br/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.1971326164874552&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UnzPPicpR0KWiccx2OibKhFmyyeFQcS3c87k3WaaunDmia0u8P0QA8z8vPJYdsvwrweSnbGicnt4LXhLhXP2dtxpTQQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;279&quot;/&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;🏆 05 时序值的衍生代码分享&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;1）时间滑动窗口统计&lt;/strong&gt;&lt;br/&gt;因为方法叫做&lt;code&gt;Rolling Window Statistics&lt;/code&gt;，所以代码里关于这块的实现也有1个叫&lt;code&gt;rolling&lt;/code&gt;的方法，这个方法在时序建模中很好用，后面单独一篇文章讲下。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df = df.loc[:,[&lt;span&gt;&#x27;店铺名称&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;统计日期&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;销量&#x27;&lt;/span&gt;]]&lt;br/&gt;df[&lt;span&gt;&#x27;date&#x27;&lt;/span&gt;] = pd.to_datetime(df[&lt;span&gt;&#x27;统计日期&#x27;&lt;/span&gt;])&lt;br/&gt;&lt;br/&gt;&lt;span&gt;# 时序值特征衍生前记得排序&lt;/span&gt;&lt;br/&gt;df.sort_values([&lt;span&gt;&#x27;店铺名称&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;统计日期&#x27;&lt;/span&gt;], ascending=[&lt;span&gt;True&lt;/span&gt;,&lt;span&gt;True&lt;/span&gt;], inplace=&lt;span&gt;True&lt;/span&gt;)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;# 衍生时间滑动窗口统计变量&lt;/span&gt;&lt;br/&gt;f_min = &lt;span&gt;lambda&lt;/span&gt; x: x.rolling(window=&lt;span&gt;3&lt;/span&gt;, min_periods=&lt;span&gt;1&lt;/span&gt;).min()&lt;br/&gt;f_max = &lt;span&gt;lambda&lt;/span&gt; x: x.rolling(window=&lt;span&gt;3&lt;/span&gt;, min_periods=&lt;span&gt;1&lt;/span&gt;).max()&lt;br/&gt;f_mean = &lt;span&gt;lambda&lt;/span&gt; x: x.rolling(window=&lt;span&gt;3&lt;/span&gt;, min_periods=&lt;span&gt;1&lt;/span&gt;).mean()&lt;br/&gt;f_std = &lt;span&gt;lambda&lt;/span&gt; x: x.rolling(window=&lt;span&gt;3&lt;/span&gt;, min_periods=&lt;span&gt;1&lt;/span&gt;).std()&lt;br/&gt;f_median=&lt;span&gt;lambda&lt;/span&gt; x: x.rolling(window=&lt;span&gt;3&lt;/span&gt;, min_periods=&lt;span&gt;1&lt;/span&gt;).median()&lt;br/&gt;function_list = [f_min, f_max, f_mean, f_std,f_median]&lt;br/&gt;function_name = [&lt;span&gt;&#x27;min&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;max&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;mean&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;std&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;median&#x27;&lt;/span&gt;]&lt;br/&gt;&lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt; range(len(function_list)):&lt;br/&gt;    df[(&lt;span&gt;&#x27;stat_%s&#x27;&lt;/span&gt; % function_name[i])] = df.sort_values(&lt;span&gt;&#x27;统计日期&#x27;&lt;/span&gt;, ascending=&lt;span&gt;True&lt;/span&gt;).groupby([&lt;span&gt;&#x27;店铺名称&#x27;&lt;/span&gt;])[&lt;span&gt;&#x27;销量&#x27;&lt;/span&gt;].apply(function_list[i])&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;2）lag滞后值&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;# 衍生lag变量&lt;/span&gt;&lt;br/&gt;&lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt; [&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;]:&lt;br/&gt;    df[&lt;span&gt;&quot;lag_{}&quot;&lt;/span&gt;.format(i)] = df[&lt;span&gt;&#x27;销量&#x27;&lt;/span&gt;].shift(i)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.42575558475689884&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UnzPPicpR0KWiccx2OibKhFmyyeFQcS3c87vVLibibjZFnJ2HuzYkkayDhYl1sF9iceKw5M2uq6QyDlRR5aB7wb0g46g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;761&quot;/&gt;&lt;/figure&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;📚 Reference&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;[1] 一度让我怀疑人生的时间戳特征处理技巧。&lt;br/&gt;https://mp.weixin.qq.com/s/dUdGhWY8l77f1TiPsnjMQA&lt;br/&gt;[2] 时间序列树模型特征工程汇总&lt;br/&gt;https://blog.csdn.net/fitzgerald0/article/details/104029842&lt;br/&gt;[3] 时间序列的多步预测方法总结&lt;br/&gt;https://zhuanlan.zhihu.com/p/390093091&lt;br/&gt;[4] 时间序列数据的特征工程总结&lt;br/&gt;https://zhuanlan.zhihu.com/p/388551117&lt;br/&gt;[5] Pandas Series dt&lt;br/&gt;https://pandas.pydata.org/docs/reference/api/pandas.Series.dt.date.html&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzUzODYwMDAzNA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/sz_mmbiz_png/NOM5HN2icXzy3oUJC81lHlcGDwlibYtVXDSYeqoFaryPvqlHlNBibLibKGcA9jyVJFAIoKenjxqSpItzhBLqR9DBMw/0?wx_fmt=png&quot; data-nickname=&quot;Python数据科学&quot; data-alias=&quot;PyDataScience&quot; data-signature=&quot;以Python为核心语言，专攻于「数据科学」领域，文章涵盖数据分析，数据挖掘，机器学习等干货内容，分享大量数据挖掘实战项目分析和讲解，以及海量的学习资源。&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;推荐阅读&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzUzODYwMDAzNA==&amp;amp;action=getalbum&amp;amp;album_id=1699019347278561282#wechat_redirect&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot;&gt;&lt;em&gt;&lt;span&gt;1. &lt;/span&gt;&lt;/em&gt;pandas100个骚操作&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;2. &lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzUzODYwMDAzNA==&amp;amp;action=getalbum&amp;amp;album_id=1838255778403581970#wechat_redirect&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot;&gt;机器学习原创系列&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;3. &lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzUzODYwMDAzNA==&amp;amp;action=getalbum&amp;amp;album_id=1816443218394218499#wechat_redirect&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot;&gt;数据科学干货下载&lt;/a&gt;&lt;/p&gt;&lt;/section&gt;
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>59ffbc20fa019f7c90a0ddf5919c1c67</guid>
<title>流批一体技术框架探索及在袋鼠云数栈中的实践</title>
<link>https://toutiao.io/k/rl15pv8</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section&gt;&lt;p&gt;场景：股票交易中K线有分时图、日线图、周线图等之分，用户股票交易完成后需要在K线上显示买卖点和成交金额。&lt;/p&gt;&lt;p&gt;数栈未实现流批一体处理方式：&lt;/p&gt;&lt;p&gt;对于上面这个场景数栈未实现流批一体前的做法是分时图的买卖点会采用Flink计算，日K、周K等的买卖点通过配置周期Spark任务进行计算，即经典的Lambda架构，这种架构的痛点是比较明显的，维护两套代码开发效率低、两套计算引擎成本高、数据口径不一致。&lt;/p&gt;&lt;p&gt;数栈实现流批一体后处理方式：&lt;/p&gt;&lt;p&gt;在数栈平台先选择创建实时采集和数据同步任务将业务库数据采集到Kafka和Iceberg，即数仓的ODS层。实时数仓和离线数仓从ODS到DWD层数据清洗和数据打宽的处理逻辑是一样的，表定义结构也是保持一致的，所以这一步只需要实现一套Flink SQL数栈平台会自动翻译成Flink Stream和Flink Batch任务即可用于实时数仓又可以用于离线数仓。实时数仓和离线数仓DWS层分别存放分时图买卖点信息和日K、周K等数据，两边处理逻辑不同所以在这一层需要根据业务开发两套SQL, Stream Flink SQL对接实时数仓DWD层数据实时计算分时图买卖点，Batch Flink SQL对接离线数仓DWD层数据周期调度计算日K、周K等买卖点数据。应用层服务直接从DWS层获取买卖点数据进行展示。&lt;/p&gt;&lt;p&gt;通过实例我们可以看到数栈选择了Iceberg作为流批一体的存储层，原因如下：&lt;/p&gt;&lt;p&gt;1. Iceberg存储的是原始数据，数据结构可以多样化；&lt;/p&gt;&lt;p&gt;2. Iceberg支持多种计算模型，是一个通用化设计的Table Format，完美地解耦了计算引擎和底下的存储系统；&lt;/p&gt;&lt;p&gt;3. Iceberg底层存储支持灵活，一般用 S3、OSS、HDFS 这种廉价的分布式文件系统，采用特定的文件格式和缓存就可以对应场景的数据分析需求；&lt;/p&gt;&lt;p&gt;4. Iceberg项目背后的社区资源非常丰富，在国内外已经有不少大公司将海量的数据跑在Iceberg上；&lt;/p&gt;&lt;p&gt;5. Iceberg保存全量数据，当流计算任务有重跑历史数据的需求时可从Iceberg读取数据然后无缝切换到Kafka即可。&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>