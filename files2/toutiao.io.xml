<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>ce2c83d4ba2ee7618bec3c90ae4921e0</guid>
<title>10+ 条 Go 官方谚语，你知道几条？</title>
<link>https://toutiao.io/k/t267uv1</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                                                     &quot; id=&quot;js_content&quot;&gt;
            &lt;p data-track=&quot;1&quot;&gt;&lt;span&gt;作为一个 Go 语言开发工程师，总是在入门、深入、撕提案时能够听到各种带有 Go 特色的话语，例如：少即是多（less is more），非常有趣。&lt;/span&gt;&lt;/p&gt;&lt;p data-track=&quot;2&quot;&gt;&lt;span&gt;今天带来了 Go 语言之父 Rob Pike 在 2015 年分享的主题《Go Proverbs》，它在该主题中讲了的 10+ 条 Go 谚语，希望大家可以用上。&lt;/span&gt;&lt;/p&gt;&lt;p data-track=&quot;3&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;核心理念&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;是：简单、诗意、简洁（Simple, Poetic, Pithy）。&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;不要通过共享内存来通信，通过通信来共享内存（Don&#x27;t communicate by sharing memory, share memory by communicating）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;并发不是并行（Concurrency is not parallelism）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;通道是协调的，互斥是串行的（Channels orchestrate; mutexes serialize）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;接口越大，抽象性越弱（The bigger the interface, the weaker the abstraction）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;让零值变得有用（Make the zero value useful）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;interface{} 什么也没说（interface{} says nothing）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Gofmt 的风格没有人喜欢，但 Gofmt 却是大家的最爱（Gofmt&#x27;s style is&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;no one&#x27;s favorite, yet gofmt is everyone&#x27;s favorite）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;复制一点总比依赖一点好（A little copying is better than a little dependency）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Syscall 必须始终用 build 标签来保护（Syscall must always be guarded with build tags）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Cgo 必须始终用构建标签来保护（Cgo must always be guarded with build tags）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Cgo 不是 Go（Cgo is not Go）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;使用 unsafe 包没有任何保证（With the unsafe package there are no guarantees）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;清晰的比聪明的好（Clear is better than clever）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;反射从来不是清晰的（Reflection is never clear）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;错误就是价值（Errors are values）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;不要只是检查错误，要优雅地处理它们（Don&#x27;t just check errors, handle them gracefully）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;设计架构，命名组件，记录细节（Design the architecture, name the components, document the details）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;文档是为用户准备的（Documentation is for users）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;不要使用恐慌（Don&#x27;t panic）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;&lt;span&gt;Rob Pike 在演讲中所涉及到的这 18 条谚语，是他常年在计算机软件领域开发和设计 Go 时所积累下来的经验。（希望能够对你有所帮助）&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;em&gt;END&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;em&gt;&lt;br/&gt;&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzA4ODg0NDkzOA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/vbERicIdYZbC53rq7PQziczkzCA4pIPx8Xdx2r0a6FgQWEicTOgFNY1KlJD3jSKQKlTiavwTUgHS1HMXza2RYApkDw/0?wx_fmt=png&quot; data-nickname=&quot;GoCN&quot; data-alias=&quot;golangchina&quot; data-signature=&quot;最具规模和生命力的 Go 开发者社区&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;span&gt;-猜你想看-&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;想要了解Go更多内容，欢迎扫描下方👇 关注 公众号，回复关键词 [实战群]  ,就有机会进群和我们进行交流~&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5763688760806917&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/vbERicIdYZbDrrBk1KBPqY1QNI320ZK2IIycDa77FcDQAeAFJRVb240xr8biceh23auy7ZpPibEYXPNOnmfsEewkw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;694&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong/&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;分享、在看与点赞，至少我要拥有一个叭~&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img __bg_gif&quot; data-ratio=&quot;0.2106667&quot; data-type=&quot;gif&quot; data-w=&quot;750&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/vbERicIdYZbB79dKphkWU3rVKFiaZGWHEic0qXJ8QAeF6XRTLwTCEgUxxiamV13wPv9kMtaqrOtsrVibdHzvYiaxCwgA/640?wx_fmt=gif&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img data-ratio=&quot;0.696&quot; data-type=&quot;gif&quot; data-w=&quot;500&quot; class=&quot;__bg_gif&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/vbERicIdYZbB79dKphkWU3rVKFiaZGWHEicOoCY9eHaUhZY0vkZibusOg9ibjGibicfyjHiaWfkN9QOiclK2DnfLh4KYTLA/640?wx_fmt=gif&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>e96ca66efcbad62d42ed671744356375</guid>
<title>Camel入门及原理分析</title>
<link>https://toutiao.io/k/tf5fz0a</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                                                     &quot; id=&quot;js_content&quot;&gt;
            &lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Camel最核心的功能就是提供路由引擎。你可以自己定义路由规则，包括从哪里接收消息，怎么处理消息，发给哪个目标。最关键的是你去集成各种系统而不用关心怎么转换数据格式，也不用关心通讯协议是什么。Camel的组件有去实现不同协议和数据类型的API，开箱即用，现在已经支持超过8&lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt;种的协议和数据类型。&lt;/span&gt;&lt;span&gt;Apache ServiceMix 和 ActiveMQ 已经使用 Camel 作为进行企业&lt;/span&gt;&lt;span&gt;级&lt;/span&gt;&lt;span&gt;集成的一种方式。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;有的人说Camel是一个轻量级的ESB（&lt;/span&gt;&lt;span&gt;Enterprise Service Bus&lt;/span&gt;&lt;span&gt;），因为它有路由功能、转换功能、监控功能、编排功能等等，但是它并没有容器和可靠的消息总线，所以其实它并不能算是一个ESB服务。但是它可以部署到Open&lt;/span&gt;&lt;span&gt;-ESB&lt;/span&gt;&lt;span&gt;上，比如Service&lt;/span&gt;&lt;span&gt;Mix&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;Domain-Specific Language (DSL)&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;DSL的目的是让开发人员关注功能集成的过程而不是工具本身。&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;Java DSL&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__title&quot;&gt;from&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;&gt;&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;file:data/inbox&quot;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;code-snippet__title&quot;&gt;to&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;&gt;&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;jms:queue:order&quot;&lt;/span&gt;&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;Spring DSL&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&amp;lt;route&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&amp;lt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;from&lt;/span&gt; uri&lt;/span&gt;=&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;file:data/inbox&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&amp;lt;to uri=&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;jms:queue:order&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&amp;lt;/route&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;Scala DSL&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;file:data/inbox&quot;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;jms:queue:order&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;上面这个例子可以很简单的将某个文件夹的文件发送到JMS消息队列里。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;简单的配置&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;from&lt;/span&gt;(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;file:data/inbox?recursive=true&amp;amp;include=*.txt&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;这句话表示循环从文件夹下面读取txt文件。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Camel有内建的类型转换机制，包含了1&lt;/span&gt;&lt;span&gt;50&lt;/span&gt;&lt;span&gt;多种转换器，比如从字节数组转换成字符串，你不用配置转换器。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;拷贝文件的需求&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;shape type=&quot;#_x0000_t75&quot; filled=&quot;f&quot;&gt;&lt;imagedata title=&quot;image1&quot;/&gt;&lt;/shape&gt;&lt;img data-ratio=&quot;0.39338235294117646&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Ol23aUXIU7OzH8dUxa4U3zcoMM3IQkzGE6TvibszXU9UfgoIExFCicUgicmic5szwIz4Hgic6SpE7QKuHKQiaNqEmWzg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;544&quot;/&gt;&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;将data/&lt;/span&gt;&lt;span&gt;inbox&lt;/span&gt;&lt;span&gt;拷贝到data&lt;/span&gt;&lt;span&gt;/outbox&lt;/span&gt;&lt;span&gt;下，noop&lt;/span&gt;&lt;span&gt;=true&lt;/span&gt;&lt;span&gt;，表示保留源文件，如果不加则表示移动文件到指定目录，原文件夹的文件会不在。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;消息模型&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Camel有2个抽象出来的消息模型。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;org.apache.camel.Message&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;基础的消息实体类，包含携带和路由的数据。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;org.apache.camel.Exchange&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;为交换的消息抽象出来的类，包含了“in”和“out”2个对象。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Exchange跟普通的“请求-响应”模式不太一样。Exchange支持“&lt;/span&gt;&lt;span&gt;InOnly&lt;/span&gt;&lt;span&gt;”、“InOut”两种模式。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;“&lt;/span&gt;&lt;span&gt;InOnly&lt;/span&gt;&lt;span&gt;”-只支持单方向的发送消息&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;“InOut”-请求-响应式的发送消息&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Exchange内部的结构如下图所示：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img data-ratio=&quot;1.1491935483870968&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Ol23aUXIU7OzH8dUxa4U3zcoMM3IQkzG3g7aLRUZpMRLicNRERglRCLhfgfibia040EBsoBvrIXme2umVkTCOrlYA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;248&quot;/&gt;&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;有了上面的基础概念，我们可以开始看看Camel的架构。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img data-ratio=&quot;0.4602888086642599&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Ol23aUXIU7OzH8dUxa4U3zcoMM3IQkzG0kFGru0sGAxAlGAOmey5XmNGbYjMUib8EQ9iabn4d2w9d5lFqqW4ZicIw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;554&quot;/&gt;&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Camel由p&lt;/span&gt;&lt;span&gt;rocessor&lt;/span&gt;&lt;span&gt;、component、route三部分组成，而CamelContext又包含了这三部分。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;R&lt;/span&gt;&lt;span&gt;oute决定了路由的规则，通过Camel的DSL（Doman-specific&lt;/span&gt;&lt;span&gt; languages&lt;/span&gt;&lt;span&gt;）定义路由规则。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Porcessor用来转换和处理消息，在DSL中也有对应的关键字来指定processor。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Component用来拓展跟其他系统的连接。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;Endpoint&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Endpoint相当于是一个借口的切入点，Endpoint&lt;/span&gt;&lt;span&gt; URI&lt;/span&gt;&lt;span&gt;的格式如下：&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img data-ratio=&quot;0.4110169491525424&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Ol23aUXIU7OzH8dUxa4U3zcoMM3IQkzGFOqfbibbJt8Gt998pY1ib9mlGwywjQGBFGpQVpgjdvD62esQ0vFWNOIQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;236&quot;/&gt;&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;生产者和消费者&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;前面说到Endpoint已经指定好消息接收的uri，消息接收后可以通过processor加工处理，也可以发给下游。那消息的来源是哪里？这里就涉及生产者和消费者的概念了。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;生产者发送消息到指定的Endpoint&lt;/span&gt;&lt;span&gt; uri&lt;/span&gt;&lt;span&gt;，再由&lt;/span&gt;&lt;span&gt;route&lt;/span&gt;&lt;span&gt;指定后续的处理，这个后续处理的角色我们就叫Consumer。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;有了以上的理解，我们可以回过头来看前面拷贝文件的代码示例。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img data-ratio=&quot;0.4599236641221374&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Ol23aUXIU7OzH8dUxa4U3zcoMM3IQkzGJIleZ9dasVEJc7jESR0Zx8DjPMcmWumB0qBMxTb8AVBurZHImaiavfA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;524&quot;/&gt;&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;这里的U&lt;/span&gt;&lt;span&gt;RI&lt;/span&gt;&lt;span&gt;是“file:&lt;/span&gt;&lt;span&gt;/data/inbox?noop=true&lt;/span&gt;&lt;span&gt;”,表示routes从/&lt;/span&gt;&lt;span&gt;data/inbox&lt;/span&gt;&lt;span&gt;路径监听文件消息，这个时候如果你放一个文件到这个目录下你就相当于生产者，camel接收到这个文件后没有调用processor做中间的加工，而是直接通过to将消息发送到“data&lt;/span&gt;&lt;span&gt;/outbox&lt;/span&gt;&lt;span&gt;”路径，这里的消息就是你放进去的文件。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;精选推荐：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;578&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Ol23aUXIU7PwUiboz6yDJLEEDkBY81gYxBLIedbtEJnDAsJXuiaSKfB7uhwtm6DcRV1Z0JkEicyZp23EefI4cBPnA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;258&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;*本文为IT技术栈原创文章，独家版权归于本平台，受到原创保护。任何渠道的转载请后台留言联系授权，侵权必究。&lt;/span&gt;&lt;/p&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>f1ef2e7ae763c7dfe0bbc662ef77adbe</guid>
<title>RocketMQ 5.0: 存储计算分离新思路</title>
<link>https://toutiao.io/k/ju1gfga</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                                                     &quot; id=&quot;js_content&quot;&gt;
            &lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.625&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;1024&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Z6bicxIx5naLvgXTzRAjN8pDiaNqib6oqib9ocrPM2nazG4nEbiaVDzBfmd3BKJfbl6Kia6r6Cf8dVRJa8v660Qzj9CQ/640?wx_fmt=jpeg&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Apache RocketMQ 自 2012 年开源以来，因其架构简单、业务功能丰富、具备极强的可扩展性等特点被广泛采用。RocketMQ 在阿里巴巴集团内部有着数千台的集群规模，每天十万亿消息流转的规模。在阿里云上，RocketMQ 的商业化产品也以弹性云服务的形式为全球数万个用户提供企业级的消息解决方案，被广泛应用于互联网、大数据、移动互联网、物联网等领域的业务场景，成为了业务开发的首选消息中间件。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;尽管消息中间件 RocketMQ 在阿里巴巴和开源社区已经走过了十多个年头，但在云原生浩浩荡荡的浪潮下&lt;/span&gt;&lt;span&gt;，我们开始对 RocketMQ 的架构有了一些新的思考。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;痛点与困局&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;阿里巴巴有大规模实践 RocketMQ 的生产经验，自 RocketMQ 从 2016 年对外商业化以来，一直延续跟集团消息中间件相同的架构为云上的客户提供全托管的消息服务，发展至今，消息队列 RocketMQ 在云上已经具备相当大的业务规模。随着业务的发展，这套极简的分布式架构在云原生环境下逐渐显露出了一些不足，比如，运维成本增加、效率降低。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.0709987966305656&quot; data-type=&quot;png&quot; data-w=&quot;831&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Z6bicxIx5naJnngbClwBdsKDxwSbicOfR3fYZA5351Qu0ZMTxmK73hIKaMfbdu6AySzfriayVlNwONruxoboficucA/640?wx_fmt=png&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;集团消息中间件通过存储计算一体化的部署架构，为集团电商业务提供了高性能、低延迟、低成本的消息服务。随着云的进化，云开始变得更加弹性，网络环境更加复杂，云原生时代对效率也有了更高的要求，我们也迎来了对云上消息架构进行云原生化改造的契机。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;上图是目前RocketMQ在云上部署的一个简化版架构（仅包含最核心的组件），这套部署架构近年来在云上遇到的主要痛点有以下几点：&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;01&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;富客户端形态&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span/&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;RocketMQ 的用户需要借助官方提供的 SDK 使用云上的服务，这是一个比较重量级的富客户端，提供了诸如顺序消费、广播消费、消费者负载均衡、消息缓存、消息重试、位点管理、推拉结合、流控、诊断、故障转移、异常节点隔离等一系列企业级特性。RocketMQ 的富客户端极大地降低了集团内客户的接入成本，一站式助力集团客户构建高韧性、高性能的消息驱动应用，但云上的富客户端有一些不足：&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;02&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;计算存储一体化&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span/&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Broker 是 RocketMQ 最核心的节点，承担了服务端所有的计算和存储逻辑，其核心能力为：&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;计算存储一体化的 Broker 具备以下优点：部署结构简单、开源用户可以开箱即用；部署节点少，低成本支持集团双十一万亿级的消息规模；数据就近处理，无中间环节，性能高，延迟低。但一体化的 Broker 在云环境也有其局限性：&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;03&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;客户端与Broker直连&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span/&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;RocketMQ 当前的用户通过客户端直接与 Broker 进行通信，链路是最短化的，运维简单、延迟低，但这样的设计无法很灵活地适配网络极其复杂的云环境，网络上有经典网络、VPC 网络、公网，部署环境上有 OXS 区、售卖区，为客户暴露每一个 Broker 节点带来了运维上的负担：&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;基于这个大背景，阿里云消息团队对 RocketMQ 在云上进行了云原生架构升级专项，实践存储计算分离的新架构，同时引入基于gRPC 的全新多语言解决方案&lt;/span&gt;&lt;span&gt;，来加速消息中间件的云原生化。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;存算分离新思路&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;如何在云上实践存算分离，如何探索出一个适合 RocketMQ 三位一体的新架构，是 RocketMQ 进行云原生架构升级主要考虑的点，这里面有很多现实因素的考量：&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;对于第一个问题，实践的结果已经告诉我们架构简单的优异性，但在云上遇到的痛点又告诉我们存算分离势在必行，可见存储与计算要不要分离，并不是一个非此即彼的选择，架构上的选择是否能都要呢？对于这个问题，我们的解法是存储计算需要做到可分可合：&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;对于第二个问题，在阿里云上有多个自研的不同协议标准的消息服务，如何通过单一架构支持多产品形态至关重要，将 RocketMQ 的核心业务消息的能力无缝复制到多个产品，放大业务价值。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;总而言之，架构层面的核心理念是以存储计算架构分离为切入点，进一步探索单一架构多产品形态，以降低消息子产品的重复建设，最终也需要实现存储与计算可分可合的部署形态，同时满足云上的运维灵活性以及开源、集团等部署简单、高性能的需求。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;01&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;存储计算分离架构&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;RocketMQ 5.0 在架构上的第一个升级便是存储计算分离改造，通过引入无状态的 Proxy 集群来承担计算职责，原Broker 节点会逐步演化为以存储为核心的有状态集群，同时会重新研发一批多语言的瘦客户端来解决富客户端带来的诸多问题。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8784596871239471&quot; data-type=&quot;png&quot; data-w=&quot;831&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Z6bicxIx5naJnngbClwBdsKDxwSbicOfR3aiavPLVXdfQ4ev3sb1tQiaMu0wgwW4JT0icibeQ7S2JGicZstAYd3ZGuLPg/640?wx_fmt=png&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;上图是一个存储计算分离架构的简图，图中借用了 Service Mesh 关于控制和数据面的划分思想以及 xDS 的概念来描述，架构中各个组件的职责分别为：&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;存储计算分离带来的额外成本主要是延迟和成本。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;简而言之，在云上环境，云服务形态的 RocketMQ 非常适合存储计算分离架构。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;02&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;存储计算合并架构&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;但从本质来讲，存储计算分离与就近计算和就近存储的理念是冲突的。存储计算一体化的架构在云上带来了困扰，本质还是因为云上是一个多租户的环境，存储计算一体化在多租户的场景下灵活性不够。但很多场景往往都是小规格单租户，其实更适合存储计算一体化。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;为了云外云内都能统一技术方案，我们更加期望的一种机构是存储与计算可分可合的部署形态，分开部署是计算节点完全无状态，运维迭代极其简单，合并部署时更原架构体验保持一致。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;但无论采用什么样的部署架构，存储和计算的分离都是一种良好的模块化设计方式，在编程层面的分开是必须要进行的。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.44765342960288806&quot; data-type=&quot;png&quot; data-w=&quot;831&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Z6bicxIx5naJnngbClwBdsKDxwSbicOfR3PcPawz81jSezm0YNUyzTsylrLptbeSvuSNQia649ffholEwxztojHwA/640?wx_fmt=png&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;如上图所示，左边是云上一个分离部署的形态，右边是合并部署的形态，合并部署时计算节点可以作为存储节点的SideCar，采用网格的思想进行部署，也可以将计算和存储揉进同一个进程进行部署。实际上，我们在实践的过程中，通过对代码进行充分设计，Proxy 节点可以通过构造器构造出「Local」和「Cluster」部署两种形态，分别对应合并部署和分离部署的两种架构形态。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;03&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;单一架构多产品形态&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;《云原生时代消息中间件的演进路线》一&lt;/span&gt;&lt;span&gt;文中提到，阿里云消息团队目前有业界最丰富的消息产品矩阵，包括消息队列 RocketMQ、消息队列 Kafka、微消息队列 MQTT、消息队列 AMQP、消息服务 MNS、事件总线EventBridge。丰富的产品矩阵是团队多年来践行多样性和标准化演进路线的结果，所有的消息子产品目前都构建在RocketMQ 存储内核之上，非常具备统一架构的前提。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5415162454873647&quot; data-type=&quot;png&quot; data-w=&quot;831&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Z6bicxIx5naJnngbClwBdsKDxwSbicOfR3TPteUJDWWiborMib99dH7lKL5dRL3e3RteR8UiazvPcuHlibASAJwTbaag/640?wx_fmt=png&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;通过单一的存储计算分离架构，支持多产品的业务形态，是云原生消息探索的一个重要方向。这种单一架构多产品形态会带来诸多好处，比如计算节点共建，通过模型抽象支持多业务模型，多通信协议，释放重复建设的人力。通过存储节点并池，各产品打通内部存储节点，形成资源池合并，统一运维和管控，有助于降低成本、提高效率，加速存储创新，孵化消息中台。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.184115523465704&quot; data-type=&quot;png&quot; data-w=&quot;831&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Z6bicxIx5naJnngbClwBdsKDxwSbicOfR3d27We7XSlxqnMEiaIDAXTvsGkL7ywDhpIpMkt4kNlFiaeZhib7251Vicpg/640?wx_fmt=png&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;如上图所示，单一架构多产品形态的核心先统一存储和计算，并进一步统一管控和运维，真正做到一套架构支撑多个云产品。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;总结&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h1&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;br/&gt;&lt;/h1&gt;&lt;p&gt;&lt;span&gt;目前，阿里云消息队列 RocketMQ 实践存储计算彻底分离的架构还处于第一个过渡阶段，未来的路还很长，我们会投入至少 1 年的时间在公有云环境全面落地存储计算分离架构，让消息服务更弹性、更云原生，让团队提高效率，加速业务创新。&lt;/span&gt;&lt;span&gt;我们期望新的架构能稳定服务于未来至少 5 年的业务增长，同时，存算可分可合的部署架构也能够非常好地支撑不同规模开源用户的个性化需求，让 Apache RocketMQ 开源社区能够整体收益于存算计算可分可合架构的新形态。&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;RocketMQ从诞生第一天起就在GitHub上开发的开源项目，也是中国第一个非Hadoop生态的Apache顶级项目。它统一了阿里集团内部所有业务线的消息中间件，伴随着中国互联网发展数次迭代。《十万亿条消息背后的故事》记录了RocketMQ从诞生、开源到发展至今背后鲜为人知的故事。通过「开源人说」的娓娓道来，让我们一起来了解分布式消息中间件Apache RocketMQ背后的人与事！点击观看《十万亿条消息背后的故事》&lt;/span&gt;&lt;span&gt;https://developer.aliyun.com/live/249109&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;hr/&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;❖&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;《开源人说》为阿里云开发者社区与InfoQ 联合出品的一档精品开源视频栏目。栏目围绕四大开源领域：云原生、操作系统、数据库、大数据&amp;amp;AI，介绍优秀的开源软件背后的故事，记录传播技术人追求极致和开放共享的精神。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;点击阅读原文了解《开源人说》！&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>56e88cde56b85469cf21036375c2047a</guid>
<title>爱奇艺内容中台之数据中心的设计与实现</title>
<link>https://toutiao.io/k/yief2yo</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                                                     &quot; id=&quot;js_content&quot;&gt;
            &lt;h3 data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;互联网技术发展至今，当业务复杂度比较高的时候，采用微服务化是一个有效的手段，但是随着服务的拆分，数据管理工作变得极具挑战。数据中心(OLTP)通过对数据的统一收集和管理，一方面可以建立数据之间的联系，从而带来更大的价值；另一方面还可以提供强大的数据阅览、数据分析、挖掘数据等能力，进而为企业创造价值收益。数据中心(OLTP)不仅可以为不同业务线屏蔽技术难点，还可以降低业务逻辑开发的复杂度，使得开发同学能够专注于业务逻辑的开发。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;利用数据中心(OLTP)整合不同业务线的数据，解决数据孤岛问题已经是各个互联网企业的必用手段。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;本文将分享爱奇艺内容中台数据中心(OLTP)的设计与实现。&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;01&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h2&gt;&lt;strong&gt;&lt;span&gt;   &lt;span&gt;方案设计与实现&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;之前各个业务线自己维护自己的数据和接口，这样既不利于第三方的接入，也浪费了人力进行重复建设，为了解决诸多类似问题，我们进行了如下设计。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;  2.1 方案设计目标  &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;首先我们梳理了目前系统存在的各种亟待解决的问题：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1．数据孤岛：无法全面的看到内容运营的所有数据&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2．重复建设：各业务团队均需具备同样能力的服务建设&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3．对接复杂：各业务团队接口规范不统一，增加对接难度&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4．耦合严重：各业务团队因需要共享数据，导致服务严重互相依赖&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;5．开发繁琐：各业务团队需要考虑自研数据中心(OLTP)的技术痛点和难点，无法做到专人做专事，即业务开发只关注自身&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;为了满足业务长远的发展，我们还制定了一些需要达到的目标：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1．支持百亿级数据的存储&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2．支持高QPS的读、写请求&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3．统一的字段变化消息通知&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4．极少的运维成本，页面操作添加字段&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;5．通用的查询与保存能力，避免个性化需求带来的额外开发成本&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;  2.2 业务架构图  &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;基于以上的目标我们设计了内容中台数据中心的业务架构，如下图：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.8872549019607843&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;408&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuA8iaDc3HLqWgicYUSnrDVB98UlxfYr76XX6ibLjMlH5OmEXiamh3BbqSMqbPJ5c9sSX853K47Xjyzpw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;图1数据中心(OLTP)业务架构图&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;数据写入方统一将数据写到数据中心(OLTP)，然后数据中心(OLTP)统一对外广播字段的变化，其它业务方监听自身关心的字段变化。同一个业务方既可以是写入方也可以是读取方。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;  2.3 数据一致性方案  &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;由于数据中心(OLTP)将数据分别存储到了MongoDB和ES，这样就引入了数据一致性的问题。为了解决这个问题我们调研了业内的一些方案最终选定了最终一致性的方案。具体设计如下图：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.2811387900355873&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;562&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuA8iaDc3HLqWgicYUSnrDVB9SK5vrAbQYf107sDgVzd6SvribicvUDGQJtLAgSYYxeUh9bndNSN5FvBg/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;图2数据一致性方案设计图&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;为了避免脏数据的产生，我们设计字段权限控制，字段有归属的业务方，非归属的业务方没有权限写入该字段。由于实际使用场景中，我们大量使用ES查询数据，所以我们设计了MongoDB字段与ES字段的映射，业务方只需要分别创建MongoDB和ES的字段元数据，并建立好两者之间的映射关系。在投递数据的时候只需要投递一份原始数据，我们即可保存到MongoDB和ES中。为了避免ES中字段的相互覆盖问题，我们采取的方案是查询MongoDB中的最新数据并根据映射关系转化为ES结构，然后将ES中对应的文档进行整体覆盖。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;  2.4 数据高可用方案  &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;数据中心(OLTP)存储着业务的关键数据，其重要性不言而喻，所以一定要保证服务的高可用，所以我们设计了高可用的方案，具体如下图：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.44041450777202074&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;965&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuA8iaDc3HLqWgicYUSnrDVB9c6FiaYJNTqQYnO8XVDJamiab9544I48bWLFPfHwJzicTU7U1u4238OGYg/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;图3数据高可用方案设计图&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;方案中为了支持海量数据存储采用了分布式文件的存储能力。分片MongoDB集群采用同城多地部署，达到同城多活的效果，以提升集群的容灾能力。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;为了避免单点问题，我们设计了实时数据备份，利用服务配置化双写能力，将数据写入备份集群。代码层面设计数据库切换开关，以支持主集群不可用后，可以方便的切换至备份集群，从而达到数据高可用。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;为了满足数据报表等大数据处理需求我们规划了离线数仓，充分利用MongoDB的备用集群能力。在日常使用中，备用集群可以为大数据平台和离线数仓提供数据支撑。离线数仓可以通过指定时间读取备用集群数据，如将9时、12时、18时共3份快照（可根据业务自身的特征自定义快照时间）进行备份。可依据离线数仓数据来恢复指定时间点的数据。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;  2.5 海量数据存储方案  &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;随着互联网的高速发展，很多业务场景的数据量都达到了上亿的级别甚至更多，这就涉及到了海量数据的存储问题。由于我们的业务场景也达到了上亿的级别，所以我们设计了海量数据存储方案。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;DB层面：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;DB层面使用分布式文件存储的DB，详见2.4中MongoDB的分片集群，支持横向扩展，可以支撑大数据量存储，且性能仅受限于单分片collection的数据量级。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ES层面：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ES在创建index时需要指定索引的分片个数，一旦创建后不可修改，所以我们在创建索引时需要评估好该索引的数据量级与增长趋势。当索引单分片的数据量级过大，会导致性能急剧下降，此时我们可以使用ES的reIndex API进行索引重建，但该操作会最大程度占用ESserver端的服务资源，导致影响正常业务。为了解决此类问题我们可以利用ES的别名Alias + 分库分表的思路，设计出支持不受数据量级限制的ES索引。ES的别名下可挂载多个真实的索引名，而我们按照一定的规则对索引数据进行拆分，将数据写入到拆分后的真实索引中，而真实索引挂在在同一个别名下，这样可以做到读业务方无感知的效果。但是ES的别名并不具备写入能力（别名下多个索引时），所以我们需要自己执行路由规则，进行索引拆分和写入。具体设计方案如下图：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.35756056808688386&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1197&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuA8iaDc3HLqWgicYUSnrDVB9288AJmh8WicXuibeoiaSVZS1p45Jx8vyH39yxrzZftTLaWfm47Lu62BEA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;图4ES索引拆分写入与查询流程图&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;02&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h2&gt;&lt;strong&gt;&lt;span&gt;   &lt;span&gt;最佳实践&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;h4&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/h4&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;  3.1 标准化、通用化消息通知  &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;为了解决各业务团队因需要共享数据，导致服务严重互相依赖的问题，我们设计了标准化、通用化的消息通知机制。用户只需要引入数据中心(OLTP) SDK ，并做简单的配置，便可监听到指定字段发生变化时的消息，以触发自身的业务逻辑。数据中心(OLTP)消息通知 SDK 设计图如下：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.1537290715372908&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;657&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuA8iaDc3HLqWgicYUSnrDVB9kpLDbCBicNQ6gVTjw108Xa1g8kWfva1RSlibNRHJGd5q5YKicVeITmCPA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;图5 消息通知SDK设计图&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;当数据中心(OLTP)的字段发生变化时，会向RMQ 消息队列投放相关信息；SDK根据业务方配置信息会订阅 RMQ 消息队列，并根据用户的订阅配置，过滤掉用户不关心的消息。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;SDK设计的关键点：&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;一、将RMQ封装起来，降低业务方的复杂度；&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;二、轻服务端重客户端，将消息的过滤与去重放到SDK,降低服务端的压力；&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;三、消息的过滤可以支持到二级字段维度，更精确的过滤掉业务方不需要的消息，减少客户端的压力。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;  3.2 技术难点  &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;在数据中心(OLTP)的应用实践当中我们遇到了一些技术挑战，经过研究我们进行了很好的解决：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;数据库乐观锁锁粒度控制&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;数据中心(OLTP)一张表中的字段都有归属的业务方，如果我们用一个version作为乐观锁控制，那A业务方在保存a字段时，B业务方就无法保存b字段，会导致服务性能的急剧下降，这不是我们期望的结果。&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;我们期望A业务方保存归属字段时，B业务方不受影响，做到业务隔离。而A业务方乐观锁只控制A业务方并发保存时的数据一致性。所以我们的乐观锁version可以以业务方维度设计，可以做到锁隔离和锁粒度的控制，进而提升保存性能。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;ES批量写入&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;作为数据中心(OLTP)，避免不了业务方批量写入数据的场景。&lt;/span&gt;&lt;span&gt;而此时我们可以利用ES的Bulk API，来提升ES的写入性能。&lt;/span&gt;&lt;span&gt;经验证ES的Bulk API比单条数据写入index API性能高几十倍（针对大数据量写入）。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Bulk API官网地址：&lt;/span&gt;&lt;span&gt;https://www.elastic.co/guide/en/elasticsearch/reference/7.6/docs-bulk.html#docs-bulk&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;ES之深度分页查询&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ES在分页查询时，为避免深度翻页对server端带来的压力，故默认控制检索深度不能超过1万条。&lt;/span&gt;&lt;span&gt;如果我们需要实时查询深度分页数据时，可以使用Search After API进行查询；&lt;/span&gt;&lt;span&gt;如果我们需要快速查询深度分页数据，可以使用Scroll API进行查询。&lt;/span&gt;&lt;span&gt;经验&lt;/span&gt;证&lt;span&gt;性能远大于深度翻页，且无深度限制。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt; &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;业务方维度控制&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;由于数据中心(OLTP)需要跟多个业务方交互，为了避免某个业务方流量异常影响其它业务方，我们设计了业务方维度的分布式限速，从而达到业务方之间的隔离。&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;03&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h2&gt;&lt;strong&gt;&lt;span&gt;   效果与展望&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;数据中心(OLTP)上线后，可以看到内容运营的所有数据，解决了数据孤岛问题；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;各写入方只需要按规范将数据投递给数据中心(OLTP)即可对外提供数据，解决了重复建设的问题；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;查询业务方只需要对接数据中心(OLTP)即可获取所需的所有内容运营数据，解决了对接复杂的问题；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;各业务团队统一从数据中心(OLTP)获取需要的数据，不再需要跟数据写入方交互，解决了业务系统耦合严重的问题。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;目前数据中心(OLTP)已对接26个业务方，部署物理隔离的独立集群4套，流量较大的集群，读QPS超过2K，写入QPS超过500，最大的表数据量已达2.5亿。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;当然数据中心(OLTP)还需要持续建设，为了数据的高可用我们设计了主备集群，但这样也带来了主备集群间的数据一致性问题——数据中心的数据量会越来越大。为了看到整个数据的全貌，传统的技术已经无法解决，我们目前正在打通此系统与&lt;/span&gt;&lt;span&gt;离线数据平台(OLAP)平台的通&lt;/span&gt;&lt;span&gt;路，借助实时数仓与离线数仓的技术，全面赋能业务需要。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;推荐阅读：&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzA5Njk3Njc5Mw==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/zKQJJopg9UNNc0BBpMTTMakQVZHWAndEgicgysue8cQdH1Fv6acUo1BIaEbdXC9PNjgAmZVH2CoRW3AnOiaWoyJg/0?wx_fmt=png&quot; data-nickname=&quot;HelloTech&quot; data-alias=&quot;HelloTech&quot; data-signature=&quot;专注于大数据和微服务架构实践，分享来自技术人的一手干货文章，从入门到深入，通过夯实的技术积累和丰富的一线实战经验，充分利用碎片化时间，为你带来最有料的技术分享~&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;！&lt;strong&gt;关注不迷路~ 各种福利、资源定期分享&lt;/strong&gt;！&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;🧐&lt;strong&gt;分享、点赞、在看&lt;/strong&gt;，给个&lt;strong&gt;3连击&lt;/strong&gt;呗！&lt;strong&gt;👇&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>97eb38ef26fdb48e9701caef2a5c29e1</guid>
<title>写好技术原创文章的一点建议</title>
<link>https://toutiao.io/k/op0y5m9</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-role=&quot;outer&quot; label=&quot;edit by 135editor&quot;&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4255555555555556&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/YE1dmj1Pw7maCaXpy3gYuPDdVIF4RFJKNM4LTvObuIYibL9HhJXicNc2ZuF6mmklrd3C1Oply5dPMhaLoI3ib56iaw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;900&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;作者介绍&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tools=&quot;135编辑器&quot; data-id=&quot;92600&quot;&gt;&lt;section&gt;&lt;section data-width=&quot;100%&quot;&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-width=&quot;100%&quot;&gt;&lt;section data-width=&quot;100%&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.0777777777777777&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/YE1dmj1Pw7maCaXpy3gYuPDdVIF4RFJKqGzcibMYzgJ3SezLNVhMMY5u8DzDEdPxNziadqxol2qbnv64ia3pCaO5w/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; title=&quot;640 (4).jpg&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;郑吉敏&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-width=&quot;100%&quot;&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section hm_fix=&quot;315:359&quot; data-role=&quot;list&quot;&gt;&lt;p&gt;&lt;span&gt;2019年8月入职去哪儿旅行，机票目的地事业群技术总监、技术委员会委员、业务架构 SIG 负责人，负责酒店报价中心团队、业务架构组。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2020 年金项奖评选中主导的“对内 DDD 对外 API 驱动的酒店报价业务重塑”项目获得了 CEO 特别奖。2021 年获得技术品牌最佳贡献奖，曾在 QCon、Top100、CSDI、SACC、MPD 等大会做过技术分享。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;一、背景&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;之前，自己曾经在公司的技术公众号“Qunar技术沙龙”发表过一些文章，记录了自己主导的一些核心技术项目，并且在季度评选中均获得了发表文章所在季度的“原创之星”：&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;section&gt;&lt;span&gt;在发表这些文章之前，自己也没如此正式的写技术原创文章，但是伴随着这些文章的准备和发表，获得了很多正向反馈，自己也在日常总结、书面表达等多方面实际提升了很多。因此写这篇文章介绍了一下自己写技术原创文章的一些经验和心得，希望能起到一定的指导的作用。&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;本篇文章正文主要分三块，分别是“&lt;/span&gt;&lt;em&gt;&lt;strong&gt;&lt;span&gt;价值：如何看待这件事？&lt;/span&gt;&lt;/strong&gt;&lt;/em&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;span&gt;”“&lt;/span&gt;&lt;em&gt;&lt;span&gt;&lt;strong&gt;突破：如何写起来？&lt;/strong&gt;&lt;/span&gt;&lt;/em&gt;&lt;span&gt;”“&lt;em&gt;&lt;strong&gt;输出：一些注意点&amp;amp;技巧&lt;/strong&gt;&lt;/em&gt;”，读者可以根据自己需求选择跳读或者只选择自己关注的章节阅读。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;二、价值：如何看待这件事？&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;1、提升个人影响力&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;一篇实用的技术原创文章，可以为自己带来大量的读者，可以从侧面去表现个人包含技术在内的综合能力，大幅提升个人的影响力。持续认真的去准备及发表高质量的文章，影响力会不断的得到提升。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;刚入职公司时，自己就是通过发表连载的关于稳定性治理的文章，快速提升自己在公司内外部的影响力，效果很明显。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;2、内容留存，方便传播&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;一篇认真完成的技术文章，可以将一件事情完整的记录下来，既能方便日后回顾，也方便传播给其他人。经常，我们会在某些事情过后很久，某一个场合或某个时候，想起这个事情，这时候如果能有这样一篇当时记录的文章，它留存的价值就会被突然放大。在完成文章过程中，还可以帮助我们去做些查缺补漏，比如某个细节不清楚、某个数据感觉有问题、某个知识点了解的不够深入等等，相比汇报和分享，写文章会让我们把想表达的内容掌握的更全面更具体，这些对自己相当于是增量价值。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2020 年自己曾带领团队完成了一次成功的 DDD 落地实践，然后我花了几个月时间去总结并将自己了解的过程和经验写成文章。之后陆续做了一些 DDD 落地经验分享，每次分享后都有不少同学私下沟通一些细节，这时候直接拿出自己之前发表过的文章，既方便回顾又方便传播。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;3、提升个人总结能力&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;总结是对工作实施结果的总鉴定和总结论，是对以往工作实践的一种理性认识，是做好各项工作的重要环节。通过总结可全面地了解以往的工作情况，明确工作方向，提高工作效益。总结还是认识世界的重要手段，是由感性认识上升到理性认识的必经之路。可以明确，总结能力对每个人都非常重要。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;通常要搞定一篇技术文章，需要我们做很多总结。经常写技术文章，可以让我们养成日常做总结的习惯，个人的总结能力可以随着日常的不断总结而不断提升。即使不写技术文章，提升个人总结能力也十分重要，而写技术文章是提升个人总结能力非常有效的一个途径。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;三、突破：如何写起来？&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1、从0到1 ：从没写过到写过&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;通常迈出第一步是最难的，什么事情第一次做都会很打怵，即使有再多人告诉你不难、你不要去想xx，心里的那种陌生感依旧会依然伴着你，这个阶段的核心是&lt;/span&gt;&lt;strong&gt;&lt;span&gt;突破自己内心的障碍&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;这时的障碍主要来自两方面：&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;span&gt;明确一下，有这两方面担心很正常，当然，这两方面的担心其实也都好解决。分别说一下：&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;个人内容问题：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;我们写的文章都有面向的群体，面向初级、中级、高级、TL还是总监，内容高度是有很大区别的，写文章前明确好定位和面向群体就可以了，不同岗位、不同职级的人本身对文章的需求差别巨大，并不是高度够高就好。举个例子，新出一门语言，能快速写一篇文章把 API 讲解清楚，可能是当时价值最大的，而如果这个语言向 Java 这样流行之后，再去写一篇讲解 API 的可能读者就要少很多。同时，我们写完文章，通常会拿出来给身边一些人审核（非个人公众号一般都有审核要求），如果内容真的有些问题，会有很多人告诉你该如何修改，因此能最终发表出来内容问题都基本不会有明显的问题。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;他人观点问题：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;一定有很多比我们厉害的人，那么这些人会带着什么心态去看这些文章呢？首先可以明确不是带着批判的心态，其次他们可能也希望通过文章去补充自己，看看是否有新观念、新想法的出现。即使不符合他们的胃口，比如讲的内容自己可能做得更好，他们会很快关闭去看其他的，而不是继续浪费时间。反之，如果发现有你可以提升的，可能还会联系你，告诉你他们的一些想法，这样自己就赚到了。当然，还有一种可能，他们可能并不会打开。总之，这方面也没有什么可顾虑的。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2、从1到N：从不愿意写到主动写&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;迈出第一步之后，接下来这个阶段的核心是&lt;/span&gt;&lt;strong&gt;&lt;span&gt;持续积累&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;、&lt;/span&gt;&lt;strong&gt;&lt;span&gt;总结&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;和&lt;/span&gt;&lt;strong&gt;&lt;span&gt;输出&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;先说下积累和总结，这个分重点记录和临时记录：&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;重点记录：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;高质量的文章，需要不断的积累素材和总结经验，最后通过文字表达出来。正如巧妇难为无米之炊，即使有特别多的有价值的事情可以拿出来写，但是没有数据支撑、没有成果评估、没有完整的方案等详细的素材，是很难下笔的，脑海里有的也是某某事情做的很不错，只了解个大概。当然，记录这些不单单就只是记录，而是让自己能清楚知道手里都有什么“牌”可以使用，这样才能从更高的维度去构思如何使用这些素材。不光是写文章，对外分享、向上汇报、晋升答辩的内容都顺手准备了。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;随笔记录：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;建议平时多记录些随笔，随时记录一下自己的想法和idea，一些特定场景产生出的想法很容易忘，需要及时记录才不会昙花一现，这些也是非常好的素材来源，这些对于工作也会非常有帮助。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;有了素材，可能有些人还担心个人文笔问题，写技术文章和写情感类作文还是有很大差别的，技术文章对于文笔要求其实没那么高。我们接下来重点说一下输出技术文章的一些注意点和技巧。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;四、输出：一些注意点&amp;amp;技巧&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1、内容是王道&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;（1）重视完整性&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;我们以常见的介绍一个事情或项目的文章来举例说明，通常这类文章要讲解清楚：&lt;/span&gt;&lt;strong&gt;&lt;span&gt;背景&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;、&lt;/span&gt;&lt;strong&gt;&lt;span&gt;问题&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;、&lt;/span&gt;&lt;strong&gt;&lt;span&gt;解决方案&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;、&lt;/span&gt;&lt;strong&gt;&lt;span&gt;落地过程&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;、&lt;/span&gt;&lt;strong&gt;&lt;span&gt;项目成果&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;、&lt;/span&gt;&lt;strong&gt;&lt;span&gt;总结&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;。少了其中任何一项，大家读完就会感觉缺少些内容，比如：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;缺少了背景，问题可能就不是问题了，背景基本能框住文章核心内容的方向，并引出对应的问题。当然，有时背景和问题是一起出来的，比如单独的解决一个线上bug。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;没有背景和问题，就没法去说解决方案和落地过程了，解决方案也可能不切合实际。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;技术文章里解决方案非常重要，通常都是文章重点，也是读者能从中获得营养最多的地方。落地过程相比解决方案，有时会弱一些。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;项目成果需要回归到问题和过程，并需要从解决方案和过程里拿到数据来说成果，而如果没有成果，这件事情就没法定义做的好还是不好。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;如果没有总结，整篇文章会显得平淡很多，通常会选择在文章最后进行升华，给出一些实用的方法论、一些经验总结等。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;...&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;（2）重视连贯性和内在逻辑&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;前面介绍了完整性，他们构成了整篇文章的核心模块，接下来要关注的是让这些核心模块连贯起来，并且内在逻辑要能紧密关联、互相印证。比如：&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;（3）通过结构化方式开展&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;关注了完整性和连贯性之后，接下来核心就是码字了，将这些都实际体现在文字里。在码字过程中，强烈建议通过结构化的方式进行设计和落地。具体来说，先确定大标题，再确定大标题下面的小标题，最后丰富细节。一定要避免想到哪写到哪，而要提前做好设计。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;我们以这篇文章的形成来举个例子，首先我先列出最核心的模块：（这一部分补充过程中，可以很容易看出整体的完整性）&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;背景&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;价值：如何看待这件事？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;突破：如何写起来？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;输出：一些注意点&amp;amp;技巧&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;写在最后&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;大模块属于一级提纲，接下来是补充二级提纲，单独以【输出：一些注意点&amp;amp;技巧】为例，我首先把他主要分成两大块：内容和美观，即现在看到的“内容是王道”和“美观不可少”，然后经过一些思考后，我又补充了下面几项：（这一部分补充过程中，就可以把连贯性及内在逻辑都想清楚了）&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;重视完整性&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;重视连贯性和内在逻辑&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;通过结构化方式开展&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;能突出重点&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;善于使用提升高度的词汇&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;给出明确的结论、可复制的方法论&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;二级提纲完成后，可以按需考虑是否还需要在个别节点上增加三级提纲。如果没有三级提纲，就可以考虑丰富每一级标题的内容了。每一级的提纲不需要一定想的特别清楚，这个的核心是快速拉出框架，辅助自己去设计好全篇的脉络，方便后续阅读，同时也方便补充具体内容。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;实际补充每一级提纲时，尽量满足 &lt;strong&gt;MECE 原则&lt;/strong&gt;。MECE 原则（Mutually Exclusive Collectively Exhaustive），意思是“相互独立，完全穷尽”，是麦肯锡咨询顾问芭芭拉·明托在《金字塔原理》中提出的一个分类的思考工具。在思考问题的过程中，我们需要分解问题，每一个层次的问题之间没有重复、交叉、关联，意味着“相互独立”，每一个层次都不能有遗漏，意味着“完全穷尽”。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;（4）能突出重点&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;通常，我们需要在行文前想好文章期望最终能让读者获得什么，比如呈现什么样的观点、什么样的方法论、传达什么思想等。在实际完成文章内容输出时，我们需要去考虑重点突出哪里，然后去思考如何突出这些重点，这决定了我们使用多少&lt;/span&gt;&lt;strong&gt;&lt;span&gt;笔墨&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;去完成某些部分，以及使用什么&lt;/span&gt;&lt;strong&gt;&lt;span&gt;形式&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;去呈现这些部分的内容。同时，需要重点突出的内容也可以通过&lt;/span&gt;&lt;strong&gt;&lt;span&gt;文字强调&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;、&lt;/span&gt;&lt;strong&gt;&lt;span&gt;相关数字&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;、&lt;/span&gt;&lt;strong&gt;&lt;span&gt;表格&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;、&lt;/span&gt;&lt;strong&gt;&lt;span&gt;画图&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;、&lt;/span&gt;&lt;strong&gt;&lt;span&gt;不同排版&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;、&lt;/span&gt;&lt;strong&gt;&lt;span&gt;特殊字体&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;等形式刻意突显。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;总结一下，每篇文章要有自己的&lt;/span&gt;&lt;strong&gt;&lt;span&gt;灵魂&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;，要有重点的去突出你想传达的内容或思想。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;（5）善于使用提升高度的词汇&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;核心词汇的使用，对于文章提升高度很有帮助，有时关键句子里一个升华的词汇可能就会有完全不一样的效果。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;网上有很多关于这类词汇的整理，分享一下我之前收藏的一份：&lt;/span&gt;&lt;/p&gt;&lt;section data-tools=&quot;135编辑器&quot; data-id=&quot;112059&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;img data-ratio=&quot;1.08&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/YE1dmj1Pw7maCaXpy3gYuPDdVIF4RFJKibW6iaRbOv2wA5pmfibQeESS6ibhLkT3ibyUdC9ghaibGYc4ThMnsJWib7H1Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;25&quot; data-width=&quot;100%&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-width=&quot;100%&quot;&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-autoskip=&quot;1&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;594&quot; data-backw=&quot;528&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;528&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;498&quot; data-ratio=&quot;1.1240875912408759&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/YE1dmj1Pw7maCaXpy3gYuPDdVIF4RFJK9U562MnvaeDLGLRpN5DXmtWOOJKwpXh3quU3vAXK55Lnzf3ia16k3qA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1096&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;img data-ratio=&quot;0.3375&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/YE1dmj1Pw7maCaXpy3gYuPDdVIF4RFJKDo3HTfoISvNe1Rap9oJnNxZVugSfFmjjGmKtpFXPjwDI6ul8HYgeFQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;80&quot; data-width=&quot;100%&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;img data-ratio=&quot;0.8615384615384616&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/YE1dmj1Pw7maCaXpy3gYuPDdVIF4RFJKia5SQfZ2UuOyfn6JY5gvwiaQFpB0hLC9u7ZIPzcK6ukSJRFd9wJbdl3w/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;65&quot; data-width=&quot;100%&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;大家也可以根据需要去搜索更多类似的词汇。切记，一定要日常多看多复习，这样写文章或分享时，才更容易随手拈来，做到融会贯通。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;（6）给出明确的结论、可复制的方法论&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;很多读者在读文章前是带着期待的，有时是希望了解他人的立场，有时是希望学习一些方法论，等等，总之大家读文章都会多少有一定的目的性。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;为了能让读者更容易的获取到TA希望从文章里获得的，那么给出一些明确的结论和我们总结的一些方法论是最直截了当的（方法论注意要尽可能容易被复制使用），其他内容很多都属于为最终结论和方法论提供支撑。明确这些，可以更容易组织文章的结构和内容，明确哪里需要讲清楚、哪里需要简单提一下就行。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2、美观不可少&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;技术文章对美观要求的其实并不高，前面内容方面的问题做好之后，其实已经核心基本已经完成的差不多了。但是，“看着舒服”会让读者更容易读下去，“看着难受”则很可能逼走读者。在追求内容的同时，还要关注一下整体的视觉美感。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;注意了前面内容那部分的几项，可以保证一些基础的“&lt;/span&gt;&lt;strong&gt;&lt;span&gt;内容模块化&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;、&lt;/span&gt;&lt;strong&gt;&lt;span&gt;段落标准化&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;”要求，结构会很清晰，这里简单补充一些排版时可以关注的细节：&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;字体与字号：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;不同平台的通常都有默认的字体和字号，如果没有特别的设计，不建议去使用个性的字体，比较安全的字体可以考虑：微软雅黑、黑体。同时需要关注，标题的字号要逐级变小，正文的字号最小，正文通常保证统一字体和字号。如果是想做些特别强调，正文也可以考虑使用不同的字体、字号、颜色等来呈现，常见的斜体、加粗、下划线等也可以常用，可以考虑。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;文字颜色：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;通常文字颜色使用黑色或灰色居多，这些颜色的不同程度（比如深灰、浅灰）可以引入来做些不同场景的区分。如果文字引入多种颜色，通常不建议超过3种颜色。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;配图：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;明确一点，不要随意使用网上的图片，要注意版权问题，如果需要引用，需要注明好来源。配图一定要清晰，全文的配图风格建议保持一致。尽量去掉一些无用的信息，对于敏感信息不建议使用模糊的方式，建议画图时注明或者直接去掉。同时配图要注意有解读，别让读者自己去解读。这里推荐几款流行的画图工具，draw.io、processon、EdrawMax。如果自己需要画图但是感觉自己画不好，前期可以从网上或别人画的图里找一些设计灵感，图画多后，很自然就有自己的想法了。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;表格：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;展示表格时，建议第一行标题加粗，大部分时候都可以考虑设置成居中。表格的宽度建议都手动调一下，关注一下每行是不是简单调宽就可以让内容都正常展示，也避免某些行内容少但留有空白过多的情形。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;代码：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;代码截图时请注意尽量不要有浪线，截取的代码最好调整下变量名称，看到变量就知道含义。另外，不建议直接对 IDEA 等编程工具直接截图，推荐一个网址  https://carbon.now.sh/， 可以很容易的为你的代码创建漂亮的图片。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;标点：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;通常英文使用半角，中⽂使用全角，注意即可。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;留白：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;很多同学有随手敲换行的习惯，文章里不建议刻意增加换行，除非某些场景需要，比如一些配图和上下文之间，建议使用常规标题自带的留白。有时候，多余的空行很难看。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;其他：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;做好必要的检查，格式对齐、错别字检查、大小写统一、单位统一等。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;3、功夫在日常&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;多读书&amp;amp;阅读他人文章：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;“读书破万卷，下笔如有神”，多读、精读、细读，自己写作时自然会得心应手一些，这里就不展开讲了。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;多收藏好文、做笔记：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;日常读到好的文章，不管是内容好，还是构思好，都可以收藏起来，一些文章或书也可以单独做下笔记，实际写作时这些素材会非常有用。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;多画图、做总结：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;平时可以基于项目或系统画些图做些总结，这样既可以给自己提供很多素材和思路，也能提升自己的码字水平，提升自己的综合能力。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;五、写在最后&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;“实践出真知”，听的再懂、想的再好，都不如实际行动起来，实际写起来才知道自己具体哪里需要加强，才会有自己独到的理解和收获。真正努力过后，相信每个人都可以有“&lt;em&gt;&lt;strong&gt;无他，惟手熟尔”&lt;/strong&gt;&lt;/em&gt;的感觉。&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>