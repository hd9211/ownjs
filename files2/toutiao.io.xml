<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>eb8e9206e54416ac1e29ba4d3f9c7a31</guid>
<title>面试写：如何优雅地给对象的所有方法添加异常处理</title>
<link>https://toutiao.io/k/r81a6pj</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzIwNDMyMTg4Ng==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/wIDSOebZK4NvWoUN1gSpNiaxwF4VLvroSV4fibB1a5iaLEaR23sVIW9ickg4StvsXlxnPpslKAltA6mvJUhkT2PsaA/0?wx_fmt=png&quot; data-nickname=&quot;JavaScript 每日一练&quot; data-alias=&quot;&quot; data-signature=&quot;每天一道JavaScript 实战题，让大家平时多多积累实用的知识，提高开发效率，才有更多的时间摸鱼。&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;代码不会全部按照我们的预期运行，可能会有意料之外的情况，为了保证程序的健壮性，要进行异常处理。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比如一个对象的所有方法，都应该做异常处理，但是，如果每个方法都加 try catch 又太麻烦：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt; obj = {&lt;br/&gt;    aaa() {&lt;br/&gt;        &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;            &lt;span&gt;// aaa&lt;/span&gt;&lt;br/&gt;        } &lt;span&gt;catch&lt;/span&gt;(e) {&lt;br/&gt;            &lt;span&gt;// xxxx&lt;/span&gt;&lt;br/&gt;        } &lt;br/&gt;    },&lt;br/&gt;    bbb() {&lt;br/&gt;        &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;            &lt;span&gt;// bbb&lt;/span&gt;&lt;br/&gt;        } &lt;span&gt;catch&lt;/span&gt;(e) {&lt;br/&gt;            &lt;span&gt;// xxxx&lt;/span&gt;&lt;br/&gt;        } &lt;br/&gt;    },&lt;br/&gt;    ccc() {&lt;br/&gt;        &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;            &lt;span&gt;// ccc&lt;/span&gt;&lt;br/&gt;        } &lt;span&gt;catch&lt;/span&gt;(e) {&lt;br/&gt;            &lt;span&gt;// xxxx&lt;/span&gt;&lt;br/&gt;        } &lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;有没有一种方式既能对所有方法做异常处理，又不用重复写这么多次呢？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;有，就是代理模式。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;代理模式是通过对目标对象做一层包装，提供和目标对象同名的方法，最终的功能实现还是调用目标对象的方法，但可以额外添加一些职责，比如日志、权限等，透明地对目标对象做一些扩充。&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比如 React 里的高阶组件就是代理模式的实现，可以透明的扩展被包装的组件的功能。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;很明显，这里的异常处理，也可以用代理的方式来做。但不用完全自己实现，ES6 提供了 Proxy，可以基于它来实现。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;定义 createProxy 方法来实现代理，创建一个 Proxy 对象，对目标对象 target 做一层包装，定义 get、set 时的处理：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt; &lt;span&gt;createProxy&lt;/span&gt;(&lt;span&gt;target&lt;/span&gt;) &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;const&lt;/span&gt; proxy = createExceptionProxy();&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;Proxy&lt;/span&gt;(target, {&lt;br/&gt;        &lt;span&gt;get&lt;/span&gt;: proxy,&lt;br/&gt;        &lt;span&gt;set&lt;/span&gt;: proxy&lt;br/&gt;    });&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt; &lt;span&gt;createExceptionProxy&lt;/span&gt;(&lt;span/&gt;) &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; &lt;span&gt;(&lt;span&gt;target, prop&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {&lt;br/&gt;        &lt;span&gt;if&lt;/span&gt; (!(prop &lt;span&gt;in&lt;/span&gt; target)) {&lt;br/&gt;            &lt;span&gt;return&lt;/span&gt;;&lt;br/&gt;        }&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;if&lt;/span&gt; (&lt;span&gt;typeof&lt;/span&gt; target[prop] === &lt;span&gt;&#x27;function&#x27;&lt;/span&gt;) {&lt;br/&gt;            &lt;span&gt;return&lt;/span&gt; createExceptionZone(target, prop);&lt;br/&gt;        }&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; target[prop];&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果 target 不包含 prop，就返回空，否则返回对应的属性值 target[prop]。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果属性值是函数，则做一层包装:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt; &lt;span&gt;createExceptionZone&lt;/span&gt;(&lt;span&gt;target, prop&lt;/span&gt;) &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; &lt;span&gt;(&lt;span&gt;...args&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {&lt;br/&gt;        &lt;span&gt;let&lt;/span&gt; result;&lt;br/&gt;        ExceptionsZone.run(&lt;span&gt;&lt;span&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; {&lt;br/&gt;          result = target[prop](...args);&lt;br/&gt;        });&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; result;&lt;br/&gt;    };&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;最终的功能实现还是调用 target，传入参数，把调用结果作为代理方法的结果返回。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;包装这一层的目的是为了做异常处理，也就是 ExceptionsZone.run 做的事情：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;ExceptionsZone&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;static&lt;/span&gt; exceptionHandler = &lt;span&gt;new&lt;/span&gt; ExceptionHandler();&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;static&lt;/span&gt; run(callback) {&lt;br/&gt;      &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;        callback();&lt;br/&gt;      } &lt;span&gt;catch&lt;/span&gt; (e) {&lt;br/&gt;        &lt;span&gt;this&lt;/span&gt;.exceptionHandler.handle(e);&lt;br/&gt;      }&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;调用目标方法，并做 try catch，当出现异常的时候，用 ExceptionHandler 来处理。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里的异常处理我们就简单打印下日志：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;ExceptionHandler&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;    handle(exception) {&lt;br/&gt;        &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;&#x27;记录错误：&#x27;&lt;/span&gt;,exception.message, exception.stack);&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这样就实现了给目标对象的所有方法添加异常处理的目的。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;测试下：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt; obj = {&lt;br/&gt;    &lt;span&gt;name&lt;/span&gt;: &lt;span&gt;&#x27;guang&#x27;&lt;/span&gt;,&lt;br/&gt;    say() {&lt;br/&gt;        &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;&#x27;Hi, I\&#x27;m &#x27;&lt;/span&gt; + &lt;span&gt;this&lt;/span&gt;.name);&lt;br/&gt;    },&lt;br/&gt;    coding() {&lt;br/&gt;        &lt;span&gt;//xxx&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;Error&lt;/span&gt;(&lt;span&gt;&#x27;bug&#x27;&lt;/span&gt;);&lt;br/&gt;    }&lt;br/&gt;    coding2() {&lt;br/&gt;        &lt;span&gt;//xxx&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;Error&lt;/span&gt;(&lt;span&gt;&#x27;bug2&#x27;&lt;/span&gt;);&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt; proxy = createProxy(obj);&lt;br/&gt;&lt;br/&gt;proxy.say();&lt;br/&gt;proxy.coding();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里的 coding、coding2 方法都会抛出异常，但并没有做异常处理，我们用代理给它加上：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.0471869328493648&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/YprkEU0TtGhOauW8OLCDUN2yyyeT0ykX9a2pcRibpDmF3HzcFicGlD8dt07Fr5LYztb7X2FKQcYEnCWIxnynKAiag/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1102&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们成功地通过代理模式给对象方法添加了异常处理！&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但是现在这样还是有问题的，比如我把 coding 方法改为 async 的就不行了：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9936170212765958&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/YprkEU0TtGhOauW8OLCDUN2yyyeT0ykXsKJH1Bcc0mWTxA5nVfV89TODbyRvsQOrjNZlcofGeVobwv3Co1cBzQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;940&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;那怎么办呢？能不能统一对异步和同步方法做代理呢？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;确实没办法，因为没法区分方法是同步还是异步，而且这两种方法的调用方式也不同，但我们可以单独提供一个 runner 方法来运行这些异步逻辑：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;ExceptionsZone&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;static&lt;/span&gt; exceptionHandler = &lt;span&gt;new&lt;/span&gt; ExceptionHandler();&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;static&lt;/span&gt; &lt;span&gt;async&lt;/span&gt; asyncRun(callback) {&lt;br/&gt;      &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;        &lt;span&gt;await&lt;/span&gt; callback();&lt;br/&gt;      } &lt;span&gt;catch&lt;/span&gt; (e) {&lt;br/&gt;        &lt;span&gt;this&lt;/span&gt;.exceptionHandler.handle(e);&lt;br/&gt;      }&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;然后这样运行：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;(&lt;span&gt;async&lt;/span&gt; &lt;span&gt;&lt;span&gt;function&lt;/span&gt;(&lt;span/&gt;) &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;await&lt;/span&gt; ExceptionsZone.asyncRun(proxy.coding2);&lt;br/&gt;})();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这样就能处理异步逻辑中的异常了：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9741035856573705&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/YprkEU0TtGhOauW8OLCDUN2yyyeT0ykXOosScx9G5iaVkQYmbDp6OMHXn3kvKnM1IsrgWrPzNzjegibYTU6XrIicg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1004&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;我们通过代理的方式给对象的所有同步方法添加了异常处理，然后又提供了运行异步方法的 runner 函数，对异步的异常做了处理，结合这两种方式，优雅地给目标对象的所有方法加上了异常处理。&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;可能你会说，代理就代理，你定义这么多 class 干啥？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;因为这段逻辑是我从 Nest.js 源码里摘出来的，它源码里就是这样来给对象添加异常处理的：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.0945674044265594&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/YprkEU0TtGhOauW8OLCDUN2yyyeT0ykXQE6bIOKyBs6YfAwZoDib7Yu2Ou9CrfparHZ4Zc3QGJo6aLPpc4RMSsw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;994&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;异步逻辑也是单独提供了个方法来运行：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3582089552238806&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/YprkEU0TtGhOauW8OLCDUN2yyyeT0ykXqNezpkKDO9IjV4JTRg68XJdMsm4qiaaQiazCKLCibHB9gTzTaqjbrHomQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;670&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我觉得这个透明给对象添加异常处理的方式很优雅，就把它从 Nest.js 源码里抽了出来。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;总结&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;为了保证健壮性，我们要对所有可能报错的代码添加异常处理，但是每个方法都添加 try catch 又太麻烦，所以我们利用 Proxy 实现了代理，透明的给对象的所有方法都添加上了异常处理。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但是，代理添加的只是同步的异常处理，并没有捕获异步逻辑的异常，我们可以单独一个一个函数来运行异步方法。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;结合代理 + 提供运行异步方法的 runner 这两种方式，就能给一个没有做任何异常处理的对象加上异常处理。是不是很优雅～&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;&lt;span&gt;欢迎&lt;/span&gt;&lt;code&gt;长按图片加刷碗智为好友&lt;/code&gt;&lt;span&gt;，&lt;/span&gt;&lt;span&gt;我会第一时间和你分享前端行业趋势，学习途径，搞怪趣事，生活中的另一面幽默等等。&lt;span&gt;新的一年我们一起洗刷刷！！！！！！&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;68&quot; data-cropselx2=&quot;361&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;385&quot; data-fileid=&quot;100021057&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.8948194662480377&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/LDPLltmNy55d6jntYlvCrOVACPvqJkZuaOwJiaecIvQdzSq8lLVBibrGRZPxlWKvV7sGqC3CtOjZ1QxHu56tWZwg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;637&quot;/&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/section&gt;
          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>17b545027a9c06fb4bcf4f5c4538cda2</guid>
<title>百度某部门面试原题</title>
<link>https://toutiao.io/k/l0zugzm</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                                                     &quot; id=&quot;js_content&quot;&gt;
            &lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;本文适合最近在考虑新机会的的小伙伴阅读&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;欢迎关注&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;前端早茶&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;，与广东靓仔携手共同进阶～&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;Mzg3ODAyNDI0OQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/ic5A4V8PX4PmOXMQHa6L3OhPGOnf2BSZib7ibVcAj2j2FYkfFCWb2xmyfX63TYVlofunfD4QnB5vqELZqXfnQZMlA/0?wx_fmt=png&quot; data-nickname=&quot;前端早茶&quot; data-alias=&quot;ZeFeng_axios&quot; data-signature=&quot;专注前端，一起结伴同行，紧跟业界发展步伐~&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;作者：广东靓仔&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;一、背景&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;    这套题目是广东靓仔认识的一位前端妹子经过“一番努力”Get到的，感谢~&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.1717791411042944&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ic5A4V8PX4PmKpHrxF4VjOd39aXmquRhBfEw9F8HGGQ48a8KjiaT2ZEdibX3q4dxiaZUMq6gibKLsKAeM6xEp4kXf0A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;163&quot;/&gt;&lt;/p&gt;&lt;section&gt;这套题目，比较实用的，接下来广东靓仔跟小伙伴一起来看看这套百度某部门的技术一面原题。&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;二、原题&lt;/span&gt;&lt;/h2&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;设置元素的backgroud 哪些区域颜色会改变&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;background&lt;/span&gt;填充区域默认为&lt;span&gt;content&lt;/span&gt;、&lt;span&gt;padding&lt;/span&gt;和&lt;span&gt;border&lt;/span&gt;区域。&lt;/p&gt;&lt;p&gt;然而该行为由&lt;span&gt;background-clip&lt;/span&gt;属性决定,默认为&lt;span&gt;border-box&lt;/span&gt;该属性对应的&lt;/p&gt;&lt;section&gt;&lt;span&gt;background&lt;/span&gt;填充对应区域如下:&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.35659760087241005&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ic5A4V8PX4PmKpHrxF4VjOd39aXmquRhBjiaQVsiaN9lCmibjksqe7VG9yfCqG5FkwNUcwq95U91kPt0F3v9YuZcUw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;917&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;FOUC 无样式闪烁（文档样式短暂失效）@import&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;如果使用import方法对CSS进行导入,会导致某些页面在Windows 下的Internet Explorer出现一些奇怪的现象:以无样式显示页面内容的瞬间闪烁,这种现象称之为文档样式短暂失效(Flash of Unstyled Content),简称为FOUC。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;原因大致为：&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;1：使用import方法导入样式表；&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;2：将样式表放在页面底部；&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;3：有几个样式表，放在html结构的不同位置；&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;其实原理很清楚：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt; 当样式表晚于结构性html加载，当加载到此样式表时，页面将停止之前的渲染。此样式表被下载和解析后，将重新渲染页面，也就出现了短暂的花屏现象。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;解决方法：&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;使用LINK标签将样式表放在文档HEAD中。&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;重绘重排区别&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;重绘不一定需要重排（&lt;span&gt;&lt;span&gt;比如颜色的改变&lt;/span&gt;）&lt;/span&gt;&lt;/section&gt;&lt;section&gt;重排必然导致重绘（&lt;span&gt;比如改变网页位置&lt;/span&gt;）&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;重排(Reflow)：&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;当渲染树的一部分必须更新并且节点的尺寸发生了变化，浏览器会使渲染树中受到影响的部分失效，并重新构造渲染树。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;重绘(Repaint)：&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;是在一个元素的外观被改变所触发的浏览器行为，浏览器会根据元素的新属性重新绘制，使元素呈现新的外观。比如改变某个元素的背景色、文字颜色、边框颜色等等&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;减少重排次数和缩小重排影响范围解决方式：&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;1. &lt;/span&gt;将多次改变样式属性的操作，合成一次操作。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;2. 将需要多次重排的元素,嗯，position属性。设为absolute。或fixed。使其脱离文档流，这样，他的变化就不会影响到其他的元素。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;3. 在内存中多次操作节点。完成后再添加到文档中去。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;4. 如果对一个元素进行复杂的操作，可以将display属性设为none嗯使其隐藏。操作完后再显示。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;5. 在需要经常获取那些引起浏览器重排的属性值时，要缓存到变量。&lt;/span&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;你们项目中Token是怎么拿到的&lt;/span&gt;&lt;/h2&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;用户登陆,发送手机号码和验证码&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;后台接收参数,查找用户,用户存在就生成token,返回给前端&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;前端登陆成功,把token存到vuex(做持久化)&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;使用axios拦截器,读取vuex中的token,并放入请求头&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;请求其他接口,就会带上token&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;后台在需要登陆的接口上,获取token,解密token获得userId,返回前端需要的数据&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;用户在下次使用app,如果token还在有效期内,不需要重新登陆&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;有不同的或者更好的方案也可以回答，发散题，自由发挥&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;cookie是什么？&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;cookie 是存储在浏览器中的纯文本，浏览器的安装目录下会专门有一个 cookie 文件夹来存放各个域下设置的cookie。&lt;/section&gt;&lt;section&gt;存储量很小4kb&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;拓展说明，&lt;/strong&gt;&lt;strong&gt;加分项：&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;    当网页要发http请求时，浏览器会先检查是否有相应的cookie，有则自动添加在request header中的cookie字段中。&lt;span&gt; 这些是浏览器自动帮我们做的，而且每一次http请求浏览器都会自动帮我们做。&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;所以对于那设置“每次请求都要携带的信息（最典型的就是身份认证信息）”就特别适合放在cookie中，其他类型的数据就不适合了。&lt;/span&gt;&lt;/section&gt;&lt;p data-pid=&quot;Rvd0FwJm&quot;&gt;&lt;span&gt;&lt;strong&gt;时效性&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;expires 是 http/1.0协议中的选项，在新的http/1.1协议中expires已经由 max-age选项代替，两者的作用都是限制cookie 的有效时间。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;expires的值是一个时间点（cookie失效时刻= expires ），而max-age 的值是一个以秒为单位时间段（cookie 失效时刻= 创建时刻+ max-age ）。&lt;/span&gt;&lt;/section&gt;&lt;h3&gt;&lt;span&gt;httpOnly&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;设置cookie是否能通过 js 去访问。默认情况下，cookie不会带httpOnly选项(即为空)，所以默认情况下，客户端是可以通过js代码去访问（包括读取、修改、删除等）这个cookie的。当cookie带httpOnly选项时，客户端则无法通过js代码去访问（包括读取、修改、删除等）这个cookie。&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;Js数据类型有哪些 &lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;值类型(基本类型)：&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;字符串（String）、数字(Number)、布尔(Boolean)、对空（Null）、未定义（Undefined）、Symbol。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;引用数据类型：&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;对象(Object)、数组(Array)、函数(Function)。&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;基本类型引用类型区别 &lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;基本类型&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;基本类型的访问是按值访问的，就是说我们可以操作保存在变量中的实际的值。基本类型有以下几个特点：&lt;/span&gt;&lt;/section&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;基本类型的值是不可变得：   &lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;&lt;span&gt;    2.基本类型的比较是值的比较：&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;    3.基本类型的变量是存放在栈区的（栈区指内存里的栈内存）&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;引用类型&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;引用类型可以拥有属性和方法，属性又可以包含基本类型和引用类型。引用类型的有以下一些特性：&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;1.引用类型的值是可变的&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;2.引用类型的值是同时保存在栈内存和堆内存中的对象&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;3.引用类型的比较是引用的比较&lt;/span&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;判断一个对象是不是数组&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;方法1：&lt;/p&gt;&lt;p&gt;根据对象的class属性来判断&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;let&lt;/span&gt; obj = []&lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;Object&lt;/span&gt;.prototype.toString.call(obj) === &lt;span&gt;&#x27;[object Array]&#x27;&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;方法2：&lt;/p&gt;&lt;p&gt;&lt;span&gt;Array.isArray直接判断&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;let&lt;/span&gt; obj = []&lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;Array&lt;/span&gt;.isArray(obj))&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;js数组遍历都有哪些方法&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;这里列举12种，具体如下所示：&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;strong&gt;1.for循环&lt;/strong&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;for&lt;/span&gt;(i = &lt;span&gt;0&lt;/span&gt;,len=arr.length; i &amp;lt; len; i++) {   &lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2.foreach循环&lt;/strong&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;// 没有返回值,对原数组无影响&lt;/span&gt;&lt;br/&gt;arr.forEach(&lt;span&gt;(&lt;span&gt;item,index,array&lt;/span&gt;)=&amp;gt;&lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;//执行代码&lt;/span&gt;&lt;br/&gt;})&lt;br/&gt;&lt;span&gt;// 参数：value数组中的当前项, index当前项的索引, array原始数组；&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;3.map循环&lt;/strong&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;var&lt;/span&gt; ary = [&lt;span&gt;12&lt;/span&gt;,&lt;span&gt;23&lt;/span&gt;,&lt;span&gt;24&lt;/span&gt;,&lt;span&gt;42&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;]; &lt;br/&gt;&lt;span&gt;var&lt;/span&gt; res = ary.map(&lt;span&gt;&lt;span&gt;function&lt;/span&gt; (&lt;span&gt;item,index,ary &lt;/span&gt;) &lt;/span&gt;{ &lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; item*&lt;span&gt;10&lt;/span&gt;; &lt;br/&gt;}) &lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log(res);&lt;span&gt;//&lt;/span&gt;&lt;span&gt;--&amp;gt;[120,230,240,420,10];  原数组拷贝了一份，并进行了修改&lt;/span&gt;&lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log(ary);&lt;span&gt;//--&amp;gt;[12,23,24,42,1]；  原数组并未发生变化&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;4.forof遍历&lt;/strong&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;var&lt;/span&gt; value &lt;span&gt;of&lt;/span&gt; myArray) {&lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log(value);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;5.filter遍历&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;不会改变原始数组,返回新数组&lt;/section&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;var&lt;/span&gt; arr = [&lt;span&gt;73&lt;/span&gt;,&lt;span&gt;84&lt;/span&gt;,&lt;span&gt;56&lt;/span&gt;, &lt;span&gt;22&lt;/span&gt;,&lt;span&gt;100&lt;/span&gt;]&lt;br/&gt;&lt;span&gt;var&lt;/span&gt; newArr = arr.filter(&lt;span&gt;&lt;span&gt;item&lt;/span&gt; =&amp;gt;&lt;/span&gt; item&amp;gt;&lt;span&gt;80&lt;/span&gt;)   &lt;span&gt;//得到新数组 [84, 100]&lt;/span&gt;&lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log(newArr,arr)&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;6.every遍历&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;every()是对数组中的每一项运行给定函数，如果该函数对每一项返回true,则返回true。&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;var&lt;/span&gt; arr = [ &lt;span&gt;1&lt;/span&gt;, &lt;span&gt;2&lt;/span&gt;, &lt;span&gt;3&lt;/span&gt;, &lt;span&gt;4&lt;/span&gt;, &lt;span&gt;5&lt;/span&gt;, &lt;span&gt;6&lt;/span&gt; ]; &lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log( arr.every( &lt;span&gt;&lt;span&gt;function&lt;/span&gt;(&lt;span&gt; item, index, array &lt;/span&gt;)&lt;/span&gt;{ &lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; item &amp;gt; &lt;span&gt;3&lt;/span&gt;; &lt;br/&gt;    })); &lt;br/&gt;&lt;span&gt;// false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;7.some遍历&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;some()是对数组中每一项运行指定函数，如果该函数对任一项返回true，则返回true。&lt;/section&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;var&lt;/span&gt; arr = [ &lt;span&gt;1&lt;/span&gt;, &lt;span&gt;2&lt;/span&gt;, &lt;span&gt;3&lt;/span&gt;, &lt;span&gt;4&lt;/span&gt;, &lt;span&gt;5&lt;/span&gt;, &lt;span&gt;6&lt;/span&gt; ]; &lt;br/&gt;   &lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log( arr.some( &lt;span&gt;&lt;span&gt;function&lt;/span&gt;(&lt;span&gt; item, index, array &lt;/span&gt;)&lt;/span&gt;{ &lt;br/&gt;  &lt;span&gt;return&lt;/span&gt; item &amp;gt; &lt;span&gt;3&lt;/span&gt;; &lt;br/&gt;})); &lt;br/&gt;&lt;span&gt;// true&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;8.reduce&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;      reduce() 方法接收一个函数作为累加器（accumulator），数组中的每个值（从左到右）开始缩减，最终为一个值。&lt;/section&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;var&lt;/span&gt; total = [&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;,&lt;span&gt;4&lt;/span&gt;].reduce(&lt;span&gt;(&lt;span&gt;a, b&lt;/span&gt;)=&amp;gt;&lt;/span&gt;a + b); &lt;span&gt;//10&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;     reduce接受一个函数，函数有四个参数，分别是：上一次的值，当前值，当前值的索引，数组&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;[&lt;span&gt;0&lt;/span&gt;, &lt;span&gt;1&lt;/span&gt;, &lt;span&gt;2&lt;/span&gt;, &lt;span&gt;3&lt;/span&gt;, &lt;span&gt;4&lt;/span&gt;].reduce(&lt;span&gt;&lt;span&gt;function&lt;/span&gt;(&lt;span&gt;previousValue, currentValue, index, array&lt;/span&gt;)&lt;/span&gt;{&lt;br/&gt; &lt;span&gt;return&lt;/span&gt; previousValue + currentValue;&lt;br/&gt;});&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;9.reduceRight&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;reduceRight()&lt;/span&gt;&lt;span&gt;方法的功能和&lt;/span&gt;&lt;span&gt;reduce()&lt;/span&gt;&lt;span&gt;功能是一样的，不同的是&lt;/span&gt;&lt;span&gt;reduceRight()&lt;/span&gt;&lt;span&gt;从数组的末尾向前将数组中的数组项做累加。&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;reduceRight()&lt;/span&gt;&lt;span&gt;首次调用回调函数&lt;/span&gt;&lt;span&gt;callbackfn&lt;/span&gt;&lt;span&gt;时，&lt;/span&gt;&lt;span&gt;prevValue &lt;/span&gt;&lt;span&gt;和 &lt;/span&gt;&lt;span&gt;curValue &lt;/span&gt;&lt;span&gt;可以是两个值之一。如果调用 &lt;/span&gt;&lt;span&gt;reduceRight() &lt;/span&gt;&lt;span&gt;时提供了 &lt;/span&gt;&lt;span&gt;initialValue &lt;/span&gt;&lt;span&gt;参数，则 &lt;/span&gt;&lt;span&gt;prevValue &lt;/span&gt;&lt;span&gt;等于 &lt;/span&gt;&lt;span&gt;initialValue&lt;/span&gt;&lt;span&gt;，&lt;/span&gt;&lt;span&gt;curValue &lt;/span&gt;&lt;span&gt;等于数组中的最后一个值。如果没有提供 &lt;/span&gt;&lt;span&gt;initialValue &lt;/span&gt;&lt;span&gt;参数，则 &lt;/span&gt;&lt;span&gt;prevValue &lt;/span&gt;&lt;span&gt;等于数组最后一个值， &lt;/span&gt;&lt;span&gt;curValue &lt;/span&gt;&lt;span&gt;等于数组中倒数第二个值。&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;var&lt;/span&gt; arr = [&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;,&lt;span&gt;4&lt;/span&gt;];&lt;br/&gt; &lt;br/&gt;arr.reduceRight(&lt;span&gt;&lt;span&gt;function&lt;/span&gt; (&lt;span&gt;preValue,curValue,index,array&lt;/span&gt;) &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; preValue + curValue;&lt;br/&gt;}); &lt;span&gt;// 10&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;10.find&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;find()&lt;/span&gt;方法返回数组中符合测试函数条件的第一个元素。否则返回undefined。&lt;/section&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;var&lt;/span&gt; stu = [&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;name&lt;/span&gt;: &lt;span&gt;&#x27;张三&#x27;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;gender&lt;/span&gt;: &lt;span&gt;&#x27;男&#x27;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;age&lt;/span&gt;: &lt;span&gt;20&lt;/span&gt;&lt;br/&gt;    },&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;name&lt;/span&gt;: &lt;span&gt;&#x27;王小毛&#x27;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;gender&lt;/span&gt;: &lt;span&gt;&#x27;男&#x27;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;age&lt;/span&gt;: &lt;span&gt;20&lt;/span&gt;&lt;br/&gt;    },&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;name&lt;/span&gt;: &lt;span&gt;&#x27;李四&#x27;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;gender&lt;/span&gt;: &lt;span&gt;&#x27;男&#x27;&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;age&lt;/span&gt;: &lt;span&gt;20&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;]&lt;br/&gt;stu.find(&lt;span&gt;(&lt;span&gt;element&lt;/span&gt;) =&amp;gt;&lt;/span&gt; (element.name == &lt;span&gt;&#x27;李四&#x27;&lt;/span&gt;))&lt;br/&gt;&lt;span&gt;&lt;span&gt;//返回结果为&lt;/span&gt;&lt;br/&gt;&lt;span&gt;//{name: &quot;李四&quot;, gender: &quot;男&quot;, age: 20}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;11.findIndex&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;对于数组中的每个元素，&lt;/span&gt;&lt;span&gt;findIndex &lt;/span&gt;&lt;span&gt;方法都会调用一次回调函数（采用升序索引顺序），直到有元素返回 &lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;。只要有一个元素返回 &lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;，&lt;/span&gt;&lt;span&gt;findIndex &lt;/span&gt;&lt;span&gt;立即返回该返回 &lt;/span&gt;&lt;span&gt;true &lt;/span&gt;&lt;span&gt;的元素的索引值。如果数组中没有任何元素返回 &lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt;，则 &lt;/span&gt;&lt;span&gt;findIndex&lt;/span&gt;&lt;span&gt; 返回 -1。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;findIndex &lt;/span&gt;&lt;span&gt;不会改变数组对象。&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;[&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;].findIndex(&lt;span&gt;&lt;span&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; x == &lt;span&gt;4&lt;/span&gt;);&lt;br/&gt;&lt;span&gt;// Returns an index value of -1.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;12.keys，values，entries&lt;/strong&gt;&lt;/p&gt;&lt;p&gt; &lt;span&gt;ES6 提供三个新的方法 —— entries()，keys()和values() —— 用于遍历数组。它们都返回一个遍历器对象，可以用for...of循环进行遍历，唯一的区别是keys()是对键名的遍历、values()是对键值的遍历，entries()是对键值对的遍历&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;let&lt;/span&gt; index &lt;span&gt;of&lt;/span&gt; [&lt;span&gt;&#x27;a&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;b&#x27;&lt;/span&gt;].keys()) {&lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log(index);&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;&lt;span&gt;// 0&lt;/span&gt;&lt;br/&gt;&lt;span&gt;// 1&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;let&lt;/span&gt; elem &lt;span&gt;of&lt;/span&gt; [&lt;span&gt;&#x27;a&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;b&#x27;&lt;/span&gt;].values()) {&lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log(elem);&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;&lt;span&gt;// &#x27;a&#x27;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;// &#x27;b&#x27;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;let&lt;/span&gt; [index, elem] &lt;span&gt;of&lt;/span&gt; [&lt;span&gt;&#x27;a&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;b&#x27;&lt;/span&gt;].entries()) {&lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log(index, elem);&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;&lt;span&gt;// 0 &quot;a&quot;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;// 1 &quot;b&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;Js事件循环机制&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;Event Loop 包含两类：&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;1. 一类是基于 Browsing Context ，&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2. 一种是基于 Worker &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;二者是独立运行的。 &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;JavaScript 是一门单线程语言，异步操作都是放到事件循环队列里面，等待主执行栈来执行的，并没有专门的异步执行线程。&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;任务队列&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;任务可以分为同步任务和异步任务，同步任务，顾名思义，就是立即执行的任务，同步任务一般会直接进入到主线程中执行；&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;而异步任务，就是异步执行的任务，比如ajax网络请求，setTimeout 定时函数等都属于异步任务，异步任务会通过任务队列( Event Queue )的机制来进行协调。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;在事件循环中，每进行一次循环操作称为tick，通过阅读规范可知，每一次 tick 的任务处理模型是比较复杂的，其关键的步骤可以总结如下：&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;在此次 tick 中选择最先进入队列的任务( oldest task )，如果有则执行(一次)&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;检查是否存在 Microtasks ，如果存在则不停地执行，直至清空Microtask Queue&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;更新 render&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;主线程重复执行上述步骤&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;深浅拷⻉贝区别&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;strong&gt;浅拷贝(Shallow Copy)：&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;仅拷贝对象的非对象属性(基本类型属性)、不可变对象属性，但是不拷贝对象的对象属性(不含不可变对象) ，即为浅拷贝。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;    以下这些函数得到的都是浅拷贝：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;Object.assign&lt;/span&gt;、&lt;span&gt;Array.prototype.slice()&lt;/span&gt;、&lt;span&gt;Array.prototype.concat()&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;深拷贝(Deep Copy)：&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;对基本数据类型进行值传递，对引用数据类型，创建一个新的对象，并复制其内容，此为深拷贝。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;简单理解：&lt;span&gt;深拷贝会拷贝所有的属性。深拷贝前后两个对象互不影响。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;JSON.parse(JSON.stringify())&lt;/span&gt;、&lt;span&gt;手写递归函数&lt;/span&gt;、&lt;span&gt;函数库lodash&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;箭头函数特点&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;1. 省略function换成=&amp;gt; 一个参数的时候()可以省略 一个return的时候{}可以省略&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;2. 不绑定this，其中的this指向函数定义位置的上下文this&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;3. 内部不存在arguments和new.target，使用的都是外部的&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;4. 没有原型，占用内存空间小&lt;/span&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;Js垃圾回收方法&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;Javascript具有自动垃圾回收机制(&lt;strong&gt;GC&lt;/strong&gt;:Garbage Collecation)。&lt;/section&gt;&lt;section&gt;&lt;strong&gt;原理：&lt;/strong&gt;垃圾收集器会定期（周期性）找出那些不在继续使用的变量，然后释放其内存。&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;（1）标记清除法&lt;/span&gt;&lt;/p&gt;&lt;section&gt;    在函数声明一个变量的时候，就将这个变量标记为“进入环境”。&lt;/section&gt;&lt;section&gt;（2）引用计数法&lt;/section&gt;&lt;section&gt; 引用计数的含义是跟踪记录每个值被引用的次数。当这个值的引用次数变成0时，就可以将其占用的内存空间回收回来。&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;Vuex更新流程&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;vuex的工作流程就是：&lt;/p&gt;&lt;p&gt;&lt;span&gt;（1）通过dispatch去提交一个actions，&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;（2）actions接收到这个事件之后，在actions中可以执行一些异步|同步操作，根据不同的情况去分发给不同的mutations，&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;（3）actions通过commit去触发mutations，&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;（4）mutations去更新state数据，state更新之后，就会通知vue进行渲染&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;拓展：&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;不能在mutations执行异步操作&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Vuex中所有的状态更新的唯一途径都是&lt;span&gt;mutation&lt;/span&gt;，异步操作通过 Action 来提交 mutation实现，这样使得我们可以方便地跟踪每一个状态的变化，从而让我们能够实现一些工具帮助我们更好地了解我们的应用。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;每个mutation执行完成后都会对应到一个新的状态变更，这样devtools就可以打个快照存下来，然后就可以实现 &lt;span&gt;time-travel&lt;/span&gt; 了。如果mutation支持异步操作，就没有办法知道状态是何时更新的，无法很好的进行状态的追踪，给调试带来困难。&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;vue keep-alive组件有什么用&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;用于保留组件状态或避免重新渲染（缓存的作用）&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;两个属性&lt;/span&gt;&lt;span&gt;include&lt;/span&gt;&lt;span&gt;与&lt;/span&gt;&lt;span&gt;exclude&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;二者都可以用逗号分割字符串、正则表达式或者一个数组。&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;!-- 逗号分隔字符串 --&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;keep-alive&lt;/span&gt; &lt;span&gt;include&lt;/span&gt;=&lt;span&gt;&quot;a,b&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;component&lt;/span&gt; &lt;span&gt;:is&lt;/span&gt;=&lt;span&gt;&quot;view&quot;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span&gt;component&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;keep-alive&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;!-- 正则表达式 (使用 &lt;span&gt;`v-bind`&lt;/span&gt;) --&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;keep-alive&lt;/span&gt; &lt;span&gt;:include&lt;/span&gt;=&lt;span&gt;&quot;/a|b/&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;component&lt;/span&gt; &lt;span&gt;:is&lt;/span&gt;=&lt;span&gt;&quot;view&quot;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span&gt;component&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;keep-alive&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;!-- 数组 (使用 &lt;span&gt;`v-bind`&lt;/span&gt;) --&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;keep-alive&lt;/span&gt; &lt;span&gt;:include&lt;/span&gt;=&lt;span&gt;&quot;[&#x27;a&#x27;, &#x27;b&#x27;]&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;component&lt;/span&gt; &lt;span&gt;:is&lt;/span&gt;=&lt;span&gt;&quot;view&quot;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span&gt;component&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;keep-alive&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;如何监听一个变量的变化 长度 index&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;defineProperty&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;var&lt;/span&gt; a = { &lt;span&gt;watchValue&lt;/span&gt;:&lt;span&gt;0&lt;/span&gt; };&lt;br/&gt;&lt;span&gt;var&lt;/span&gt; lastTimeValue=a.watchValue;&lt;br/&gt;&lt;span&gt;Object&lt;/span&gt;.defineProperty(a, &lt;span&gt;&#x27;watchValue&#x27;&lt;/span&gt;, {&lt;br/&gt;  &lt;span&gt;get&lt;/span&gt;: &lt;span&gt;&lt;span&gt;function&lt;/span&gt;() &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;&#x27;get：&#x27;&lt;/span&gt; + watchValue);&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; watchValue;&lt;br/&gt;  },&lt;br/&gt;  &lt;span&gt;set&lt;/span&gt;: &lt;span&gt;&lt;span&gt;function&lt;/span&gt;(&lt;span&gt;value&lt;/span&gt;) &lt;/span&gt;{&lt;br/&gt;    watchValue = value;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt;(lastTimeValue!=watchValue){&lt;br/&gt;        lastTimeValue=watchValue;&lt;br/&gt;        &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;&#x27;value changed!! set: &#x27;&lt;/span&gt; + watchValue);&lt;br/&gt;    }&lt;br/&gt;  }&lt;br/&gt;});&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;proxy&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;var&lt;/span&gt; observe1 = &lt;span&gt;(&lt;span&gt;object, onChange&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {&lt;br/&gt;  &lt;span&gt;const&lt;/span&gt; handler = {&lt;br/&gt;    &lt;span&gt;get&lt;/span&gt;(target, property, receiver) {&lt;br/&gt;      &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;Proxy&lt;/span&gt;(target[property], handler);&lt;br/&gt;      } &lt;span&gt;catch&lt;/span&gt; (err) {&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;Reflect&lt;/span&gt;.get(target, property, receiver);&lt;br/&gt;      }&lt;br/&gt;    },&lt;br/&gt;    &lt;span&gt;set&lt;/span&gt;(target, key, value, receiver) {&lt;br/&gt;      onChange(value);&lt;br/&gt;      &lt;span&gt;return&lt;/span&gt; &lt;span&gt;Reflect&lt;/span&gt;.set(target, key, value, receiver);&lt;br/&gt;    }&lt;br/&gt;  };&lt;br/&gt;  &lt;span&gt;return&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;Proxy&lt;/span&gt;(object, handler);&lt;br/&gt;};&lt;br/&gt;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt; obj = {&lt;br/&gt;  &lt;span&gt;foo&lt;/span&gt;: &lt;span&gt;false&lt;/span&gt;,&lt;br/&gt;  &lt;span&gt;a&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;x&lt;/span&gt;:{&lt;span&gt;y&lt;/span&gt;: &lt;span&gt;4&lt;/span&gt;},&lt;br/&gt;    &lt;span&gt;b&lt;/span&gt;:[{&lt;span&gt;c&lt;/span&gt;: &lt;span&gt;false&lt;/span&gt;}]&lt;br/&gt;  }&lt;br/&gt;};&lt;br/&gt;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt; watchedObj = observe1(obj,(val)=&amp;gt;{&lt;br/&gt;  &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;`哈哈哈，监听到值变化为&lt;span&gt;${val}&lt;/span&gt;了`&lt;/span&gt;);&lt;br/&gt;});&lt;br/&gt;watchedObj.foo = &lt;span&gt;true&lt;/span&gt;; &lt;br/&gt;watchedObj.a.x.y = &lt;span&gt;5&lt;/span&gt;; &lt;span&gt;// 监听到值变化为5了&lt;/span&gt;&lt;br/&gt;watchedObj.a.b[&lt;span&gt;0&lt;/span&gt;].c = &lt;span&gt;true&lt;/span&gt;;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;webpack lorder / plugin&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;webpack是一个模块打包器（module bundler），提供了一个核心，核心提供了很多开箱即用的功能，同时它可以用loader和plugin来扩展。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;loader的使用方式&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1：在配置文件webpack.config.js中配置&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;module&lt;/span&gt;.exports = {&lt;br/&gt;  &lt;span&gt;module&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;rules&lt;/span&gt;: [&lt;br/&gt;      {&lt;br/&gt;        &lt;span&gt;test&lt;/span&gt;: &lt;span&gt;/\.txt$/&lt;/span&gt;,&lt;br/&gt;        &lt;span&gt;use&lt;/span&gt;: &lt;span&gt;&#x27;raw-loader&#x27;&lt;/span&gt;&lt;br/&gt;      }&lt;br/&gt;    ]&lt;br/&gt;  }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;2：通过命令行参数方式&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;webpack --module-bind &lt;span&gt;&#x27;txt=raw-loader&#x27;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;3：通过内联使用&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;import txt from &lt;span&gt;&#x27;raw-loader!./file.txt&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;webpack常用的loader&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;样式：style-loader、css-loader、less-loader、sass-loader等&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;文件：raw-loader、file-loader 、url-loader等&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;编译：babel-loader、coffee-loader 、ts-loader等&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;校验测试：mocha-loader、jshint-loader 、eslint-loader等&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;比如下面配置，可以匹配.scss的文件，分别经过sass-loader、css-loader、style-loader的处理。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;sass-loader&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;转化sass为css文件，并且包一层module.exports成为一个js module。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;style-loader&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;将创建一个style标签将css文件嵌入到html中。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;css-loader&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;则处理其中的@import和url()。&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;module&lt;/span&gt;.exports = {&lt;br/&gt;  &lt;span&gt;module&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;rules&lt;/span&gt;: [&lt;br/&gt;        {&lt;br/&gt;          &lt;span&gt;test&lt;/span&gt;: &lt;span&gt;/\.scss$/&lt;/span&gt;,&lt;br/&gt;          &lt;span&gt;use&lt;/span&gt;:[&lt;br/&gt;              {&lt;span&gt;loader&lt;/span&gt;:&lt;span&gt;&#x27;style-loader&#x27;&lt;/span&gt;},&lt;br/&gt;              {&lt;span&gt;loader&lt;/span&gt;:&lt;span&gt;&#x27;css-loader&#x27;&lt;/span&gt;,&lt;span&gt;options&lt;/span&gt;:{&lt;span&gt;sourceMap&lt;/span&gt;:&lt;span&gt;true&lt;/span&gt;,&lt;span&gt;modules&lt;/span&gt;:&lt;span&gt;true&lt;/span&gt;}},&lt;br/&gt;              {&lt;span&gt;loader&lt;/span&gt;:&lt;span&gt;&#x27;sass-loader&#x27;&lt;/span&gt;,&lt;span&gt;options&lt;/span&gt;:{&lt;span&gt;sourceMap&lt;/span&gt;:&lt;span&gt;true&lt;/span&gt;}}&lt;br/&gt;          ],&lt;br/&gt;          &lt;span&gt;exclude&lt;/span&gt;:&lt;span&gt;/node_modules/&lt;/span&gt;&lt;br/&gt;      }&lt;br/&gt;    ]&lt;br/&gt;  }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;webpack常用的plugin&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;首先webpack内置&lt;/span&gt;&lt;span&gt;UglifyJsPlugin&lt;/span&gt;&lt;span&gt;，压缩和混淆代码。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;webpack内置&lt;/span&gt;&lt;span&gt;CommonsChunkPlugin&lt;/span&gt;&lt;span&gt;，提高打包效率，将第三方库和业务代码分开打包。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ProvidePlugin&lt;/span&gt;&lt;span&gt;：自动加载模块，代替require和import&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;写一个webpack插件步骤如下：&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;1. 编写一个JavaScript命名函数。&lt;/p&gt;&lt;p&gt;2. 在它的原型上定义一个apply方法。&lt;/p&gt;&lt;p&gt;3. 指定挂载的webpack事件钩子。&lt;/p&gt;&lt;p&gt;4. 处理webpack内部实例的特定数据。&lt;/p&gt;&lt;p&gt;5. 功能完成后调用webpack提供的回调。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;编写插件之前要理解compiler和compilation两个对象，以及webpack生命周期的各个阶段和钩子，plugin比loader强大，通过plugin你可以访问compliler和compilation过程，通过钩子拦截webpack的执行。&lt;/span&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;package.json package.lock.json 区别&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;package.json&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;Node.js 项目遵循模块化的架构，当我们创建了一个 Node.js 项目，意味着创建了一个模块，这个模块的描述文件，被称为 package.json。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt; 属性说明&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;name &lt;/span&gt;&lt;span&gt;- 包名；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;version &lt;/span&gt;&lt;span&gt;- 包的版本号；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;description &lt;/span&gt;&lt;span&gt;- 包的描述；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;homepage &lt;/span&gt;&lt;span&gt;- 包的官网URL；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;author &lt;/span&gt;&lt;span&gt;- 包的作者，它的值是你在 https://npmjs.org 网站的有效账户名，遵循“账户名&amp;lt;邮件&amp;gt;”的规则，例如：zhangsan &amp;lt;zhangsan@163.com&amp;gt;；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;contributors &lt;/span&gt;&lt;span&gt;- 包的其他贡献者；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;dependencies / devDependencies&lt;/span&gt;&lt;span&gt; - 生产/开发环境依赖包列表。它们将会被安装在 node_module 目录下；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;repository &lt;/span&gt;&lt;span&gt;- 包代码的 Repo 信息，包括 type 和 URL，type 可以是 git 或 svn，URL 则是包的 Repo 地址；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;main &lt;/span&gt;&lt;span&gt;- main 字段指定了程序的主入口文件，这个字段的默认值是模块根目录下面的 index.js；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;keywords &lt;/span&gt;&lt;span&gt;- 关键字&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;devDependencies、dependencies、peerDependencies的区别&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;package.lock.json&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;当我们安装依赖时，package-lock.json 文件会自动生成。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;package-lock.json 文件中记录了下载源地址，可以加快我们的 npm install 速度。&lt;/span&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;怎么转化less为css&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;Less &lt;/span&gt;&lt;span&gt;是一门 CSS 预处理语言，它扩充了 CSS 语言，增加了诸如变量、混合（mixin）、函数等功能，让 CSS 更易维护、方便制作主题、扩充。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;webpack的配置如下：&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;module&lt;/span&gt;: {&lt;br/&gt;        &lt;span&gt;rules&lt;/span&gt;: [{&lt;br/&gt;            &lt;span&gt;test&lt;/span&gt;: &lt;span&gt;/\.less$/&lt;/span&gt;,&lt;br/&gt;            &lt;span&gt;use&lt;/span&gt;: [&lt;span&gt;&quot;style-loader&quot;&lt;/span&gt;, &lt;span&gt;&quot;css-loader&quot;&lt;/span&gt;, &lt;span&gt;&quot;less-loader&quot;&lt;/span&gt;]&lt;br/&gt;&lt;span&gt;//编译方向从右到左less-loader=&amp;gt;css-loader=&amp;gt;style-loader&lt;/span&gt;&lt;br/&gt;        }, {&lt;br/&gt;            &lt;span&gt;test&lt;/span&gt;: &lt;span&gt;/\.js$/&lt;/span&gt;,&lt;br/&gt;            &lt;span&gt;exclude&lt;/span&gt;: &lt;span&gt;/node_modules/&lt;/span&gt;,&lt;br/&gt;            &lt;span&gt;loader&lt;/span&gt;: &lt;span&gt;&#x27;babel-loader&#x27;&lt;/span&gt;,&lt;br/&gt;        }]&lt;br/&gt;    }&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;把样式文件less转为css并且单独提取出来（不放置在bundle.js中）&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt; ExtractTextPlugin = &lt;span&gt;require&lt;/span&gt;(&lt;span&gt;&#x27;extract-text-webpack-plugin&#x27;&lt;/span&gt;);&lt;br/&gt;&lt;span&gt;module&lt;/span&gt;.exports = {&lt;br/&gt; &lt;span&gt;plugins&lt;/span&gt;: [&lt;br/&gt;        &lt;span&gt;new&lt;/span&gt; ExtractTextPlugin(&lt;span&gt;&#x27;style.css&#x27;&lt;/span&gt;)&lt;br/&gt;     &lt;span&gt;   &lt;span&gt;//if you want to pass in options, you can do so:&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;//new ExtractTextPlugin({&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;//  filename: &#x27;style.css&#x27;&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;//})&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;    ]&lt;br/&gt;}&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;地址栏输入一个url到页面渲染过程&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1、HTTP 请求准备阶段&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2、HTTP 发送请求&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;浏览器向服务端发起http请求，把请求头和请求行一起发送个服务器，服务端解析请求头如发现cache-control和etag（if-none-match），if-modified（if-modified-since）字段就会判断缓存是否过期，如果没有返回304，否则返回200&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;3、HTTP 响应返回&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;content-type作用&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;Content-Type 实体头部用于指示资源的MIME类型 media type 。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;在响应中，Content-Type标头告诉客户端实际返回的内容的内容类型。浏览器会在某些情况下进行MIME查找，并不一定遵循此标题的值；为了防止这种行为，可以将标题 X-Content-Type-Options 设置为 nosniff。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;在请求中 (如POST 或 PUT)，客户端告诉服务器实际发送的数据类型。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Content-Type 的值类型：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;1.1 application/json：&lt;/span&gt;消息主体是序列化后的 JSON 字符串 &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;1.2 application/x-www-form-urlencoded：&lt;/span&gt;数据被编码为名称/值对。这是标准的编码格式 &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;1.3 multipart/form-data：&lt;/span&gt; 需要在表单中进行文件上传时，就需要使用该格式。常见的媒体格式是上传文件之时使用的 &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;1.4 text/plain：&lt;/span&gt;数据以纯文本形式(text/json/xml/html)进行编码，其中不含任何控件或格式字符&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;介绍知道的状态码，状态码301、302区别&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;状态码分为5类：&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;1**&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;信息，服务器收到请求，需要请求者继续执行操作&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;2**&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;成功，操作被成功接收并处理&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;3**&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;重定向，需要进一步的操作以完成请求&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;4**&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;客户端错误，请求包含语法错误或无法完成请求&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;5**&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;服务器错误，服务器在处理请求的过程中发生了错误&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;301：&lt;/strong&gt;（&lt;/span&gt;&lt;span&gt;永久移动&lt;/span&gt;&lt;span&gt;）请求的网页已被永久移动到新位置。服务器返回此响应（作为对GET或HEAD请求的响应）时，会自动将请求者转到新位置。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;302：&lt;/strong&gt;（&lt;/span&gt;&lt;span&gt;临时移动&lt;/span&gt;&lt;span&gt;）服务器目前正从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。此代码与响应GET和HEAD请求的301代码类似，会自动将请求者转到不同的位置。&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;HTTP状态码301与302的区别：&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1、它们之间关键区别在，资源是否存在有效性；&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2、301资源还在只是换了一个位置，返回的是新位置的内容；&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3、302资源暂时失效，返回的是一个临时的代替页上。&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;sessionstorage localstorage区别&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;1.生命周期&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;localStorage的生命周期是永久的，关闭页面或浏览器之后localStorage中的数据也不会消失。localStorage除非主动删除数据，否则数据永远不会消失。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;sessionStorage的生命周期是仅在当前会话下有效。sessionStorage引入了一个“浏览器窗口”的概念，sessionStorage是在同源的窗口中始终存在的数据。只要这个浏览器窗口没有关闭，即使刷新页面或者进入同源另一个页面，数据依然存在。但是sessionStorage在关闭了浏览器窗口后就会被销毁。同时独立的打开同一个窗口同一个页面，sessionStorage也是不一样的。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2.存储大小&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;localStorage和sessionStorage的存储数据大小一般都是：5MB&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;3.存储位置&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;localStorage和sessionStorage都保存在客户端，不与服务器进行交互通信&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;4.存储内容类型&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;localStorage和sessionStorage只能存储字符串类型，对于复杂的对象可以使用ECMAScript提供的JSON对象的stringify和parse来处理&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;5.获取方式&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;localStorage：window.localStorage&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;sessionStorage：window.sessionStorage&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;6.应用场景&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;localStorage：常用于长期登录（+判断用户是否已登录），适合长期保存在本地的数据&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;sessionStorage：敏感账号一次性登录&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;浏览器为啥第二次访问就快了&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;主要原因是这些网站把很多资源都缓存在了本地，浏览器缓存直接使用本地副本来回应请求，而不会产生真实的网络请求，从而节省了时间。同时，DNS 数据也被浏览器缓存了，这又省去了 DNS 查询环节。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;DNS 缓存和页面资源缓存这两块数据是会被浏览器缓存的。&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1）、DNS 缓存比较简单，它主要就是在浏览器本地把对应的 IP 和域名关联起来。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2）、重点看下浏览器资源缓存，下面是缓存处理的过程：&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;怎么减少页面加载时间&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;1、压缩css、js文件&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2、合并js、css文件，减少http请求&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3、外部js、css文件放在最底下&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4、减少dom操作，尽可能用变量替代不必要的dom操作&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;5、优化图像（格式选择、懒加载等等）&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;6、使用CDN&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;7、使用缓存&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;8、减少 http 请求（合并文件，合并图片）&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;9、标明高度和宽度&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;10、网址后加斜杠&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;11、优化TCP协议&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;遇到的棘手的问题,完成了什么工作&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;开放性题目，自由作答。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;三、最后&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;    这套题目，考到的知识点比较细，所以我们在平时学习的时候要多多去挖掘，&quot;蜻蜓点水 &quot;的背后是要深入。&lt;br/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;关注我，一起携手进阶&lt;/strong&gt;&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;Mzg3ODAyNDI0OQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/ic5A4V8PX4PmOXMQHa6L3OhPGOnf2BSZib7ibVcAj2j2FYkfFCWb2xmyfX63TYVlofunfD4QnB5vqELZqXfnQZMlA/0?wx_fmt=png&quot; data-nickname=&quot;前端早茶&quot; data-alias=&quot;ZeFeng_axios&quot; data-signature=&quot;专注前端，一起结伴同行，紧跟业界发展步伐~&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;欢迎关注&lt;span&gt;&lt;strong&gt;&lt;span&gt;前端早茶&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;，与广东靓仔携手共同进阶～&lt;/p&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>bb4edf9153cf448fbf163816897119c4</guid>
<title>PowerShell主架构师：我用业余时间开发项目，表现优秀反而被微软降级了</title>
<link>https://toutiao.io/k/z4g6o1z</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.15625&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/YriaiaJPb26VPQqHC66RJFpttVIMWG83T3lWHahUD4bvhxlKSayjeV2ibvC5ydqklP9QHDPD3qHJM07TV3IfHstjA/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;640&quot;/&gt;&lt;/p&gt;&lt;section&gt;作者 | 褚杏娟&lt;/section&gt;&lt;p&gt;经过两年多的时间，微软在 5 月 3 日宣布对用于 Visual Studio Code 的 PowerShell 扩展进行了一次重大更新，是对 PowerShell Editor Services 的核心 PowerShell 引擎的彻底改造。&lt;/p&gt;&lt;p&gt;巧的是，5 月 7 日，PowerShell 创建者 Jeffrey Snover 在推特上分享了他因为研发 PowerShell 而被微软降级事情的不满。&lt;/p&gt;&lt;section&gt;
&lt;span&gt;事情经过&lt;/span&gt;
&lt;/section&gt;&lt;p&gt;事情起源于投资者 Peter Thiel 对勇气的讨论：“勇气并不总是在商业中得到回报”，而 Jeffrey 则认为 “勇气是未来领导者和以前员工的一个关键特征”。他还断言，“许多人专注在让老板满意，而不是解决问题。”此外，他还说出了一个埋藏了十多年的秘密：&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;54&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;当我为 PowerShell 做原型时，一位朋友告诫我说这是会被解雇的事情。还好我没有被解雇，而是被微软降级了。&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7333333333333333&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/YriaiaJPb26VNyTpbHqMtSj6icdDsblddCKbCwFAQ49RqKqoEcNBwrEYPia4j70icxINnpBDrOk1QhZJMHwVQ3UVtIQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p&gt;“这真是令人尴尬。我不得不告诉我的妻子，但我没有告诉我的家人和朋友。十多年来，在我晋升为杰出工程师之前，我从未向任何人提起过这件事。” Jeffrey 表示。&lt;/p&gt;&lt;p&gt;Jeffrey 于 1999 年加入微软，担任管理和服务部门的架构师。2009 年 3 月，Jeffrey 获得了 “杰出工程师” 的称号，而其因研发 PowerShell 而被降级的事情大约发生在  2006 年之前。但事实上，在 2006 年 11 月 1.0 版完成后，Windows PowerShell 在半年内被下载近百万次。&lt;/p&gt;&lt;p&gt;Jeffrey 为什么要研发 PowerShell 呢？他在接受外媒采访时表示，作为一名长期 Unix 开发人员，他曾尝试直接使用 ksh 或 bash ，但都失败了。&lt;/p&gt;&lt;p&gt;“Unix 和 Windows 之间存在核心架构差异。Linux 是面向文件的操作系统，而 Windows 是面向 API 的操作系统。在 Linux 中，如果可以修改文件并运行进程，那么就可以管理任何事情。这就是 awk、sed 和 grep 作为管理工具的原因。当时，Windows 上没有这样的功能。一切都在返回结构化对象的 API 后面。这就是为什么 awk 不适用于 WMI，sed 不适用于 Active Directory，而 grep 不适用于注册表。我必须研发一种新工具来控制这种环境。”&lt;/p&gt;&lt;p&gt;微软对员工的业余时间研发有规定，禁止员工开发直接与现有 Microsoft 产品配套的产品。或许出于这个原因，Jeffrey 研发的 PowerShell 并没有受到微软欢迎。&lt;/p&gt;&lt;p&gt;据悉，当时他花费时间研发 PowerShell ，被微软从 L69 降级到 L68，微软甚至试图将他降级到 L67，并强烈暗示这是一次影响薪资的降级，以此作为警告。&lt;/p&gt;&lt;p&gt;“设计一个新产品的原型怎么会导致这么严重的负面后果？”有人问道。Jeffrey 并没有正面回应降级的原因，而是将微软和谷歌进行了对比：“微软并没有谷歌的 20 % 政策。”&lt;/p&gt;&lt;p&gt;谷歌的“20% 政策”是指，允许员工灵活地将 20% 的工作时间花在与薪酬无关的创新项目上。其余的 70% 的时间应该用于核心业务任务，10% 的时间用于与核心业务无关的项目。&lt;/p&gt;&lt;section&gt;&lt;p&gt;“Jeffrey 在微软确实吃了不少苦头……”多年前就有网友感叹道。“我只是不擅长遵循指示。”Jeffrey 曾说道。“组织 / 领导者面临的挑战之一是，创新在成功前只是叛逆。这就是为什么主管对我大喊：“Jeffrey ，‘WINDOWS’的哪个部分让你困惑了?”Jeffrey 在推特上写道。&lt;/p&gt;&lt;/section&gt;&lt;p&gt;Jeffrey 在推特上也坦诚：“我曾考虑将 PowerShell 作为一家初创公司，但意识到要成功需要在成千上万台机器上运行。在 Windows 中发布意味着我的想法将被超过 10 亿台机器使用。我接受了这个事实，影响力比自我更重要。”&lt;/p&gt;&lt;section&gt;
&lt;span&gt;微软的改变&lt;/span&gt;
&lt;/section&gt;&lt;p&gt;90 年代到 00 年代初期，微软有严格的禁止兼职政策。2011 年时，Windows Phone 7 团队开始鼓励员工在业余时间开发自己的项目。这在一定程度上推动了微软政策的变化。&lt;/p&gt;&lt;p&gt;“微软一直在碰壁，为 Windows 制造越来越多的花里胡哨，但没有人需要。”斯隆商学院管理与工程系统教授 Michael A. Cusumano 曾评价道，像微软这样的公司需要定期进行自我改造。&lt;/p&gt;&lt;p&gt;“我们往往有严格的兼职规定，”开发者体验总监 Brandon Watson 谈到该公司时说道，“但我们已经改变了这些规则，这样开发者就可以在业余时间做这件事，并获得经济利益和工作成果。”&lt;/p&gt;&lt;p&gt;根据 Watson 的说法，该公司提供的是应用销售的标准分成：70% 给开发者，30% 给微软。&lt;/p&gt;&lt;p&gt;当年，这项激励措施发布后很快就有 3000 多名员工注册提交了应用程序。其中微软的一对新婚夫妇编写了 Bubblegum 应用程序，他们分别是微软云计算平台项目经理 Sriram Krishnan 和 Xbox 团队项目经理 ararthi Ramamurthy。&lt;/p&gt;&lt;p&gt;根据 Krishnan 的说法，应用程序的研发工作都是在业余时间完成的。“我们在夏威夷度蜜月时开始着手研发。”&lt;/p&gt;&lt;p&gt;哈佛商学院投资银行教授 Josh Lerner 表示，微软不仅是在奖励人们在业余时间所做的事情，还是在利用这种能量实现公司的目标，来追赶上移动市场。&lt;/p&gt;&lt;section&gt;
&lt;span&gt;员工与企业博弈&lt;/span&gt;
&lt;/section&gt;&lt;p&gt;如今，员工在业余时间做自己的开发已经被众多企业接受，甚至鼓励员工业余时间做研发。后来也引发了大家关于“业余时间不写代码的程序员永远不会像那些写代码的人那样优秀”的讨论，业余时间是否写代码甚至成为面试官衡量候选人的标准之一。&lt;/p&gt;&lt;p&gt;但开发者们也开始面临新问题：业余时间研发成果归个人还是公司呢？&lt;/p&gt;&lt;p&gt;在微软，员工业余时间的任何东西，只要 100% 使用的是自己的资源，那么项目就属于员工个人。&lt;/p&gt;&lt;p&gt;谷歌在劳动合同中明确规定，谷歌拥有雇员在公司期间所创造项目的知识产权，这一规定也适用于雇员的个人项目，以及旧项目在任职期间的新开发工作。开发者对这项规定也颇有微词。直到 2019 年，Nginx 创始人 Igor Sysoev 被捕，谷歌的政策才有所宽松。&lt;/p&gt;&lt;p&gt;2019 年， Nginx 创始人 Igor Sysoev 的前东家 Rambler 集团对 NGINX Inc. 提出了侵犯版权的诉讼，声称拥有 Nginx 网络服务器代码的全部所有权。莫斯科警方查封了 Nginx 在莫斯科的总部，扣押了设备、带走并讯问了多位雇员，包括联合创始人兼现任首席技术官 Igor Sysoev，以及联合创始人 Maxim Konovalov。&lt;/p&gt;&lt;p&gt;这次的事件中，最大的争议在于 Rambler 声称 Igor Sysoev 在担任公司系统管理员时开发了 Nginx，因此 Rambler 拥有 Nginx 技术的所有权。而 Sysoev 声称项目是用“业余时间”进行开发的。&lt;/p&gt;&lt;p&gt;这件事发生后迅速引起了整个科技圈的关注。最终，由于 Rambler 扛不住业界舆论，声称撤销对 Nginx 公司的刑事案件而完结。&lt;/p&gt;&lt;p&gt;这件事后，谷歌发布新的规定称，公司雇员可以向公司递交申请让个人项目脱离谷歌，但谷歌未必会批准每一个申请。一旦未被批准，就意味着该项目属于公司所有。不过根据谷歌员工的说法，未被批准的项目不在少数。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;参考链接：&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;https://www.theregister.com/2022/05/10/jeffrey_snover_said_microsoft_demoted/&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;https://www.mercurynews.com/2011/03/04/moonlighting-within-microsoft-in-pursuit-of-new-apps/&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;今日好文推荐&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5MDE0Mjc4MA==&amp;amp;mid=2651114915&amp;amp;idx=1&amp;amp;sn=4311c1fa7d6c5fa290265a29aa66bcbf&amp;amp;chksm=bdb935f08acebce6db6cd0c334d85aebdeb1c66b48b48e56b7b944273e9b85537e0e3218d15d&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;百度某离职员工跳槽字节被判赔107万元；苹果谷歌微软拟“干掉”密码；传吉利已收购魅族｜Q资讯&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot; hasload=&quot;1&quot;&gt;百度某离职员工跳槽字节被判赔107万元；苹果谷歌微软拟“干掉”密码；传吉利已收购魅族｜Q资讯&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5MDE0Mjc4MA==&amp;amp;mid=2651114831&amp;amp;idx=1&amp;amp;sn=def8a7442b4584b3ab18e3e38ec53220&amp;amp;chksm=bdb9351c8acebc0a17f3a0bf7806e2ac7fad3a9955833348e46164bf0ed859aedf9e7ce36f66&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;我的 JavaScript 比你的 Rust 更快&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot; hasload=&quot;1&quot;&gt;我的 JavaScript 比你的 Rust 更快&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5MDE0Mjc4MA==&amp;amp;mid=2651114739&amp;amp;idx=1&amp;amp;sn=ad76583c7e891c79358302296132b9e9&amp;amp;chksm=bdb934a08acebdb6c44e128b4bbe5679cdb958fde03a249ab771903bbf93d72708de92429b1e&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;IT老兵聊如何成为Sun公司第8号员工，网友：怀念那个“从无到有”的技术年代&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot; hasload=&quot;1&quot;&gt;IT老兵聊如何成为Sun公司第8号员工，网友：怀念那个“从无到有”的技术年代&lt;/a&gt;&lt;/p&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5MDE0Mjc4MA==&amp;amp;mid=2651114739&amp;amp;idx=1&amp;amp;sn=ad76583c7e891c79358302296132b9e9&amp;amp;chksm=bdb934a08acebdb6c44e128b4bbe5679cdb958fde03a249ab771903bbf93d72708de92429b1e&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;中国软件，从繁荣走向文明&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot; hasload=&quot;1&quot;&gt;中国软件，从繁荣走向文明&lt;/a&gt;&lt;/section&gt;&lt;hr/&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>4d41e78352de4e4a68494a455e05b028</guid>
<title>用 Vue3 开发高复用、低耦合的管理后台的列表页</title>
<link>https://toutiao.io/k/9tyb2f1</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;常见的管理后台系统的有 3 个特点：&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;页面数量多。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;相似页面多。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;页面业务复杂。&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;问题及解决方案&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;开发管理后台的相似的复杂页面，如果采用复制粘贴的方式，会出现大量的重复代码。每次改动重复的部分，都会产出巨大的工作量。以下面两个场景为例：&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;场景1: 给所有列表页的搜索条件加重置功能&lt;br/&gt;如果 100 个列表页，则要加 100 个地方。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;场景2: 第三方下拉框组件升级&lt;br/&gt;下拉框是用第三方组件。新的需求要升级下拉框组件。新版本的组件的 API 变了。要把所有组件都改一遍。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;场景1 是重复代码多导致的的问题。可以通过提升代码复用性来解决。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;场景2 是对第三方的耦合导致的。可以通过解耦来解决。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;针对相似页面，用高复用、低耦合的方式来写，能极大的提升开发效率。本文用列表页为例，来构建高复用、低耦合的代码。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;功能介绍&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;列表页包含如下功能。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;筛选条件，表格和分页&lt;span/&gt;&lt;/h3&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.617208077260755&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mEakJnD74m8F8Ol2yIy3dnia3SlNEaqAPiavYhdWXJUdryhibLE7vdYaZqN91OrP5wpWlB7wufReDfmERJl58BZlA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2278&quot;/&gt;&lt;/figure&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;新增，编辑，查看&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;新增&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.131578947368421&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mEakJnD74m8F8Ol2yIy3dnia3SlNEaqAP3ia377DJVKtVibd0U5KaahSibynwc5icgspicYib7wq1ictmBCj6CWouTTJvw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1444&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;编辑&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.1331484049930651&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mEakJnD74m8F8Ol2yIy3dnia3SlNEaqAPy8d6SLAJL9UcnV7cSdbYDx5EDAUicOljeAtMxPywbURdDUYShvMGyOw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1442&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;查看&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.1186903137789905&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mEakJnD74m8F8Ol2yIy3dnia3SlNEaqAPv5mWrvkiajtgnVzfK6iaGSPibIln9475jw2ATbJzlH1WLvmz9yL1sOg2Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1466&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;功能实现&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;列表页的架构如下：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.735632183908046&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mEakJnD74m8F8Ol2yIy3dnia3SlNEaqAP8QVXDQLib9xLZ61j2jVHZicjGoITHP9lJiaIJJuQ2Z0m5Ull3Iyla5mcg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1218&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;高复用代码的关键是单一职责。单一职责的关键是划分代码的职责。上面的架构图中划分了不同代码的职责。其中的防腐层是为了降低与第三方组件的耦合。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;下面，从下往上介绍列表页各层的实现。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;底层&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;底层是具体业务逻辑无关的。列表页的底层包含：&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;UI 组件。本项目用的组件库是 &lt;span&gt;acro.design&lt;/span&gt;&lt;sup&gt;[1]&lt;/sup&gt;。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;工具。本项目用的工具库包含：路由库：&lt;span&gt;Vue Router&lt;/span&gt;&lt;sup&gt;[2]&lt;/sup&gt;，接口调用库：&lt;span&gt;Axios&lt;/span&gt;&lt;sup&gt;[3]&lt;/sup&gt;，Mock 接口数据：&lt;span&gt;Mock.js&lt;/span&gt;&lt;sup&gt;[4]&lt;/sup&gt;。&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;防腐层&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;防腐层用来降低对底层的耦合。上层代码调用防腐层的代码，防腐层调用底部代码。当底层代码的调用发生变化后，只需改防腐层的代码，无需改上层代码。当然，加防腐层的代价是增加了代码的复杂度。因此，只对调用地方多的底层代码加防腐层。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;列表页对 UI 组件 和 接口调用库加了防腐层。下面具体来说。&lt;/p&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;只传属性组件&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;输入框等只传属性组件，靠 &lt;code&gt;v-bind&lt;/code&gt; 传所有接收到的属性。具体处理如下：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&amp;lt;script setup lang=&lt;span&gt;&quot;ts&quot;&lt;/span&gt;&amp;gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt; props = defineProps&amp;lt;{&lt;br/&gt;  [key: string]: any,&lt;br/&gt;}&amp;gt;()&lt;br/&gt;&amp;lt;&lt;span&gt;/script&amp;gt;&lt;br/&gt;&lt;br/&gt;&amp;lt;template&amp;gt;&lt;br/&gt;  &amp;lt;a-input v-bind=&quot;props&quot; /&lt;/span&gt;&amp;gt;&lt;br/&gt;&amp;lt;&lt;span&gt;/template&amp;gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;设置属性默认值。比如，期望按钮组件的默认的 &lt;code&gt;type&lt;/code&gt; 属性是 &lt;code&gt;primary&lt;/code&gt;。这么写：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt; props = withDefaults(defineProps&amp;lt;{&lt;br/&gt;  type?: string,&lt;br/&gt;  [key: string]: any,&lt;br/&gt;}&amp;gt;(), {&lt;br/&gt;  &lt;span&gt;type&lt;/span&gt;: &lt;span&gt;&#x27;primary&#x27;&lt;/span&gt;&lt;br/&gt;})&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;带插槽的组件&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;按钮组件等带插槽的组件。处理如下：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&amp;lt;script setup lang=&lt;span&gt;&quot;ts&quot;&lt;/span&gt;&amp;gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt; props = withDefaults(defineProps&amp;lt;{&lt;br/&gt;  type?: string,&lt;br/&gt;  [key: string]: any,&lt;br/&gt;}&amp;gt;(), {&lt;br/&gt;  &lt;span&gt;type&lt;/span&gt;: &lt;span&gt;&#x27;primary&#x27;&lt;/span&gt;&lt;br/&gt;})&lt;br/&gt;&amp;lt;&lt;span&gt;/script&amp;gt;&lt;br/&gt;&lt;br/&gt;&amp;lt;template&amp;gt;&lt;br/&gt;  &amp;lt;a-button v-bind=&quot;props as any&quot;&amp;gt;&lt;br/&gt;    &amp;lt;slot /&lt;/span&gt;&amp;gt;&lt;br/&gt;  &amp;lt;&lt;span&gt;/a-button&amp;gt;&lt;br/&gt;&amp;lt;/&lt;/span&gt;template&amp;gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;多个插槽的，写法也类似：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&amp;lt;script setup lang=&lt;span&gt;&quot;ts&quot;&lt;/span&gt;&amp;gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt; props = defineProps&amp;lt;{&lt;br/&gt;  [key: string]: any,&lt;br/&gt;}&amp;gt;()&lt;br/&gt;&amp;lt;&lt;span&gt;/script&amp;gt;&lt;br/&gt;&lt;br/&gt;&amp;lt;template&amp;gt;&lt;br/&gt;  &amp;lt;a-sub-menu v-bind=&quot;props&quot;&amp;gt;&lt;br/&gt;    &amp;lt;template #icon&amp;gt;&amp;lt;slot name=&quot;icon&quot; /&lt;/span&gt;&amp;gt;&amp;lt;&lt;span&gt;/template&amp;gt;&lt;br/&gt;    &amp;lt;template #title&amp;gt;&amp;lt;slot name=&quot;title&quot; /&lt;/span&gt;&amp;gt;&amp;lt;&lt;span&gt;/template&amp;gt;&lt;br/&gt;    &amp;lt;slot /&lt;/span&gt;&amp;gt;&lt;br/&gt;  &amp;lt;&lt;span&gt;/a-sub-menu&amp;gt;&lt;br/&gt;&amp;lt;/&lt;/span&gt;template&amp;gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;要调用实例的方法的组件&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;提交表单前，要主动调用表单组件的表单验证等实例方法，需要将组件的 &lt;code&gt;ref&lt;/code&gt; 暴露出去。处理如下：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&amp;lt;script setup lang=&lt;span&gt;&quot;ts&quot;&lt;/span&gt;&amp;gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; { ref } &lt;span&gt;from&lt;/span&gt; &lt;span&gt;&#x27;vue&#x27;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt; props = defineProps&amp;lt;{&lt;br/&gt;  [key: string]: any,&lt;br/&gt;}&amp;gt;()&lt;br/&gt;&lt;span&gt;const&lt;/span&gt; vmRef = ref(&lt;span&gt;null&lt;/span&gt;)&lt;br/&gt;&lt;br/&gt;defineExpose({&lt;br/&gt;  &lt;span&gt;form&lt;/span&gt;: vmRef&lt;br/&gt;})&lt;br/&gt;&amp;lt;&lt;span&gt;/script&amp;gt;&lt;br/&gt;&lt;br/&gt;&amp;lt;template&amp;gt;&lt;br/&gt;  &amp;lt;a-form v-bind=&quot;props&quot; ref=&quot;vmRef&quot;&amp;gt;&lt;br/&gt;    &amp;lt;slot /&lt;/span&gt;&amp;gt;&lt;br/&gt;  &amp;lt;&lt;span&gt;/a-form&amp;gt;&lt;br/&gt;&amp;lt;/&lt;/span&gt;template&amp;gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;想直接把 &lt;code&gt;vmRef&lt;/code&gt; 实例上的属性和方法直接暴露出来，但没有成功。尝试如下：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;defineExpose({&lt;br/&gt;  ...vmRef&lt;br/&gt;})&lt;br/&gt;&lt;br/&gt;&lt;span&gt;// 或 &lt;/span&gt;&lt;br/&gt;defineExpose({&lt;br/&gt;  ...unref(vmRef)&lt;br/&gt;})&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;对接口调用库的处理&lt;span/&gt;&lt;/h4&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt; axios &lt;span&gt;from&lt;/span&gt; &lt;span&gt;&#x27;axios&#x27;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; { API_PREFIX } &lt;span&gt;from&lt;/span&gt; &lt;span&gt;&#x27;@/config&#x27;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt; http = axios.create({&lt;br/&gt;  &lt;span&gt;baseURL&lt;/span&gt;: API_PREFIX&lt;br/&gt;})&lt;br/&gt;&lt;span&gt;export&lt;/span&gt; &lt;span&gt;default&lt;/span&gt; http&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;数据层&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;API 地址的配置：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;export&lt;/span&gt; &lt;span&gt;const&lt;/span&gt; API_PREFIX = &lt;span&gt;&#x27;/api&#x27;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;接口调用：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt; http &lt;span&gt;from&lt;/span&gt; &lt;span&gt;&#x27;@/utils/http&#x27;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; type { sortType } &lt;span&gt;from&lt;/span&gt; &lt;span&gt;&#x27;@/define/list.d&#x27;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; &lt;span&gt;&#x27;./staff.mock&#x27;&lt;/span&gt; &lt;span&gt;// mock接口数据&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt; &lt;span&gt;const&lt;/span&gt; fetchList = &lt;span&gt;(&lt;span&gt;current: number, searchQuery: Record&amp;lt;string, any&amp;gt;, sortParams?: {key: string, value: sortType}&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {&lt;br/&gt;  &lt;span&gt;return&lt;/span&gt; http.get(&lt;span&gt;&#x27;/pet/list&#x27;&lt;/span&gt;, {&lt;br/&gt;    &lt;span&gt;params&lt;/span&gt;: {&lt;br/&gt;      current,&lt;br/&gt;      &lt;span&gt;q&lt;/span&gt;: &lt;span&gt;JSON&lt;/span&gt;.stringify(searchQuery),&lt;br/&gt;      &lt;span&gt;sort&lt;/span&gt;: sortParams&lt;br/&gt;    }&lt;br/&gt;  })&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt; &lt;span&gt;const&lt;/span&gt; edit = &lt;span&gt;(&lt;span&gt;id: number, data: Record&amp;lt;string, any&amp;gt;&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {&lt;br/&gt;  &lt;span&gt;return&lt;/span&gt; http.patch(&lt;span&gt;`/pet/&lt;span&gt;${id}&lt;/span&gt;`&lt;/span&gt;, data)&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt; &lt;span&gt;const&lt;/span&gt; create = &lt;span&gt;(&lt;span&gt;data: Record&amp;lt;string, any&amp;gt;&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {&lt;br/&gt;  &lt;span&gt;return&lt;/span&gt; http.put(&lt;span&gt;&#x27;/pet&#x27;&lt;/span&gt;, data)&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt; &lt;span&gt;const&lt;/span&gt; remove = &lt;span&gt;(&lt;span&gt;id: number, data: Record&amp;lt;string, any&amp;gt;&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {&lt;br/&gt;  &lt;span&gt;return&lt;/span&gt; http.delete(&lt;span&gt;`/pet/&lt;span&gt;${id}&lt;/span&gt;`&lt;/span&gt;, data)&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;数据管理层&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;数据管理用 &lt;span&gt;组合式 API&lt;/span&gt;&lt;sup&gt;[5]&lt;/sup&gt; 来做。列表页的数据管理层代码如下：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt; { onMounted, reactive, watch, toRefs } &lt;span&gt;from&lt;/span&gt; &lt;span&gt;&#x27;vue&#x27;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; SearchPanel &lt;span&gt;from&lt;/span&gt; &lt;span&gt;&#x27;@/components/logic/search/SearchPanel.vue&#x27;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; Table &lt;span&gt;from&lt;/span&gt; &lt;span&gt;&#x27;@/components/ui/Table.vue&#x27;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; type { sortType } &lt;span&gt;from&lt;/span&gt; &lt;span&gt;&#x27;@/define/list.d&#x27;&lt;/span&gt;&lt;br/&gt;interface State {&lt;br/&gt;  &lt;span&gt;list&lt;/span&gt;: Record&amp;lt;string, any&amp;gt;[]&lt;br/&gt;  &lt;span&gt;pageConfig&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;current&lt;/span&gt;: number,&lt;br/&gt;    &lt;span&gt;total&lt;/span&gt;: number,&lt;br/&gt;    &lt;span&gt;showTotal&lt;/span&gt;: boolean,&lt;br/&gt;    &lt;span&gt;showJumper&lt;/span&gt;: boolean,&lt;br/&gt;  }&lt;br/&gt;  &lt;span&gt;isLoading&lt;/span&gt;: boolean&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt; &lt;span&gt;default&lt;/span&gt; &lt;span&gt;&lt;span&gt;function&lt;/span&gt; &lt;span&gt;useList&lt;/span&gt; (&lt;span&gt;doFetchList: (current: number, searchQuery: Record&amp;lt;string, any&amp;gt;&lt;/span&gt;) =&amp;gt; &lt;span&gt;Promise&lt;/span&gt;&amp;lt;&lt;span&gt;any&lt;/span&gt;&amp;gt;, &lt;span&gt;searchQuery&lt;/span&gt;: &lt;span&gt;Record&lt;/span&gt;&amp;lt;&lt;span&gt;string&lt;/span&gt;, &lt;span&gt;any&lt;/span&gt;&amp;gt;) &lt;/span&gt;{&lt;br/&gt;  &lt;span&gt;const&lt;/span&gt; data = reactive&amp;lt;State&amp;gt;({&lt;br/&gt;    &lt;span&gt;list&lt;/span&gt;: [],&lt;br/&gt;    &lt;span&gt;pageConfig&lt;/span&gt;: {&lt;br/&gt;      &lt;span&gt;current&lt;/span&gt;: &lt;span&gt;1&lt;/span&gt;,&lt;br/&gt;      &lt;span&gt;total&lt;/span&gt;: &lt;span&gt;1&lt;/span&gt;,&lt;br/&gt;      &lt;span&gt;showTotal&lt;/span&gt;: &lt;span&gt;true&lt;/span&gt;,&lt;br/&gt;      &lt;span&gt;showJumper&lt;/span&gt;: &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;    },&lt;br/&gt;    &lt;span&gt;isLoading&lt;/span&gt;: &lt;span&gt;false&lt;/span&gt;&lt;br/&gt;  })&lt;br/&gt;&lt;br/&gt;  &lt;span&gt;const&lt;/span&gt; fetchList = &lt;span&gt;async&lt;/span&gt; (current = &lt;span&gt;1&lt;/span&gt;, sortParams?: {&lt;span&gt;key&lt;/span&gt;: string, &lt;span&gt;value&lt;/span&gt;: sortType}) =&amp;gt; {&lt;br/&gt;    data.isLoading = &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;    data.pageConfig.current = current&lt;br/&gt;    &lt;span&gt;const&lt;/span&gt; { &lt;span&gt;data&lt;/span&gt;: { list, total } } = &lt;span&gt;await&lt;/span&gt; doFetchList(current, searchQuery, sortParams)&lt;br/&gt;    data.list = list&lt;br/&gt;    data.pageConfig.total = total&lt;br/&gt;    data.isLoading = &lt;span&gt;false&lt;/span&gt;&lt;br/&gt;  }&lt;br/&gt;&lt;br/&gt;  &lt;span&gt;const&lt;/span&gt; sortList = &lt;span&gt;(&lt;span&gt;sortParams: {key: string, value: sortType}&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {&lt;br/&gt;    fetchList(&lt;span&gt;1&lt;/span&gt;, sortParams)&lt;br/&gt;  }&lt;br/&gt;&lt;br/&gt;  onMounted(&lt;span&gt;&lt;span&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; {&lt;br/&gt;    fetchList()&lt;br/&gt;  })&lt;br/&gt;&lt;br/&gt;  watch(&lt;span&gt;&lt;span&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; searchQuery, () =&amp;gt; fetchList, { &lt;span&gt;deep&lt;/span&gt;: &lt;span&gt;true&lt;/span&gt; })&lt;br/&gt;  &lt;span&gt;return&lt;/span&gt; {&lt;br/&gt;    ...toRefs(data),&lt;br/&gt;    fetchList,&lt;br/&gt;    sortList,&lt;br/&gt;    &lt;span&gt;components&lt;/span&gt;: {&lt;br/&gt;      SearchPanel,&lt;br/&gt;      Table&lt;br/&gt;    }&lt;br/&gt;  }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;业务组件层&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;列表页的业务组件有筛选条件容器组件，单个筛选条件容器组件和详情抽屉组件。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这边以筛选条件容器组件为例：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;script&lt;/span&gt; &lt;span&gt;setup&lt;/span&gt; &lt;span&gt;lang&lt;/span&gt;=&lt;span&gt;&quot;ts&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; Row &lt;span&gt;from&lt;/span&gt; &lt;span&gt;&#x27;@/components/ui/layout/Row.vue&#x27;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; Button &lt;span&gt;from&lt;/span&gt; &lt;span&gt;&#x27;@/components/ui/common/Button.vue&#x27;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt; emit = defineEmits([&lt;span&gt;&#x27;search&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;reset&#x27;&lt;/span&gt;])&lt;br/&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt; handleReset = &lt;span&gt;&lt;span&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; {&lt;br/&gt;  emit(&lt;span&gt;&#x27;reset&#x27;&lt;/span&gt;)&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt; handleSearch = &lt;span&gt;&lt;span&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; {&lt;br/&gt;  emit(&lt;span&gt;&#x27;search&#x27;&lt;/span&gt;)&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;&lt;span&gt;template&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;main&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;search-panel&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;&lt;span&gt;Row&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;&amp;lt;&lt;span&gt;slot&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;/&lt;span&gt;Row&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;&lt;span&gt;Row&lt;/span&gt; &lt;span&gt;justify&lt;/span&gt;=&lt;span&gt;&quot;end&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;&amp;lt;&lt;span&gt;Button&lt;/span&gt; @&lt;span&gt;click&lt;/span&gt;=&lt;span&gt;&quot;handleReset&quot;&lt;/span&gt; &lt;span&gt;type&lt;/span&gt;=&lt;span&gt;&quot;secondary&quot;&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;reset-btn&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;重置&lt;span&gt;&amp;lt;/&lt;span&gt;Button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;&amp;lt;&lt;span&gt;Button&lt;/span&gt; @&lt;span&gt;click&lt;/span&gt;=&lt;span&gt;&quot;handleSearch&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;搜索&lt;span&gt;&amp;lt;/&lt;span&gt;Button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;/&lt;span&gt;Row&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;/&lt;span&gt;main&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;template&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;业务组件组合层&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;列表页的业务组件组合层的主要代码如下：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;script&lt;/span&gt; &lt;span&gt;setup&lt;/span&gt; &lt;span&gt;lang&lt;/span&gt;=&lt;span&gt;&quot;ts&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&lt;br/&gt;&lt;span&gt;// 数据管理&lt;/span&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt; {&lt;br/&gt;  &lt;span&gt;components&lt;/span&gt;: { SearchPanel, Table },&lt;br/&gt;  list,&lt;br/&gt;  fetchList,&lt;br/&gt;  sortList,&lt;br/&gt;  pageConfig,&lt;br/&gt;  isLoading&lt;br/&gt;} = useList(props.fetchList, props.searchQuery)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//表格的列&lt;/span&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt; columns = [&lt;br/&gt;  {&lt;br/&gt;    &lt;span&gt;title&lt;/span&gt;: &lt;span&gt;&#x27;ID&#x27;&lt;/span&gt;,&lt;br/&gt;    ...&lt;br/&gt;  },&lt;br/&gt;  ...props.columns,&lt;br/&gt;  {&lt;br/&gt;    &lt;span&gt;title&lt;/span&gt;: &lt;span&gt;&#x27;操作&#x27;&lt;/span&gt;,&lt;br/&gt;    ...&lt;br/&gt;  }&lt;br/&gt;]&lt;br/&gt;&lt;br/&gt;&lt;span&gt;// 事件处理&lt;/span&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt; handleReset = ...&lt;br/&gt;const handlePageChange = ...&lt;br/&gt;const handleSort = ...&lt;br/&gt;const handleDelete = ...&lt;br/&gt;const handleOnView = ...&lt;br/&gt;const handleOnEdit = ...&lt;br/&gt;const handleCreate = ...&lt;br/&gt;const handleSave = ...&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;&lt;span&gt;template&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;main&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;!-- 筛选条件 --&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;&lt;span&gt;SearchPanel&lt;/span&gt;&lt;br/&gt;      @&lt;span&gt;search&lt;/span&gt;=&lt;span&gt;&quot;fetchList(1)&quot;&lt;/span&gt;&lt;br/&gt;      @&lt;span&gt;reset&lt;/span&gt;=&lt;span&gt;&quot;handleReset&quot;&lt;/span&gt;&lt;br/&gt;    &amp;gt;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;&amp;lt;&lt;span&gt;slot&lt;/span&gt; &lt;span&gt;name&lt;/span&gt;=&lt;span&gt;&quot;searchPanel&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;/&lt;span&gt;SearchPanel&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;&lt;span&gt;Divider&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;operation-wrap&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;&amp;lt;&lt;span&gt;Button&lt;/span&gt; @&lt;span&gt;click&lt;/span&gt;=&lt;span&gt;&quot;handleCreate&quot;&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;operation-btn&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;新增&lt;span&gt;&amp;lt;/&lt;span&gt;Button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;&amp;lt;&lt;span&gt;Button&lt;/span&gt; &lt;span&gt;status&lt;/span&gt;=&lt;span&gt;&quot;success&quot;&lt;/span&gt; &lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;operation-btn&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;导出&lt;span&gt;&amp;lt;/&lt;span&gt;Button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;&lt;span&gt;Table&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;class&lt;/span&gt;=&lt;span&gt;&quot;table&quot;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;:columns&lt;/span&gt;=&lt;span&gt;&quot;columns&quot;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;...&lt;/span&gt;&lt;br/&gt;    &amp;gt;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;&amp;lt;&lt;span&gt;template&lt;/span&gt; #&lt;span&gt;operation&lt;/span&gt;=&lt;span&gt;&quot;{ rowData }&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;&amp;lt;&lt;span&gt;Space&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;          &lt;span&gt;&amp;lt;&lt;span&gt;Button&lt;/span&gt; @&lt;span&gt;click&lt;/span&gt;=&lt;span&gt;&quot;handleOnEdit(rowData)&quot;&lt;/span&gt; &lt;span&gt;size&lt;/span&gt;=&lt;span&gt;&quot;xs&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;编辑&lt;span&gt;&amp;lt;/&lt;span&gt;Button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;          &lt;span&gt;&amp;lt;&lt;span&gt;PopupConfirm&lt;/span&gt; @&lt;span&gt;ok&lt;/span&gt;=&lt;span&gt;&quot;handleDelete(rowData.id)&quot;&lt;/span&gt; &lt;span&gt;content&lt;/span&gt;=&lt;span&gt;&quot;确认删除?&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&amp;lt;&lt;span&gt;Button&lt;/span&gt; &lt;span&gt;size&lt;/span&gt;=&lt;span&gt;&quot;xs&quot;&lt;/span&gt; &lt;span&gt;status&lt;/span&gt;=&lt;span&gt;&quot;danger&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;删除&lt;span&gt;&amp;lt;/&lt;span&gt;Button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;          &lt;span&gt;&amp;lt;/&lt;span&gt;PopupConfirm&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;&amp;lt;/&lt;span&gt;Space&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;&amp;lt;/&lt;span&gt;template&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;/&lt;span&gt;Table&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;!-- 详情 --&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;&lt;span&gt;Detail&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;:isShow&lt;/span&gt;=&lt;span&gt;&quot;isShowDetail&quot;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;:title&lt;/span&gt;=&lt;span&gt;&quot;detailTitle&quot;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;...&lt;/span&gt;&lt;br/&gt;    &amp;gt;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;&amp;lt;&lt;span&gt;Form&lt;/span&gt; &lt;span&gt;:model&lt;/span&gt;=&lt;span&gt;&quot;currItem&quot;&lt;/span&gt; &lt;span&gt;ref&lt;/span&gt;=&lt;span&gt;&quot;formRef&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;&amp;lt;&lt;span&gt;slot&lt;/span&gt; &lt;span&gt;name&lt;/span&gt;=&lt;span&gt;&quot;detail&quot;&lt;/span&gt; &lt;span&gt;:type&lt;/span&gt;=&lt;span&gt;&quot;type&quot;&lt;/span&gt; &lt;span&gt;:currItem&lt;/span&gt;=&lt;span&gt;&quot;currItem&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;&amp;lt;/&lt;span&gt;Form&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;/&lt;span&gt;Detail&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;/&lt;span&gt;main&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;template&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;具体页面&lt;span/&gt;&lt;/h3&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;搜索条件&lt;span/&gt;&lt;/h4&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;List&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;:searchQuery&lt;/span&gt;=&lt;span&gt;&quot;searchQuery&quot;&lt;/span&gt;&lt;br/&gt;  @&lt;span&gt;reset&lt;/span&gt;=&lt;span&gt;&quot;handleReset&quot;&lt;/span&gt;&lt;br/&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;template&lt;/span&gt; #&lt;span&gt;searchPanel&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;&lt;span&gt;SearchItem&lt;/span&gt; &lt;span&gt;name&lt;/span&gt;=&lt;span&gt;&quot;姓名&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;&amp;lt;&lt;span&gt;Input&lt;/span&gt; &lt;span&gt;v-model&lt;/span&gt;=&lt;span&gt;&quot;searchQuery.name&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;/&lt;span&gt;SearchItem&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;!-- ... --&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;/&lt;span&gt;template&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;List&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;表格和分页&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;表格的每列的内容：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt; columns = [&lt;br/&gt;  {&lt;br/&gt;    &lt;span&gt;title&lt;/span&gt;: &lt;span&gt;&#x27;姓名&#x27;&lt;/span&gt;,&lt;br/&gt;    &lt;span&gt;dataIndex&lt;/span&gt;: &lt;span&gt;&#x27;name&#x27;&lt;/span&gt;,&lt;br/&gt;    &lt;span&gt;width&lt;/span&gt;: &lt;span&gt;80&lt;/span&gt;&lt;br/&gt;  },&lt;br/&gt;  {&lt;br/&gt;    &lt;span&gt;title&lt;/span&gt;: &lt;span&gt;&#x27;年龄&#x27;&lt;/span&gt;,&lt;br/&gt;    &lt;span&gt;dataIndex&lt;/span&gt;: &lt;span&gt;&#x27;age&#x27;&lt;/span&gt;,&lt;br/&gt;    &lt;span&gt;width&lt;/span&gt;: &lt;span&gt;100&lt;/span&gt;,&lt;br/&gt;    &lt;span&gt;sortable&lt;/span&gt;: {&lt;br/&gt;      &lt;span&gt;sortDirections&lt;/span&gt;: [&lt;span&gt;&#x27;ascend&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;descend&#x27;&lt;/span&gt;],&lt;br/&gt;      &lt;span&gt;sorter&lt;/span&gt;: &lt;span&gt;true&lt;/span&gt; &lt;span&gt;// 关闭客户端排序&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;  },&lt;br/&gt;  {&lt;br/&gt;    &lt;span&gt;title&lt;/span&gt;: &lt;span&gt;&#x27;性别&#x27;&lt;/span&gt;,&lt;br/&gt;    &lt;span&gt;dataIndex&lt;/span&gt;: &lt;span&gt;&#x27;gender&#x27;&lt;/span&gt;,&lt;br/&gt;    &lt;span&gt;width&lt;/span&gt;: &lt;span&gt;60&lt;/span&gt;,&lt;br/&gt;    render ({ record }: any) {&lt;br/&gt;      &lt;span&gt;return&lt;/span&gt; h(&lt;span&gt;&#x27;span&#x27;&lt;/span&gt;, record.gender === &lt;span&gt;1&lt;/span&gt; ? &lt;span&gt;&#x27;男&#x27;&lt;/span&gt; : &lt;span&gt;&#x27;女&#x27;&lt;/span&gt;)&lt;br/&gt;    }&lt;br/&gt;  },&lt;br/&gt;  ...&lt;br/&gt;]&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;参数传入组件：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;List&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;:fetchList&lt;/span&gt;=&lt;span&gt;&quot;fetchList&quot;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;:columns&lt;/span&gt;=&lt;span&gt;&quot;columns&quot;&lt;/span&gt;&lt;br/&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;...&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;List&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;创建，编辑和详情的内容&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;创建和编辑的保存：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt; { create, edit } &lt;span&gt;from&lt;/span&gt; &lt;span&gt;&#x27;@/service/staff&#x27;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt; handleSave = &lt;span&gt;async&lt;/span&gt; ({ type, payload, onSuccess }) =&amp;gt; {&lt;br/&gt;  &lt;span&gt;if&lt;/span&gt; (type === &lt;span&gt;&#x27;edit&#x27;&lt;/span&gt;) {&lt;br/&gt;    &lt;span&gt;await&lt;/span&gt; edit(payload.id, payload)&lt;br/&gt;  } &lt;span&gt;else&lt;/span&gt; {&lt;br/&gt;    &lt;span&gt;await&lt;/span&gt; create(payload)&lt;br/&gt;  }&lt;br/&gt;  onSuccess()&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;创建，编辑和详情的模板内容：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;List&lt;/span&gt;&lt;br/&gt;  @&lt;span&gt;save&lt;/span&gt;=&lt;span&gt;&quot;handleSave&quot;&lt;/span&gt;&lt;br/&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;&lt;span&gt;template&lt;/span&gt; #&lt;span&gt;detail&lt;/span&gt;=&lt;span&gt;&quot;{ type, currItem }&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;FormItem&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;label&lt;/span&gt;=&lt;span&gt;&quot;姓名&quot;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;field&lt;/span&gt;=&lt;span&gt;&quot;name&quot;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;:rules&lt;/span&gt;=&lt;span&gt;&quot;type !== &#x27;view&#x27; ? [{required:true,message:&#x27;姓名必填&#x27;}] : []&quot;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;:validate-trigger&lt;/span&gt;=&lt;span&gt;&quot;[&#x27;change&#x27;,&#x27;input&#x27;]&quot;&lt;/span&gt;&lt;br/&gt;  &amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;&lt;span&gt;Input&lt;/span&gt; &lt;span&gt;v-model&lt;/span&gt;=&lt;span&gt;&quot;currItem.name&quot;&lt;/span&gt; &lt;span&gt;:disabled&lt;/span&gt;=&lt;span&gt;&quot;type === &#x27;view&#x27;&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;/&lt;span&gt;FormItem&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;FormItem&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;label&lt;/span&gt;=&lt;span&gt;&quot;年龄&quot;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;field&lt;/span&gt;=&lt;span&gt;&quot;age&quot;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;:rules&lt;/span&gt;=&lt;span&gt;&quot;type !== &#x27;view&#x27; ? [{required:true,message:&#x27;年龄&#x27;}] : []&quot;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;:validate-trigger&lt;/span&gt;=&lt;span&gt;&quot;[&#x27;change&#x27;,&#x27;input&#x27;]&quot;&lt;/span&gt;&lt;br/&gt;  &amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;&lt;span&gt;InputNumber&lt;/span&gt; &lt;span&gt;v-model&lt;/span&gt;=&lt;span&gt;&quot;currItem.age&quot;&lt;/span&gt; &lt;span&gt;:disabled&lt;/span&gt;=&lt;span&gt;&quot;type === &#x27;view&#x27;&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;/&lt;span&gt;FormItem&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  ...&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;List&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;推荐阅读&lt;/h2&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;参考资料&lt;/span&gt;&lt;/h3&gt;&lt;section data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;span&gt;[1]&lt;/span&gt;&lt;p&gt;acro.design: &lt;em&gt;https://arco.design/vue/docs/start&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[2]&lt;/span&gt;&lt;p&gt;Vue Router: &lt;em&gt;https://router.vuejs.org/&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[3]&lt;/span&gt;&lt;p&gt;Axios: &lt;em&gt;https://axios-http.com/&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[4]&lt;/span&gt;&lt;p&gt;Mock.js: &lt;em&gt;http://mockjs.com/&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[5]&lt;/span&gt;&lt;p&gt;组合式 API: &lt;em&gt;https://v3.cn.vuejs.org/api/composition-api.html#setup&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>263256b7cba479cd0040f763d71eb41f</guid>
<title>DeepMind「通才」AI智能体Gato来了，多模态、多任务，受大语言模型启发</title>
<link>https://toutiao.io/k/1yvyljf</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                                                     &quot; id=&quot;js_content&quot;&gt;
            &lt;section data-mpa-powered-by=&quot;yiban.io&quot; data-darkmode-bgcolor-16095509242984=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16095509242984=&quot;rgb(255, 255, 255)&quot; data-style=&quot;white-space: normal; max-width: 100%; letter-spacing: 0.544px; text-size-adjust: auto; background-color: rgb(255, 255, 255); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__0&quot; mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section data-darkmode-bgcolor-16095509242984=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16095509242984=&quot;rgb(255, 255, 255)&quot; mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section data-darkmode-bgcolor-16095509242984=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16095509242984=&quot;rgb(255, 255, 255)&quot; mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section data-id=&quot;85660&quot; data-custom=&quot;rgb(117, 117, 118)&quot; data-darkmode-bgcolor-16095509242984=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16095509242984=&quot;rgb(255, 255, 255)&quot; mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section data-darkmode-bgcolor-16095509242984=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16095509242984=&quot;rgb(255, 255, 255)&quot; mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section data-darkmode-bgcolor-16095509242984=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16095509242984=&quot;rgb(255, 255, 255)&quot; mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section data-darkmode-bgcolor-16095509242984=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16095509242984=&quot;rgb(255, 255, 255)&quot; mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section data-darkmode-bgcolor-16095509242984=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16095509242984=&quot;rgb(255, 255, 255)&quot; mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section data-darkmode-bgcolor-16095509242984=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16095509242984=&quot;rgb(255, 255, 255)&quot; mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section data-id=&quot;85660&quot; data-custom=&quot;rgb(117, 117, 118)&quot; data-darkmode-bgcolor-16095509242984=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16095509242984=&quot;rgb(255, 255, 255)&quot; mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section data-darkmode-bgcolor-16095509242984=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16095509242984=&quot;rgb(255, 255, 255)&quot; data-style=&quot;margin-top: 2em; padding-top: 0.5em; padding-bottom: 0.5em; max-width: 100%; border-style: solid none; text-decoration: inherit; border-top-color: rgb(204, 204, 204); border-bottom-color: rgb(204, 204, 204); border-top-width: 1px; border-bottom-width: 1px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__1&quot; mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;NaN&quot;&gt;&lt;span mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;NaN&quot;&gt;机器之心报道&lt;/span&gt;&lt;/section&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;51&quot;&gt;&lt;span mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;51&quot;&gt;&lt;strong mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;51&quot;&gt;&lt;span mp-original-font-size=&quot;12&quot; mp-original-line-height=&quot;51&quot;&gt;机器之心编辑部&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;blockquote data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;83&quot; data-source-title=&quot;&quot; mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;24&quot;&gt;&lt;section mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;24&quot;&gt;&lt;p mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;26.25&quot;&gt;在写文章、画图之后，AI 大模型现在又同时有了打游戏的能力。不禁在想，DeepMind 的智能体 Gato 未来还能玩出哪些花活？&lt;/p&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;假如使用单一序列模型就能解决所有任务，是再好不过的事情，因为这种模型减少了不必要的麻烦。不过这需要增加训练数据的数量和多样性，此外，这种通用模型随着数据的扩充和模型的扩展，性能还会提高。从历史上看，更擅长利用计算的通用模型最终也会超过特定于专门领域的模型。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;今日，受大规模语言建模的启发，Deepmind 应用类似的方法构建了一个单一的「通才」智能体 Gato，它具有多模态、多任务、多具身（embodiment）特点。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.32131147540983607&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gWibhk6icTB7ibbqnw3VIib1Tp8jvG8uMhEYia7a5dlrtOJcXnGbZzpbib2l6J7KTdOYbwC5mUV8YFomEsWw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1220&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;论文地址：https://storage.googleapis.com/deepmind-media/A%20Generalist%20Agent/Generalist%20Agent.pdf&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Gato 可以玩雅达利游戏、给图片输出字幕、和别人聊天、用机械臂堆叠积木等等。此外，Gato 还能根据上下文决定是否输出文本、关节力矩、按钮按压或其他 token。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.72734375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gWibhk6icTB7ibbqnw3VIib1Tp8jMGS80MzgadRuuxodzkJcx1gRUuwKfeSEkI6oFCTdGBWasrDS4nootA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;与大多数智能体玩游戏不同，Gato 使用相同的训练模型就能玩许多游戏，而不用为每个游戏单独训练。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.9849884526558892&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/KmXPKA19gWibhk6icTB7ibbqnw3VIib1Tp8jChdVlo81k7iaz7LcX1iaPQH7DlZ9rPibIVByDREr8PPgGpo7iaXFUdvKwA/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;866&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;‍&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Gato 的训练数据集应该尽量广泛，需要包括不同模态，如图像、文本、本体感觉（proprioception）、关节力矩、按钮按压以及其他离散和连续的观察和行动。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;为了能够处理这种多模态数据，Deepmind 将所有数据序列化为一个扁平的 token 序列。在这种表示中，Gato 可以从类似于标准的大规模语言模型进行训练和采样。在部署期间，采样的 token 会根据上下文组合成对话响应、字幕、按钮按下或其他动作。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;UCL 计算机系教授汪军告诉机器之心，DeepMind 的这项最新工作将强化学习、计算机视觉和自然语言处理这三个领域合到一起，虽然技术思路上沿用了前人的方法，但能将 CV、NLP 和 RL 这三个不同模态映射到同一个空间，用一套参数表达，是非常不容易的。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;其积极意义在于，证明了 CV、NLP 和 RL 的结合是切实可行的，通过序列预测能够解决一些决策智能的问题。考虑到 Gato 模型目前的参数量只能算中等，接下来继续往这个方向探索，构建更大的模型，将会有非常大的意义。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;不过，Gato 大模型的 RL 部分只采用了监督学习方法，并未触及强化学习真正的核心——reward 设计机制，目前的任务中也没有多智能体决策的问题。汪军教授表示，他的团队近期在决策大模型上做了很多探索，包括证明多智能体决策也可以是序列模型，相关成果将于近期公布，欢迎大家关注。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;Gato 智能体细节&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;在 Gato 的训练阶段，来自不同任务和模态的数据被序列化为扁平的 token 序列，由一个类似于大型语言模型的 transformer 神经网络进行 batch 和其他处理。由于损失被 masked，Gato 只预测动作和文本目标。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;下图为 Gato 的训练流程。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.465625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gWibhk6icTB7ibbqnw3VIib1Tp8jITsCljtibiaXggECKO3JJhQJDBFDWPWFZGGIHBeIjvW0lPRoUDGEIY7A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;在部署 Gato 时，提示（如演示）被 tokenised，形成了初始序列。接着，环境产生了首个观察结果，该结果也被 tokenised 并添加到序列中。Gato 以自回归的方式对动作向量进行采样，一次只采样一个 token。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;一旦包含动作向量的所有 token 都被采样（由环境的动作规范确定），动作被解码并发送给环境，然后逐步产生新的观察结果。重复这一过程。Gato 模型始终在包含 1024 个 token 的上下文环境窗口内查看之前所有的观察结果和动作。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;‍&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;下图展示了将 Gato 部署为控制策略（control policy）的流程。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.4390625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gWibhk6icTB7ibbqnw3VIib1Tp8j1T5FkZXbcOMgZRmVeickxXQiaLyKjy3ngvdTsbRNVsn36gwPfaSATQHw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;除了各种自然语言和图像数据集之外，Gato 还在包含模拟和真实环境中智能体经验的大量数据集上进行了训练。&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;下表 1 左为用于训练 Gato 的控制数据集，右为视觉与语言数据集。样本权重（sample weight）表示每个数据集在训练序列 batch 中平均所占的比例。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.5648068669527897&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gWibhk6icTB7ibbqnw3VIib1Tp8jq2oStVXJEhVPaPMvqAe9trlSG5TKRSHufL7jczy1HG8IL2jiaicBRFicA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1165&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;Gato 智能体能力&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;研究者汇总了在以上数据上训练时 Gato 的性能。也就是说，所有任务的所有结果都来自具有一组权重的单一预训练模型。微调结果将在「实验分析」章节展示。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;模拟控制任务&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;下图 5 展示了 Gato 在给定分数阈值之上执行不同控制任务的数量相对于 Gato 训练数据中的专家表现。其中，x 轴上的值表示专家分数的特定百分比，0 对应随机智能体性能。y 轴表示预训练模型的平均性能等于或高于特定百分比时的任务数量。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;研究者将性能报告为百分比，其中 100% 对应每个任务的专家，0% 对应于随机策略。对于训练模型的每个模拟控制任务，他们在相应的环境中 roll out Gato 策略 50 次，并对定义的分数进行平均。如下图所示，Gato 以超过 50% 的专家分数阈值执行了 604 个任务中的 450 多个。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.41484375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gWibhk6icTB7ibbqnw3VIib1Tp8jicC2EROzRWnE4D88Uv5Y4ZLTSfj6OF8TjfxjslwibvZ9O2Keqj0cw49w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;在 ALE Atari 中，Gato 在 23 场 Atari 游戏中取得了人类平均（或更高的）分数，在 11 场游戏中取得了两倍于人类的分数。虽然生成数据的单任务在线 RL 智能体依然优于 Gato，但可以通过增加容量或使用离线 RL 训练而非纯监督克服。研究者在文中还介绍了一个专业的单域 ALE Atari 智能体，它在 44 场比赛中都取得比人类更好的分数。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;在 BabyAI 中，Gato 在几乎所有级别上都得到了 80% 以上的专家分数。对于最困难的任务 BossLevel，Gato 的得分为 75%。相比之外，另外两个已发布的基准 BabyAI 1.0 和 BabyAI 1.1 分别使用 100 万次演示对该单一任务进行训练，它们的得分不过为 77% 和 90%。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;在 Meta-World 中，Gato 在接受训练的 45 个任务中的 44 个中得到了 50% 以上的专家分数，35 个任务上得到 80% 以上，3 个任务上超过 90%。在规范的 DM Control Suite 上，Gato 在 30 个任务中的 21 个上都得到了 50% 以上的专家分数，在 18 个任务上得到 80% 以上。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;机器人基准评估&lt;/span&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;第一视角远程操作可以收集专家演示。然而，此类演示收集起来速度慢成本高。因此，数据高效的行为克隆方法对于训练通用机器人操纵器是可取的，离线预训练成为一个很有动力的研究领域。研究者也在已建立的 RGB Stacking 机器人基准上对 Gato 进行了评估。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;RGB Stacking 机器人基准上的技能泛化挑战测试了智能体堆叠以往未见过形状的对象的能力。智能体在一个包含各种形状机器人堆叠对象的 episodes 的数据集上进行训练。但是，五个对象形状的三元组没有包含在训练数据中，而是作为测试三元组。研究者针对真实机器人上的每个测试三元组对训练的 Gato 进行了 200 轮的评估。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;下表 2 的结果表明，Gato 在每个测试三元组上的成功率与 Lee 等人（2021）提出的单任务 BC-IMP（filtered BC）基准相当。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.18095238095238095&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gWibhk6icTB7ibbqnw3VIib1Tp8jDibNvfUyZwFiaO9iccWXKcjyic14P2R6Hr2TAJPVP6Re9LId7Cn61htIcg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1260&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;文本示例&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Gato 智能体也能生成基本对话以及给图像加字幕（或描述）。下图 6 展示了 Gato 为图像加字幕的代表性示例。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.75078125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gWibhk6icTB7ibbqnw3VIib1Tp8jbMU22RYniaQPff7LhC1YWQJ17qhJMvmdeNeicsskWq9VdbSqEwY11ib0Q/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;下图 7 展示了一些精选的纯文本对话交流示例。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.63046875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gWibhk6icTB7ibbqnw3VIib1Tp8j113UM5Kq6qouIourx8Fnf87eCFezrKdLOwngDRrmcEeML7Ql5KyNfw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;实验分析&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;下图 8 中，DeepMind 评估了 3 种不同模型大小（以参数计数衡量）：79M 模型、364M 模型和 1.18B 模型 (Gato)。可以得出，在相等的 token 数下，随着模型的扩展，模型性能随之提高。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.4473684210526316&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gWibhk6icTB7ibbqnw3VIib1Tp8jhZbYeVcTe4WPlY22H3ibhQA9rqMpQRbraFicVVWKNQVD4STQKfu3jjuw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1216&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;下图 10 将 Gato 在不同微调数据机制中的成功率与 sim-to-real 专家和 Critic-Regularized Regression (CRR) 智能体进行了比较，结果如下：Gato 在现实和模拟中（分别为左图和右图的红色曲线），仅用 10 episodes 就恢复了专家的表现，并在 100 或 1000 episodes 微调数据时达到峰值，超过了专家。在此点之后（在 5000 处），性能会略有下降，但不会远远低于专家的性能。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.5305280528052805&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gWibhk6icTB7ibbqnw3VIib1Tp8jAQMUU1a5GkhN0D8WKLibianbb9foaEwgAeDHK6I4JNb4xPXOeiccZmGFg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1212&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;下表 3 为 Gato 和 BC-IMP 比较结果。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.16112531969309463&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gWibhk6icTB7ibbqnw3VIib1Tp8juycf5Qq51k9Qv5RWVIsIsmJZbJSibfAhEXto83AU8VCOPWUZlib1Ok8g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1173&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;原文链接：&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;https://www.deepmind.com/publications/a-generalist-agent&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;2.13515625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gWibOtQXeDEwIroCPqGDVy2RMnQpQrLicFHaJXj97JhbLofkkiad4ciab3b32L6ibvmu0sOsm1cT8unoh7Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;/p&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;span mp-original-font-size=&quot;12&quot; mp-original-line-height=&quot;19.200000762939453&quot;&gt;© THE END &lt;/span&gt;&lt;/p&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;span mp-original-font-size=&quot;12&quot; mp-original-line-height=&quot;19.200000762939453&quot;&gt;转载请联系本公众号获得授权&lt;/span&gt;&lt;/p&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;span mp-original-font-size=&quot;12&quot; mp-original-line-height=&quot;19.200000762939453&quot;&gt;投稿或寻求报道：content@jiqizhixin.com&lt;/span&gt;&lt;/p&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>