<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>1e22e4414b07b7f0d29b33c0799106a1</guid>
<title>2022 年别再焦虑啦！加入我们！</title>
<link>https://toutiao.io/k/obimloc</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;开发者头条&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;/&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;Weixin ID&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;kaifazhetoutiao&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;About Feature&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;程序员分享平台 | 官方应用下载地址：http://toutiao.io/download&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>fea7cbe7ca02e56ce79a9facef087f50</guid>
<title>百度和米哈游的Golang面试经验分享</title>
<link>https://toutiao.io/k/q0sox0k</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p&gt;最近面了两家公司的&lt;code&gt;go&lt;/code&gt;技术岗位，一家百度，一家米哈游，面试的情况也不太乐观，现在分享一下面试中问的问题吧。&lt;/p&gt;&lt;p&gt;两家都是采用线上面试的，当时没有录音，&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yAABniahAY8ZrO9jY7dRJ1zDsVdPMObBWYFItXnsBiavdibkQKJVkXvTBwsGtHlS1BUNU2xia3y3lnlXPNrRD4ZLgQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;20&quot;/&gt;现在全靠自己的回忆来复盘一下了。&lt;/p&gt;&lt;h2&gt;&lt;span/&gt;百度一面&lt;/h2&gt;&lt;p&gt;百度的面试步骤分为计算机基础、&lt;code&gt;go&lt;/code&gt;相关、&lt;code&gt;mysql&lt;/code&gt;相关、&lt;code&gt;redis&lt;/code&gt;相关、&lt;code&gt;linux&lt;/code&gt;相关问题。还有一些发散性的问题。&lt;/p&gt;&lt;h3&gt;&lt;span/&gt;基础相关&lt;/h3&gt;&lt;p&gt;这一块的话，我回答的是稀碎，算法和数据结构我一个都没答上来，后面两个因为之前面试问到过，所以查过一些，回答的还算可以。&lt;/p&gt;&lt;h3&gt;&lt;span/&gt;go相关&lt;/h3&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;code&gt;GC&lt;/code&gt;，（面&lt;code&gt;GO&lt;/code&gt;必问题），&lt;code&gt;GC&lt;/code&gt;中&lt;code&gt;stw&lt;/code&gt;时机，各个阶段是如何解决的。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;code&gt;gpm&lt;/code&gt;，（面&lt;code&gt;GO&lt;/code&gt;必问题），这个必须要完全理解，抢占式调度是如何抢占的，怎么调度&lt;code&gt;goroutine&lt;/code&gt;的，&lt;code&gt;M&lt;/code&gt;和&lt;code&gt;P&lt;/code&gt;的数量问题。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;如何优雅的实现一个&lt;code&gt;goroutine&lt;/code&gt;池（这个回答的稀碎）&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;谈谈内存逃逸&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;内存管理（这个也回答的稀碎）&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;&lt;span/&gt;mysql相关&lt;/h3&gt;&lt;h3&gt;&lt;span/&gt;redis&lt;/h3&gt;&lt;h3&gt;&lt;span/&gt;linux&lt;/h3&gt;&lt;h3&gt;&lt;span/&gt;总结&lt;/h3&gt;&lt;p&gt;我面试结束后，一般都会问面试官，根据这次面试，针对我的技术上面，有什么好的建议或者意见，这位面试官给我的回答是：计算机基础比较薄弱，但是业务能力很强。这也是我目前的现状，哈哈，所以最近一直在看哈工大老师的计算机理论和操作系统。希望能勤能补拙吧。&lt;/p&gt;&lt;h2&gt;&lt;span/&gt;米哈游一面&lt;/h2&gt;&lt;p&gt;米哈游面试总体分为四个部分，&lt;code&gt;go&lt;/code&gt;相关，&lt;code&gt;mysql&lt;/code&gt;相关，&lt;code&gt;redis&lt;/code&gt;相关，&lt;code&gt;linux&lt;/code&gt;相关。&lt;/p&gt;&lt;h3&gt;&lt;span/&gt;go相关&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;...&lt;/span&gt;&lt;br/&gt;m &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;make&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;map&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span&gt;10&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;for&lt;/span&gt; i &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;1&lt;/span&gt;&lt;span&gt;;&lt;/span&gt; i&lt;span&gt;&amp;lt;=&lt;/span&gt; &lt;span&gt;10&lt;/span&gt;&lt;span&gt;;&lt;/span&gt; i&lt;span&gt;++&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;&lt;br/&gt;    m&lt;span&gt;[&lt;/span&gt;i&lt;span&gt;]&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; i&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;for&lt;/span&gt; k&lt;span&gt;,&lt;/span&gt; v &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;range&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;m&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;go&lt;/span&gt; &lt;span&gt;func&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;&lt;br/&gt;        fmt&lt;span&gt;.&lt;/span&gt;&lt;span&gt;Println&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;k -&amp;gt;&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; k&lt;span&gt;,&lt;/span&gt; &lt;span&gt;&quot;v -&amp;gt;&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; v&lt;span&gt;)&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;}&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;问会出现什么状况，为什么，怎么解决。就是不要闭包直接使用外部变量，通过传参就能解决了。&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;内存泄露，什么情况下内存会泄露。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;channel的底层实现原理，（其实就是问buf是环形链表的数据结构）&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;defer，这个一定要认真回答，defer在什么时机会修改返回值。多个defer的顺序。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;make和new的区别&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;channel关闭了接着send数据会发生什么，关闭一个已经关闭的channel会发生什么。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;map是线程安全的吗，map的扩容规则。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;数组和切片的区别。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;GC&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;GPM模型&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;进程、线程、协程区别。（这个很重要）&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;还有其他的我忘记了。&lt;img data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yAABniahAY8ZrO9jY7dRJ1zDsVdPMObBWYFItXnsBiavdibkQKJVkXvTBwsGtHlS1BUNU2xia3y3lnlXPNrRD4ZLgQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;20&quot;/&gt;&lt;/p&gt;&lt;h3&gt;&lt;span/&gt;redis&lt;/h3&gt;&lt;p&gt;差不多就是百度那样。&lt;/p&gt;&lt;h3&gt;&lt;span/&gt;mysql&lt;/h3&gt;&lt;p&gt;也差不多和百度那样。&lt;/p&gt;&lt;h3&gt;&lt;span/&gt;linux&lt;/h3&gt;&lt;p&gt;大差不差，就问了一个怎么根据进程名查该进程的id.&lt;/p&gt;&lt;h3&gt;&lt;span/&gt;总结&lt;/h3&gt;&lt;p&gt;根据面试反馈来看，米哈游给出的是go基础较差，但是业务能力较强。可能这就是之前干外包的特点吧。&lt;img data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yAABniahAY8ZrO9jY7dRJ1zDsVdPMObBWYFItXnsBiavdibkQKJVkXvTBwsGtHlS1BUNU2xia3y3lnlXPNrRD4ZLgQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;20&quot;/&gt;&lt;/p&gt;&lt;h3&gt;&lt;span/&gt;米哈游的二面&lt;/h3&gt;&lt;p&gt;米哈游二面主要问的是业务方面和算法方面的问题，主要有三部分。&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;微服务相关，包括微服务的注册与发现，微服务的监控，微服务的限流相关等等，还有微服务怎么守护进程，我回答的是supervisor，也不知道对不对。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;具体业务的实现，兑换码的实现，如何批量生成几十万或者上百万的兑换码，（这个我回答的是用雪花算法实现），高并发下，一个兑换码如何保证只能被一个人兑换一次，以及一个兑换码如何可以被多个人兑换的实现。（这道题前前后后回答了有半个小时吧，因为之前做过相关的业务，所以心里有点底）&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;三个算法问题。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;写一个方法，解决：输入4个数字，通过加减乘除，输出一个期望值。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;广度优先算法：怎么输出各层的值。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;台阶问题，假如对于上台阶，可以一次上一阶，也可以一次上两阶，写一个方法，实现输入台阶数，输出可以有多少种上法。&lt;/p&gt;&lt;p&gt;&lt;span&gt;文章原作者：ezreal_rao&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzA3MTUwNDU1NA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/yAABniahAY8ZKcmczZwW2lOD3icB2iaicXKS3v7smeF8uwHtMI8YicppR3JyJQXl2L7HPnABTcgiaQcialTE11OlTpHnw/0?wx_fmt=png&quot; data-nickname=&quot;Go编程&quot; data-alias=&quot;&quot; data-signature=&quot;Golang语言编程，针对学习教程&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>4b89b49a69b66cb26951150716b81be1</guid>
<title>阿里专家：如何画出优秀的架构图？</title>
<link>https://toutiao.io/k/92sk26n</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;weui-dialog&quot;&gt;
      &lt;p class=&quot;weui-dialog__hd&quot;&gt;&lt;strong class=&quot;weui-dialog__title&quot;&gt;&quot;Top Stories&quot; is disabled&lt;/strong&gt;&lt;/p&gt;
      &lt;p class=&quot;weui-dialog__bd&quot;&gt;
        Enable &quot;Top Stories&quot; in &quot;Settings&quot; &amp;gt; &quot;General&quot; &amp;gt; &quot;Manage Discover&quot;      &lt;/p&gt;
      
    &lt;/div&gt;
  &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>75be9dcd4d89b88e9a118174d44ff0bc</guid>
<title>作为前端，工作中处理过什么复杂的需求？</title>
<link>https://toutiao.io/k/de9u8lc</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;其次，&lt;strong&gt;前端自己要保持柔性&lt;/strong&gt;，除了核心CGI外，其他接口无论是超时还是返错，都不要影响页面核心功能的正常运行，这&lt;strong&gt;对前端的代码提出了很高的要求&lt;/strong&gt;，所幸平时团队CR习惯养成良好，对接口的异常处理也做的比较完善，只是模拟接口测试验证花费了一些时间。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135编辑器&quot; data-id=&quot;97333&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;2. 再说需求&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;你以为上面就是全部了？Too Naive！上面的几点只是挤出时间去做一些调整，&lt;strong&gt;重头戏还在于极度紧张的业务需求。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;腾讯课堂之前的toB部分针对的是开课机构、个人老师，现在是学校教务、学校老师、学校领导、教育局领导，老板们直接&lt;strong&gt;重点关注&lt;/strong&gt;，可想而知产品的压力有多大。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;我们在&lt;strong&gt;两天内就推出了腾讯课堂极速版&lt;/strong&gt;（https://ke.qq.com/s），支持老师10s开课，随时随地开课，目前已经迭代到了第4版。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;众所周知，对于一个系统而言，&lt;strong&gt;由简入繁易，由繁入简难&lt;/strong&gt;。腾讯课堂有着一套复杂的B侧管理体系，极速版要将这一切推翻，让老师极速开课，学生极速上课，这是多么困难的一件事情。课堂在这么短时间内拿下极速版的版本发布，体现了极强的开发战斗力。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>d2f12c3438225194cc134cf401b174c2</guid>
<title>对流处理的误解</title>
<link>https://toutiao.io/k/gp9phek</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.428125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/nKovjAe6Lros5vgmrlcorGHoxEVAFRnseiaOx0ueUqyb8VrbVlmQuibJP6xcCUl1oib6Nnic2xIBhtslVy4SCMkjmw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzI0OTYwNTQ4Ng==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/nKovjAe6LrpVR0GEQn2UGOvBUCta35aF6ibVFvTR0fFPE83DrdKGl8v2sCTVbYNJPnun6Yftg1OAlMJ94kxzgyg/0?wx_fmt=png&quot; data-nickname=&quot;大数据生态&quot; data-alias=&quot;big_data_ecosphere&quot; data-signature=&quot;火爆数年的大数据圈，让很多人还没弄懂大数据是什么，就已然身处其中。该订阅号对大数据行业中的各个领域进行梳理，有助于业内人士了解大数据生态圈。&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;我们花了很多时间来思考流处理。更酷的是：我们也花了很多时间帮助其他人思考流处理以及如何使用流应用解决他们的数据问题。这个过程的第一步是纠正对现代流处理的误解（作为一个快速变化的领域，这里有很多误见值得我们思考）。在这篇文章中，我们选择了其中的 6 个进行讲解，由于 Apache Flink 是我们最熟悉的开源流处理框架，所以我们会基于 Flink 来讲解这些例子。&lt;/p&gt;&lt;h3&gt;1. 误解1：如果不使用批处理就不能使用的流（Lambda架构）&lt;/h3&gt;&lt;p&gt;Lambda 架构 在 Apache Storm 和其它流处理项目的早期阶段是一个很有用并且出名的设计模式。这个架构包含了一个快速流层和一个批处理层。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.45725490196078433&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/nKovjAe6Lros5vgmrlcorGHoxEVAFRnsKOpAtqGU5rT6Q4BDiccP25fpBF6E2YfomLqdw5CX8oSib7awMfJaVoYw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1275&quot;/&gt;&lt;/p&gt;&lt;p&gt;之所以使用两层的原因是 Lambda 架构里的流处理只能计算出近似结果（例如，如果发生故障，结果是不可信的），而且只能处理相对少量的事件。虽然这些问题只存在于 Apache Storm 的早期版本中，与现今开源流处理不相关。现今的很多开源流处理框架都具有容错能力，即使出现故障也能产出准确的结果，而且具有高吞吐的计算能力。所以没有必要为了得到’快’而’准确’的结果维护多层架构。现今的流处理器（例如，Flink）可以满足你这两方面的需求。好在人们不再更多地讨论 Lambda 架构，这表明流处理正在走向成熟。&lt;/p&gt;&lt;h3&gt;2. 误解2：延迟和吞吐量：只能选择一个&lt;/h3&gt;&lt;p&gt;早期的开源流处理框架要么是高吞吐，要么是低延迟，因此开源流处理框架不是’海量数据、快速’场景的选择。但是 Flink（可能还有其他流流处理器）同时提供了高吞吐量和低延迟。这里有一个基准测试结果的示例。&lt;/p&gt;&lt;p&gt;让我们从一个基本的角度来研究这一点，特别是从硬件层。让我们考虑一个存在网络瓶颈的流处理 Pipeline（至少我们看到的许多使用 Flink 的 Pipeline 存在这种情况）。在硬件层面，不需要存在这样的权衡。网络容量才是影响最大吞吐量和可达到的最低延迟的主要因素。&lt;/p&gt;&lt;p&gt;一个设计良好的软件系统应可以达到网络上限而不会引入瓶颈问题。虽然 Flink 的性能还是有优化的空间，使其更接近硬件所能达到的水平。但在这一点上，Flink 已经证明可以在 10 节点的集群上每秒处理 1000 万个事件，如果扩展到 1000 个节点，可以同时实现几十毫秒的延迟。根据我们的经验，这种性能水平对于大多数实际部署来说绰绰有余。&lt;/p&gt;&lt;h3&gt;误解3：微批处理意味着更好的吞吐量&lt;/h3&gt;&lt;p&gt;我们可以从另一个角度来讨论性能，不过先让我们来澄清两个容易混淆的概念：&lt;/p&gt;&lt;p&gt;常见的误解是使用微批处理的数据处理框架会比每次处理一个事件的流处理框架有更高的吞吐量，因为微批处理在网络上传输的效率更高。该误解忽略了一个事实，流处理框架不会依赖任何处理和编程模型层面的批处理，但会在物理层面进行缓冲。Flink 确实也会对数据进行缓冲，这也就意味着 Flink 会通过网络一次发送一组处理过的记录，而不是一次只发送一条记录。从性能方面说，不对数据进行缓冲是不可取的，因为通过网络逐个发送记录不会带来任何性能上的好处。所以我们承认，在物理层面根本不存在一次发送一条记录的事情。但缓冲仅用作性能优化。因此，缓冲：&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;对用户是不可见的&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;不应该对系统造成任何影响&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;不应该强加人为的限制&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;不应该限制系统功能&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;所以对 Flink 的用户来说，他们可以按照单独处理每个记录的方式开发程序，但 Flink 使用缓冲来实现其底层性能优化。事实上，微批处理会以调度任务的形式引入相当大的开销，而如果这样做是为了降低延迟，那么这种开销只会只增不减！流处理器知道该如何利用缓冲的优势而不会带来任务调度方面的开销。&lt;/p&gt;&lt;h3&gt;4. 误解4：Exactly-Once？完全不可能&lt;/h3&gt;&lt;p&gt;这个误解包含了如下几个方面的内容：&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;在现实中 Exactly-once 语义是不可能的&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Exactly-once 语义不可能是端到端的&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Exactly-once 语义从来都不是现实世界的需求&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Exactly-once 语义是以牺牲性能为代价的&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;之前 Exactly-Once 仅指 Exactly-Once Delivery，而现在这个词被随意用在流处理里，使得这两个词比以前更容易混淆，也失去了它原本的意义。不过，相关概念仍然很重要，因此我们不会完全跳过它。为了尽可能准确，我们将 Exactly-Once 拆分为状态的 Exactly-Once 和传递的 Exactly-Once。&lt;/p&gt;&lt;p&gt;由于之前人们对这两个词的错误使用导致了这两个不同概念的混淆。例如，Apache Storm 使用 At-Least-Once 来描述传递(Storm 不支持状态)，而 Apache Samza 使用 At-Least-Once 来描述应用状态。&lt;/p&gt;&lt;p&gt;状态 Exactly-once 意味着发生故障后，应用程序状态就像没有发生故障一样。例如，我们在维护一个计数器应用程序，在发生故障后，既不会多计数也不能少计数。在这种情况下使用 Exactly-Once 这个词是因为应用程序状态中每条消息都只处理了一次。传递 Exactly-once 意味着发生故障后，接收方（应用程序之外的某个系统）接收到处理后的事件就好像没有发生故障一样。&lt;/p&gt;&lt;p&gt;虽然流处理框架不可能在每个场景中保证传递的 Exactly-once，但可以做到状态的 Exactly-once。Flink 可以做到状态的 Exactly-once，并不会对性能造成显著影响。与 Flink 的 Checkpoint 配合，还能实现 Sink 上的传递 Exactly-once 语义保证。Flink Checkpoint 是应用程序状态的周期性、异步和一致的快照。这就是 Flink 在发生故障时仍然能保证状态 Exactly-once 的原因：Flink 会定时记录（快照）输入流的读取位置和每个算子的相关状态。如果发生故障，Flink 就会回滚到之前的状态，并重新开始计算。&lt;/p&gt;&lt;p&gt;因此，即使重放记录，结果状态中记录也好像只处理了一次。那么端到端的 Exactly-once 处理呢？可以通过让 Checkpoint 兼具事务协调机制来实现，换句话说，就是让 Source 和 Sink 算子参与到 Checkpoint 里来。在框架内部，结果是 Exactly-once 的，从端到端来看，也是 Exactly-once 的，或者说接近一次性。例如，在使用 Kafka 作为 Source，滚动文件(HDFS)作为 Sink 时，从 Kafka 到 HDFS 可以实现端到端的 Exactly-once 处理。类似地，Kafka 作为 Source，Cassandra 作为 Sink 时，如果对 Cassandra 做幂等更新时，那么就可以实现端到端的 Exactly-once 处理。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.26824034334763946&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/nKovjAe6Lros5vgmrlcorGHoxEVAFRnsvjsLTgQhQAHHdW4Psjm4WhVUKZjQzqo1SlepicBFj6Vibg8XjHVNaoVA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;932&quot;/&gt;&lt;/p&gt;&lt;h3&gt;5. 误解5：流处理只能被应用在’实时’场景里&lt;br/&gt;&lt;/h3&gt;&lt;p&gt;这个误解包括如下几个方面的内容：&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;我没有低延迟的应用，所以我不需要流处理器&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;流处理只跟那些持久化之前的过渡数据有关系&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;我们需要批处理器来完成笨重的离线计算&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;现在是时候思考一下数据集类型与执行模型类型之间的关系了。有两种数据集&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;无限：连续产生的数据，没有终点&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;有限：有限且完整的数据&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;事实上，许多现实世界的数据集是无限数据集。无论数据存储在 HDFS 上的文件或者目录中，还是存储在 Apache Kafka 等基于日志的系统中，都是如此。有如下示例：&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;用户与移动设备或网站的交互&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;物理传感器提供的测量数据&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;金融市场数据&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;机器日志数据&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;实际上，在现实世界中很难找到一个有限数据集，不过一个公司的大楼位置信息倒是有限的（不过它也会随着公司业务的增长而变化）。其次，有两种处理模型：&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;流处理：只要有数据生成就会一直处理&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;批处理：在有限的时间内运行完处理，并释放资源&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;让我们再深入一点，有两种无限数据集：连续流(有连续到达数据的流)和间歇流(周期性到达数据的流)。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.46025641025641023&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/nKovjAe6Lros5vgmrlcorGHoxEVAFRnsLv0yianicvaAPNFTJXWxzeW4wnohiaBlNSVXW5kATUKzhPBgkNfs7qgCA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;780&quot;/&gt;&lt;/p&gt;&lt;p&gt;使用任意一种模型来处理任意一种数据集都是完全可能的，尽管不一定是最优的做法。例如，批处理模型一直被应用在无限数据集上，特别是间歇性的无限数据集。现实情况是，大多数批处理任务是通过调度来执行的，每次只处理无限数据集的一小部分。这意味着流的无限特性会给某些人带来麻烦。&lt;/p&gt;&lt;p&gt;批处理给人的印象是无状态的，因为输出只取决于输入。现实情况是，批处理作业会在内部保留状态（比如 Reducer 经常会保留状态），但这些状态只局限在一个批次内，无法跨多个批次处理关联事件。一旦用户尝试实现事件时间窗口这样简单的东西时，’状态限制在一个批次内’就很重要了，这是处理无限数据集常用的方法。处理无限数据集的批处理器不可避免地遇到迟到事件(因为上游的延迟)，批次内的数据有可能因此变得不完整。需要注意的是，这里我们假设是基于事件时间生成窗口，因为事件时间是现实当中最为准确的模型。在执行批处理的时候，即使是简单的固定窗口(比如翻转或滑动窗口)在遇到迟到数据时也会出现问题，当使用会话窗口时更难以处理。如果完成一个计算所需要的数据不在一个批次里，那么在使用批次处理无限数据集时，就很难得到正确的结果。最起码，需要额外的开销来处理迟到的数据，还要维护批次之间的状态(要等到所有数据达到后才开始处理，或者重新处理批次)。Flink 内置了处理迟到数据的机制，在现实世界中处理无限数据时，迟到数据一种很正常的现象，因此，精心设计的流处理器将提供简单的工具来处理迟到数据。&lt;/p&gt;&lt;h3&gt;6. 误解6：不管怎么样，流太复杂了&lt;/h3&gt;&lt;p&gt;我们到了最后阶段，在这个阶段你会想’这听起来很棒，但我仍然不会使用流处理，因为……’：&lt;/p&gt;&lt;p&gt;我们永远不会仅仅因为我们认为流处理很酷就怂恿你使用流处理。相反，我们认为使用流处理的决定最终应该取决于你的数据的性质和代码的性质。在做决定之前问问自己：’我现在使用什么类型的数据集？’&lt;/p&gt;&lt;p&gt;然后再问另一个问题：”什么变更最频繁？”&lt;/p&gt;&lt;p&gt;如果你的数据比代码变更更频繁，例如，在经常变化的数据集上执行一个相对固定的查询操作，我们认为你有流的问题。所以，在认定流是一个”复杂”的东西之前，你可能在不知不觉中已经解决过流方面的问题！你可能使用过基于小时的批次任务调度（在这种情况下，由于批次的时间问题和之前提过的状态问题，你得到的结果可能是不准确的，你可能都没意识到这点）。&lt;/p&gt;&lt;p&gt;Flink 社区长期以来一直致力于提供更高级别的 API，以抽象出更多复杂的时间和状态。例如，在 Flink 中处理事件时间就像定义一个时间窗口和一个提取时间戳和 Watermark 的函数一样简单（每个流只需执行一次）。处理状态就像在 Java 程序中定义变量并将它们注册到 Flink 一样简单。Flink 的 StreamSQL 等努力可以让你在永无止境的流上运行 SQL 查询。&lt;/p&gt;&lt;p&gt;完成思考练习：如果你的代码比数据变更更频繁怎么办？在这种情况下，我们认为你遇到了探索性问题。使用笔记本或其他类似的迭代工具可能非常适合解决探索问题。但是，一旦你的代码稳定下来，你就会遇到流处理问题。我们建议你从一开始就开始思考流处理的长期解决方案。&lt;/p&gt;&lt;h3&gt;7. 流处理的未来&lt;/h3&gt;&lt;p&gt;随着流处理的日渐成熟，这些误解在日常讨论中也变得越来越少，我们发现流正朝着除分析应用之外的领域发展。正如我们所讨论的那样，真实世界正连续不断地生成数据。传统上，这种连续的数据流必须中断处理，数据要么集中收集在一个地方，要么分批次切割，以便应用程序与之交互。&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzI0OTYwNTQ4Ng==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/nKovjAe6LrpVR0GEQn2UGOvBUCta35aF6ibVFvTR0fFPE83DrdKGl8v2sCTVbYNJPnun6Yftg1OAlMJ94kxzgyg/0?wx_fmt=png&quot; data-nickname=&quot;大数据生态&quot; data-alias=&quot;big_data_ecosphere&quot; data-signature=&quot;火爆数年的大数据圈，让很多人还没弄懂大数据是什么，就已然身处其中。该订阅号对大数据行业中的各个领域进行梳理，有助于业内人士了解大数据生态圈。&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;原文:Stream Processing Myths Debunked&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>